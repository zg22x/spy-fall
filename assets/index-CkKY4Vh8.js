(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var Of={exports:{}},yl={};var f_;function pS(){if(f_)return yl;f_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var h_;function gS(){return h_||(h_=1,Of.exports=pS()),Of.exports}var w=gS(),Df={exports:{}},J={};var d_;function _S(){if(d_)return J;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,he={};function Ee(T,k,B){this.props=T,this.context=k,this.refs=he,this.updater=B||j}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(T,k){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,k,"setState")},Ee.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Ue(){}Ue.prototype=Ee.prototype;function Ae(T,k,B){this.props=T,this.context=k,this.refs=he,this.updater=B||j}var Ze=Ae.prototype=new Ue;Ze.constructor=Ae,Q(Ze,Ee.prototype),Ze.isPureReactComponent=!0;var kt=Array.isArray;function nt(){}var ne={H:null,A:null,T:null,S:null},pt=Object.prototype.hasOwnProperty;function Ut(T,k,B){var q=B.ref;return{$$typeof:a,type:T,key:k,ref:q!==void 0?q:null,props:B}}function Jn(T,k){return Ut(T.type,k,T.props)}function Lt(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function We(T){var k={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(B){return k[B]})}var gn=/\/+/g;function Je(T,k){return typeof T=="object"&&T!==null&&T.key!=null?We(""+T.key):k.toString(36)}function Ct(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(nt,nt):(T.status="pending",T.then(function(k){T.status==="pending"&&(T.status="fulfilled",T.value=k)},function(k){T.status==="pending"&&(T.status="rejected",T.reason=k)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,k,B,q,W){var te=typeof T;(te==="undefined"||te==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case a:case t:de=!0;break;case b:return de=T._init,O(de(T._payload),k,B,q,W)}}if(de)return W=W(T),de=q===""?"."+Je(T,0):q,kt(W)?(B="",de!=null&&(B=de.replace(gn,"$&/")+"/"),O(W,k,B,"",function(Cn){return Cn})):W!=null&&(Lt(W)&&(W=Jn(W,B+(W.key==null||T&&T.key===W.key?"":(""+W.key).replace(gn,"$&/")+"/")+de)),k.push(W)),1;de=0;var rt=q===""?".":q+":";if(kt(T))for(var ye=0;ye<T.length;ye++)q=T[ye],te=rt+Je(q,ye),de+=O(q,k,B,te,W);else if(ye=U(T),typeof ye=="function")for(T=ye.call(T),ye=0;!(q=T.next()).done;)q=q.value,te=rt+Je(q,ye++),de+=O(q,k,B,te,W);else if(te==="object"){if(typeof T.then=="function")return O(Ct(T),k,B,q,W);throw k=String(T),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(T,k,B){if(T==null)return T;var q=[],W=0;return O(T,q,"","",function(te){return k.call(B,te,W++)}),q}function Y(T){if(T._status===-1){var k=T._result;k=k(),k.then(function(B){(T._status===0||T._status===-1)&&(T._status=1,T._result=B)},function(B){(T._status===0||T._status===-1)&&(T._status=2,T._result=B)}),T._status===-1&&(T._status=0,T._result=k)}if(T._status===1)return T._result.default;throw T._result}var be=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Te={map:H,forEach:function(T,k,B){H(T,function(){k.apply(this,arguments)},B)},count:function(T){var k=0;return H(T,function(){k++}),k},toArray:function(T){return H(T,function(k){return k})||[]},only:function(T){if(!Lt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return J.Activity=v,J.Children=Te,J.Component=Ee,J.Fragment=i,J.Profiler=o,J.PureComponent=Ae,J.StrictMode=l,J.Suspense=g,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,J.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ne.H.useMemoCache(T)}},J.cache=function(T){return function(){return T.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(T,k,B){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var q=Q({},T.props),W=T.key;if(k!=null)for(te in k.key!==void 0&&(W=""+k.key),k)!pt.call(k,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&k.ref===void 0||(q[te]=k[te]);var te=arguments.length-2;if(te===1)q.children=B;else if(1<te){for(var de=Array(te),rt=0;rt<te;rt++)de[rt]=arguments[rt+2];q.children=de}return Ut(T.type,W,q)},J.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},J.createElement=function(T,k,B){var q,W={},te=null;if(k!=null)for(q in k.key!==void 0&&(te=""+k.key),k)pt.call(k,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=k[q]);var de=arguments.length-2;if(de===1)W.children=B;else if(1<de){for(var rt=Array(de),ye=0;ye<de;ye++)rt[ye]=arguments[ye+2];W.children=rt}if(T&&T.defaultProps)for(q in de=T.defaultProps,de)W[q]===void 0&&(W[q]=de[q]);return Ut(T,te,W)},J.createRef=function(){return{current:null}},J.forwardRef=function(T){return{$$typeof:m,render:T}},J.isValidElement=Lt,J.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:Y}},J.memo=function(T,k){return{$$typeof:p,type:T,compare:k===void 0?null:k}},J.startTransition=function(T){var k=ne.T,B={};ne.T=B;try{var q=T(),W=ne.S;W!==null&&W(B,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(nt,be)}catch(te){be(te)}finally{k!==null&&B.types!==null&&(k.types=B.types),ne.T=k}},J.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},J.use=function(T){return ne.H.use(T)},J.useActionState=function(T,k,B){return ne.H.useActionState(T,k,B)},J.useCallback=function(T,k){return ne.H.useCallback(T,k)},J.useContext=function(T){return ne.H.useContext(T)},J.useDebugValue=function(){},J.useDeferredValue=function(T,k){return ne.H.useDeferredValue(T,k)},J.useEffect=function(T,k){return ne.H.useEffect(T,k)},J.useEffectEvent=function(T){return ne.H.useEffectEvent(T)},J.useId=function(){return ne.H.useId()},J.useImperativeHandle=function(T,k,B){return ne.H.useImperativeHandle(T,k,B)},J.useInsertionEffect=function(T,k){return ne.H.useInsertionEffect(T,k)},J.useLayoutEffect=function(T,k){return ne.H.useLayoutEffect(T,k)},J.useMemo=function(T,k){return ne.H.useMemo(T,k)},J.useOptimistic=function(T,k){return ne.H.useOptimistic(T,k)},J.useReducer=function(T,k,B){return ne.H.useReducer(T,k,B)},J.useRef=function(T){return ne.H.useRef(T)},J.useState=function(T){return ne.H.useState(T)},J.useSyncExternalStore=function(T,k,B){return ne.H.useSyncExternalStore(T,k,B)},J.useTransition=function(){return ne.H.useTransition()},J.version="19.2.4",J}var m_;function vh(){return m_||(m_=1,Df.exports=_S()),Df.exports}var Se=vh(),Mf={exports:{}},vl={},If={exports:{}},kf={};var p_;function yS(){return p_||(p_=1,(function(a){function t(O,H){var Y=O.length;O.push(H);e:for(;0<Y;){var be=Y-1>>>1,Te=O[be];if(0<o(Te,H))O[be]=H,O[Y]=Te,Y=be;else break e}}function i(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var H=O[0],Y=O.pop();if(Y!==H){O[0]=Y;e:for(var be=0,Te=O.length,T=Te>>>1;be<T;){var k=2*(be+1)-1,B=O[k],q=k+1,W=O[q];if(0>o(B,Y))q<Te&&0>o(W,B)?(O[be]=W,O[q]=Y,be=q):(O[be]=B,O[k]=Y,be=k);else if(q<Te&&0>o(W,Y))O[be]=W,O[q]=Y,be=q;else break e}}return H}function o(O,H){var Y=O.sortIndex-H.sortIndex;return Y!==0?Y:O.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,v=null,S=3,U=!1,j=!1,Q=!1,he=!1,Ee=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function Ze(O){for(var H=i(p);H!==null;){if(H.callback===null)l(p);else if(H.startTime<=O)l(p),H.sortIndex=H.expirationTime,t(g,H);else break;H=i(p)}}function kt(O){if(Q=!1,Ze(O),!j)if(i(g)!==null)j=!0,nt||(nt=!0,We());else{var H=i(p);H!==null&&Ct(kt,H.startTime-O)}}var nt=!1,ne=-1,pt=5,Ut=-1;function Jn(){return he?!0:!(a.unstable_now()-Ut<pt)}function Lt(){if(he=!1,nt){var O=a.unstable_now();Ut=O;var H=!0;try{e:{j=!1,Q&&(Q=!1,Ue(ne),ne=-1),U=!0;var Y=S;try{t:{for(Ze(O),v=i(g);v!==null&&!(v.expirationTime>O&&Jn());){var be=v.callback;if(typeof be=="function"){v.callback=null,S=v.priorityLevel;var Te=be(v.expirationTime<=O);if(O=a.unstable_now(),typeof Te=="function"){v.callback=Te,Ze(O),H=!0;break t}v===i(g)&&l(g),Ze(O)}else l(g);v=i(g)}if(v!==null)H=!0;else{var T=i(p);T!==null&&Ct(kt,T.startTime-O),H=!1}}break e}finally{v=null,S=Y,U=!1}H=void 0}}finally{H?We():nt=!1}}}var We;if(typeof Ae=="function")We=function(){Ae(Lt)};else if(typeof MessageChannel<"u"){var gn=new MessageChannel,Je=gn.port2;gn.port1.onmessage=Lt,We=function(){Je.postMessage(null)}}else We=function(){Ee(Lt,0)};function Ct(O,H){ne=Ee(function(){O(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(O){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var Y=S;S=H;try{return O()}finally{S=Y}},a.unstable_requestPaint=function(){he=!0},a.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=S;S=O;try{return H()}finally{S=Y}},a.unstable_scheduleCallback=function(O,H,Y){var be=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?be+Y:be):Y=be,O){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Y+Te,O={id:b++,callback:H,priorityLevel:O,startTime:Y,expirationTime:Te,sortIndex:-1},Y>be?(O.sortIndex=Y,t(p,O),i(g)===null&&O===i(p)&&(Q?(Ue(ne),ne=-1):Q=!0,Ct(kt,Y-be))):(O.sortIndex=Te,t(g,O),j||U||(j=!0,nt||(nt=!0,We()))),O},a.unstable_shouldYield=Jn,a.unstable_wrapCallback=function(O){var H=S;return function(){var Y=S;S=H;try{return O.apply(this,arguments)}finally{S=Y}}}})(kf)),kf}var g_;function vS(){return g_||(g_=1,If.exports=yS()),If.exports}var Uf={exports:{}},gt={};var __;function bS(){if(__)return gt;__=1;var a=vh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(g,p,null,b)},gt.flushSync=function(g){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=b,l.d.f()}},gt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},gt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},gt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:U}):b==="script"&&l.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},gt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},gt.requestFormReset=function(g){l.d.r(g)},gt.unstable_batchedUpdates=function(g,p){return g(p)},gt.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var y_;function SS(){if(y_)return Uf.exports;y_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Uf.exports=bS(),Uf.exports}var v_;function ES(){if(v_)return vl;v_=1;var a=vS(),t=vh(),i=SS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return g(c),e;if(u===r)return g(c),n;u=u.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=u;else{for(var d=!1,_=c.child;_;){if(_===s){d=!0,s=c,r=u;break}if(_===r){d=!0,r=c,s=u;break}_=_.sibling}if(!d){for(_=u.child;_;){if(_===s){d=!0,s=u,r=c;break}if(_===r){d=!0,r=u,s=c;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),Ae=Symbol.for("react.context"),Ze=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Ut=Symbol.for("react.activity"),Jn=Symbol.for("react.memo_cache_sentinel"),Lt=Symbol.iterator;function We(e){return e===null||typeof e!="object"?null:(e=Lt&&e[Lt]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Ee:return"Profiler";case he:return"StrictMode";case kt:return"Suspense";case nt:return"SuspenseList";case Ut:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case Ae:return e.displayName||"Context";case Ue:return(e._context.displayName||"Context")+".Consumer";case Ze:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:Je(e.type)||"Memo";case pt:n=e._payload,e=e._init;try{return Je(e(n))}catch{}}return null}var Ct=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},be=[],Te=-1;function T(e){return{current:e}}function k(e){0>Te||(e.current=be[Te],be[Te]=null,Te--)}function B(e,n){Te++,be[Te]=e.current,e.current=n}var q=T(null),W=T(null),te=T(null),de=T(null);function rt(e,n){switch(B(te,n),B(W,e),B(q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=kg(n),e=Ug(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(q),B(q,e)}function ye(){k(q),k(W),k(te)}function Cn(e){e.memoizedState!==null&&B(de,e);var n=q.current,s=Ug(n,e.type);n!==s&&(B(W,e),B(q,s))}function z(e){W.current===e&&(k(q),k(W)),de.current===e&&(k(de),ml._currentValue=Y)}var ue,K;function me(e){if(ue===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ue=n&&n[1]||"",K=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+e+K}var He=!1;function Xt(e,n){if(!e||He)return"";He=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var x=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){x=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){x=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&x&&typeof R.stack=="string")return[R.stack,x.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),d=u[0],_=u[1];if(d&&_){var y=d.split(`
`),N=_.split(`
`);for(c=r=0;r<y.length&&!y[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===y.length||c===N.length)for(r=y.length-1,c=N.length-1;1<=r&&0<=c&&y[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(y[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||y[r]!==N[c]){var D=`
`+y[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=c);break}}}finally{He=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?me(s):""}function mc(e,n){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me("Lazy");case 13:return e.child!==n&&n!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Xt(e.type,!1);case 11:return Xt(e.type.render,!1);case 1:return Xt(e.type,!0);case 31:return me("Activity");default:return""}}function qi(e){try{var n="",s=null;do n+=mc(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var _s=Object.prototype.hasOwnProperty,pc=a.unstable_scheduleCallback,gc=a.unstable_cancelCallback,F0=a.unstable_shouldYield,X0=a.unstable_requestPaint,zt=a.unstable_now,K0=a.unstable_getCurrentPriorityLevel,hd=a.unstable_ImmediatePriority,dd=a.unstable_UserBlockingPriority,tr=a.unstable_NormalPriority,Z0=a.unstable_LowPriority,md=a.unstable_IdlePriority,W0=a.log,J0=a.unstable_setDisableYieldValue,Aa=null,jt=null;function $n(e){if(typeof W0=="function"&&J0(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Aa,e)}catch{}}var Ht=Math.clz32?Math.clz32:tb,$0=Math.log,eb=Math.LN2;function tb(e){return e>>>=0,e===0?32:31-($0(e)/eb|0)|0}var nr=256,ir=262144,sr=4194304;function Vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ar(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=Vi(r):(d&=_,d!==0?c=Vi(d):s||(s=_&~e,s!==0&&(c=Vi(s))))):(_=r&~u,_!==0?c=Vi(_):d!==0?c=Vi(d):s||(s=r&~e,s!==0&&(c=Vi(s)))),c===0?0:n!==0&&n!==c&&(n&u)===0&&(u=c&-c,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:c}function Na(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var e=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),e}function _c(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function xa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ib(e,n,s,r,c,u){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(s=d&~s;0<s;){var D=31-Ht(s),I=1<<D;_[D]=0,y[D]=-1;var x=N[D];if(x!==null)for(N[D]=null,D=0;D<x.length;D++){var R=x[D];R!==null&&(R.lane&=-536870913)}s&=~I}r!==0&&gd(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~n))}function gd(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ht(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function _d(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Ht(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function yd(e,n){var s=n&-n;return s=(s&42)!==0?1:yc(s),(s&(e.suspendedLanes|n))!==0?0:s}function yc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function bd(e,n){var s=H.p;try{return H.p=e,n()}finally{H.p=s}}var ei=Math.random().toString(36).slice(2),ot="__reactFiber$"+ei,wt="__reactProps$"+ei,ys="__reactContainer$"+ei,bc="__reactEvents$"+ei,sb="__reactListeners$"+ei,ab="__reactHandles$"+ei,Sd="__reactResources$"+ei,Ra="__reactMarker$"+ei;function Sc(e){delete e[ot],delete e[wt],delete e[bc],delete e[sb],delete e[ab]}function vs(e){var n=e[ot];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ys]||s[ot]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vg(e);e!==null;){if(s=e[ot])return s;e=Vg(e)}return n}e=s,s=e.parentNode}return null}function bs(e){if(e=e[ot]||e[ys]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Oa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function Ss(e){var n=e[Sd];return n||(n=e[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Ra]=!0}var Ed=new Set,Td={};function Gi(e,n){Es(e,n),Es(e+"Capture",n)}function Es(e,n){for(Td[e]=n,e=0;e<n.length;e++)Ed.add(n[e])}var lb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},wd={};function rb(e){return _s.call(wd,e)?!0:_s.call(Cd,e)?!1:lb.test(e)?wd[e]=!0:(Cd[e]=!0,!1)}function lr(e,n,s){if(rb(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function rr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function wn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ad(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ob(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){s=""+d,u.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ec(e){if(!e._valueTracker){var n=Ad(e)?"checked":"value";e._valueTracker=ob(e,n,""+e[n])}}function Nd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Ad(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cb=/[\n"\\]/g;function Zt(e){return e.replace(cb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tc(e,n,s,r,c,u,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?Cc(e,d,Kt(n)):s!=null?Cc(e,d,Kt(s)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Kt(_):e.removeAttribute("name")}function xd(e,n,s,r,c,u,d,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){Ec(e);return}s=s!=null?""+Kt(s):"",n=n!=null?""+Kt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Ec(e)}function Cc(e,n,s){n==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Kt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Rd(e,n,s){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Kt(s):""}function Od(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Ct(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Kt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Ec(e)}function Cs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ub=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||ub.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Md(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Dd(e,c,r)}else for(var u in n)n.hasOwnProperty(u)&&Dd(e,u,n[u])}function wc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return hb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var Ac=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,As=null;function Id(e){var n=bs(e);if(n&&(e=n.stateNode)){var s=e[wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Tc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[wt]||null;if(!c)throw Error(l(90));Tc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Nd(r)}break e;case"textarea":Rd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ts(e,!!s.multiple,n,!1)}}}var xc=!1;function kd(e,n,s){if(xc)return e(n,s);xc=!0;try{var r=e(n);return r}finally{if(xc=!1,(ws!==null||As!==null)&&(Zr(),ws&&(n=ws,e=As,As=ws=null,Id(n),e)))for(n=0;n<e.length;n++)Id(e[n])}}function Da(e,n){var s=e.stateNode;if(s===null)return null;var r=s[wt]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=!1;if(Nn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Rc=!1}var ti=null,Oc=null,ur=null;function Ud(){if(ur)return ur;var e,n=Oc,s=n.length,r,c="value"in ti?ti.value:ti.textContent,u=c.length;for(e=0;e<s&&n[e]===c[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===c[u-r];r++);return ur=c.slice(e,1<r?1-r:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Ld(){return!1}function At(e){function n(s,r,c,u,d){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?hr:Ld,this.isPropagationStopped=Ld,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=At(Pi),Ia=v({},Pi,{view:0,detail:0}),db=At(Ia),Dc,Mc,ka,mr=v({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Dc=e.screenX-ka.screenX,Mc=e.screenY-ka.screenY):Mc=Dc=0,ka=e),Dc)},movementY:function(e){return"movementY"in e?e.movementY:Mc}}),zd=At(mr),mb=v({},mr,{dataTransfer:0}),pb=At(mb),gb=v({},Ia,{relatedTarget:0}),Ic=At(gb),_b=v({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),yb=At(_b),vb=v({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bb=At(vb),Sb=v({},Pi,{data:0}),jd=At(Sb),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cb[e])?!!n[e]:!1}function kc(){return wb}var Ab=v({},Ia,{key:function(e){if(e.key){var n=Eb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nb=At(Ab),xb=v({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=At(xb),Rb=v({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),Ob=At(Rb),Db=v({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mb=At(Db),Ib=v({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=At(Ib),Ub=v({},Pi,{newState:0,oldState:0}),Lb=At(Ub),zb=[9,13,27,32],Uc=Nn&&"CompositionEvent"in window,Ua=null;Nn&&"documentMode"in document&&(Ua=document.documentMode);var jb=Nn&&"TextEvent"in window&&!Ua,Bd=Nn&&(!Uc||Ua&&8<Ua&&11>=Ua),qd=" ",Vd=!1;function Gd(e,n){switch(e){case"keyup":return zb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function Hb(e,n){switch(e){case"compositionend":return Pd(n);case"keypress":return n.which!==32?null:(Vd=!0,qd);case"textInput":return e=n.data,e===qd&&Vd?null:e;default:return null}}function Bb(e,n){if(Ns)return e==="compositionend"||!Uc&&Gd(e,n)?(e=Ud(),ur=Oc=ti=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qb[e.type]:n==="textarea"}function Qd(e,n,s,r){ws?As?As.push(r):As=[r]:ws=r,n=io(n,"onChange"),0<n.length&&(s=new dr("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var La=null,za=null;function Vb(e){xg(e,0)}function pr(e){var n=Oa(e);if(Nd(n))return e}function Fd(e,n){if(e==="change")return n}var Xd=!1;if(Nn){var Lc;if(Nn){var zc="oninput"in document;if(!zc){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),zc=typeof Kd.oninput=="function"}Lc=zc}else Lc=!1;Xd=Lc&&(!document.documentMode||9<document.documentMode)}function Zd(){La&&(La.detachEvent("onpropertychange",Wd),za=La=null)}function Wd(e){if(e.propertyName==="value"&&pr(za)){var n=[];Qd(n,za,e,Nc(e)),kd(Vb,n)}}function Gb(e,n,s){e==="focusin"?(Zd(),La=n,za=s,La.attachEvent("onpropertychange",Wd)):e==="focusout"&&Zd()}function Pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(za)}function Yb(e,n){if(e==="click")return pr(n)}function Qb(e,n){if(e==="input"||e==="change")return pr(n)}function Fb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bt=typeof Object.is=="function"?Object.is:Fb;function ja(e,n){if(Bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!_s.call(n,c)||!Bt(e[c],n[c]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,n){var s=Jd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jd(s)}}function em(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?em(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=or(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=or(e.document)}return n}function jc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Xb=Nn&&"documentMode"in document&&11>=document.documentMode,xs=null,Hc=null,Ha=null,Bc=!1;function nm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bc||xs==null||xs!==or(r)||(r=xs,"selectionStart"in r&&jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&ja(Ha,r)||(Ha=r,r=io(Hc,"onSelect"),0<r.length&&(n=new dr("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=xs)))}function Yi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Rs={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},qc={},im={};Nn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Qi(e){if(qc[e])return qc[e];if(!Rs[e])return e;var n=Rs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in im)return qc[e]=n[s];return e}var sm=Qi("animationend"),am=Qi("animationiteration"),lm=Qi("animationstart"),Kb=Qi("transitionrun"),Zb=Qi("transitionstart"),Wb=Qi("transitioncancel"),rm=Qi("transitionend"),om=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function on(e,n){om.set(e,n),Gi(n,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Os=0,Gc=0;function _r(){for(var e=Os,n=Gc=Os=0;n<e;){var s=Wt[n];Wt[n++]=null;var r=Wt[n];Wt[n++]=null;var c=Wt[n];Wt[n++]=null;var u=Wt[n];if(Wt[n++]=null,r!==null&&c!==null){var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}u!==0&&cm(s,c,u)}}function yr(e,n,s,r){Wt[Os++]=e,Wt[Os++]=n,Wt[Os++]=s,Wt[Os++]=r,Gc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Pc(e,n,s,r){return yr(e,n,s,r),vr(e)}function Fi(e,n){return yr(e,null,null,n),vr(e)}function cm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,u=e.return;u!==null;)u.childLanes|=s,r=u.alternate,r!==null&&(r.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&n!==null&&(c=31-Ht(s),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),u):null}function vr(e){if(50<rl)throw rl=0,$u=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ds={};function Jb(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,n,s,r){return new Jb(e,n,s,r)}function Yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,n){var s=e.alternate;return s===null?(s=qt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function um(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function br(e,n,s,r,c,u){var d=0;if(r=e,typeof e=="function")Yc(e)&&(d=1);else if(typeof e=="string")d=iS(e,s,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ut:return e=qt(31,s,n,c),e.elementType=Ut,e.lanes=u,e;case Q:return Xi(s.children,c,u,n);case he:d=8,c|=24;break;case Ee:return e=qt(12,s,n,c|2),e.elementType=Ee,e.lanes=u,e;case kt:return e=qt(13,s,n,c),e.elementType=kt,e.lanes=u,e;case nt:return e=qt(19,s,n,c),e.elementType=nt,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ae:d=10;break e;case Ue:d=9;break e;case Ze:d=11;break e;case ne:d=14;break e;case pt:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=qt(d,s,n,c),n.elementType=e,n.type=r,n.lanes=u,n}function Xi(e,n,s,r){return e=qt(7,e,r,n),e.lanes=s,e}function Qc(e,n,s){return e=qt(6,e,null,n),e.lanes=s,e}function fm(e){var n=qt(18,null,null,0);return n.stateNode=e,n}function Fc(e,n,s){return n=qt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hm=new WeakMap;function Jt(e,n){if(typeof e=="object"&&e!==null){var s=hm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:qi(n)},hm.set(e,n),n)}return{value:e,source:n,stack:qi(n)}}var Ms=[],Is=0,Sr=null,Ba=0,$t=[],en=0,ni=null,_n=1,yn="";function Rn(e,n){Ms[Is++]=Ba,Ms[Is++]=Sr,Sr=e,Ba=n}function dm(e,n,s){$t[en++]=_n,$t[en++]=yn,$t[en++]=ni,ni=e;var r=_n;e=yn;var c=32-Ht(r)-1;r&=~(1<<c),s+=1;var u=32-Ht(n)+c;if(30<u){var d=c-c%5;u=(r&(1<<d)-1).toString(32),r>>=d,c-=d,_n=1<<32-Ht(n)+c|s<<c|r,yn=u+e}else _n=1<<u|s<<c|r,yn=e}function Xc(e){e.return!==null&&(Rn(e,1),dm(e,1,0))}function Kc(e){for(;e===Sr;)Sr=Ms[--Is],Ms[Is]=null,Ba=Ms[--Is],Ms[Is]=null;for(;e===ni;)ni=$t[--en],$t[en]=null,yn=$t[--en],$t[en]=null,_n=$t[--en],$t[en]=null}function mm(e,n){$t[en++]=_n,$t[en++]=yn,$t[en++]=ni,_n=n.id,yn=n.overflow,ni=e}var ct=null,Le=null,fe=!1,ii=null,tn=!1,Zc=Error(l(519));function si(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qa(Jt(n,e)),Zc}function pm(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[ot]=e,n[wt]=r,s){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)le(cl[s],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":le("invalid",n),xd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":le("invalid",n);break;case"textarea":le("invalid",n),Od(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Mg(n.textContent,s)?(r.popover!=null&&(le("beforetoggle",n),le("toggle",n)),r.onScroll!=null&&le("scroll",n),r.onScrollEnd!=null&&le("scrollend",n),r.onClick!=null&&(n.onclick=An),n=!0):n=!1,n||si(e,!0)}function gm(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:ct=ct.return}}function ks(e){if(e!==ct)return!1;if(!fe)return gm(e),fe=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pf(e.type,e.memoizedProps)),s=!s),s&&Le&&si(e),gm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else n===27?(n=Le,yi(e.type)?(e=bf,bf=null,Le=e):Le=n):Le=ct?sn(e.stateNode.nextSibling):null;return!0}function Ki(){Le=ct=null,fe=!1}function Wc(){var e=ii;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),ii=null),e}function qa(e){ii===null?ii=[e]:ii.push(e)}var Jc=T(null),Zi=null,On=null;function ai(e,n,s){B(Jc,n._currentValue),n._currentValue=s}function Dn(e){e._currentValue=Jc.current,k(Jc)}function $c(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function eu(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var d=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var y=0;y<n.length;y++)if(_.context===n[y]){u.lanes|=s,_=u.alternate,_!==null&&(_.lanes|=s),$c(u.return,s,e),r||(d=null);break e}u=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(l(341));d.lanes|=s,u=d.alternate,u!==null&&(u.lanes|=s),$c(d,s,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function Us(e,n,s,r){e=null;for(var c=n,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=c.type;Bt(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===de.current){if(d=c.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}c=c.return}e!==null&&eu(n,e,s,r),n.flags|=262144}function Er(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Zi=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return _m(Zi,e)}function Tr(e,n){return Zi===null&&Wi(e),_m(e,n)}function _m(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},On===null){if(e===null)throw Error(l(308));On=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else On=On.next=n;return s}var $b=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},e1=a.unstable_scheduleCallback,t1=a.unstable_NormalPriority,Qe={$$typeof:Ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new $b,data:new Map,refCount:0}}function Va(e){e.refCount--,e.refCount===0&&e1(t1,function(){e.controller.abort()})}var Ga=null,nu=0,Ls=0,zs=null;function n1(e,n){if(Ga===null){var s=Ga=[];nu=0,Ls=lf(),zs={status:"pending",value:void 0,then:function(r){s.push(r)}}}return nu++,n.then(ym,ym),n}function ym(){if(--nu===0&&Ga!==null){zs!==null&&(zs.status="fulfilled");var e=Ga;Ga=null,Ls=0,zs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var vm=O.S;O.S=function(e,n){ng=zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),vm!==null&&vm(e,n)};var Ji=T(null);function iu(){var e=Ji.current;return e!==null?e:Me.pooledCache}function Cr(e,n){n===null?B(Ji,Ji.current):B(Ji,n.pool)}function bm(){var e=iu();return e===null?null:{parent:Qe._currentValue,pool:e}}var js=Error(l(460)),su=Error(l(474)),wr=Error(l(542)),Ar={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Em(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(An,An),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e;default:if(typeof n.status=="string")n.then(An,An);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e}throw es=n,js}}function $i(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(es=s,js):s}}var es=null;function Tm(){if(es===null)throw Error(l(459));var e=es;return es=null,e}function Cm(e){if(e===js||e===wr)throw Error(l(483))}var Hs=null,Pa=0;function Nr(e){var n=Pa;return Pa+=1,Hs===null&&(Hs=[]),Em(Hs,e,n)}function Ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xr(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wm(e){function n(C,E){if(e){var A=C.deletions;A===null?(C.deletions=[E],C.flags|=16):A.push(E)}}function s(C,E){if(!e)return null;for(;E!==null;)n(C,E),E=E.sibling;return null}function r(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function c(C,E){return C=xn(C,E),C.index=0,C.sibling=null,C}function u(C,E,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<E?(C.flags|=67108866,E):A):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,E,A,M){return E===null||E.tag!==6?(E=Qc(A,C.mode,M),E.return=C,E):(E=c(E,A),E.return=C,E)}function y(C,E,A,M){var P=A.type;return P===Q?D(C,E,A.props.children,M,A.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pt&&$i(P)===E.type)?(E=c(E,A.props),Ya(E,A),E.return=C,E):(E=br(A.type,A.key,A.props,null,C.mode,M),Ya(E,A),E.return=C,E)}function N(C,E,A,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Fc(A,C.mode,M),E.return=C,E):(E=c(E,A.children||[]),E.return=C,E)}function D(C,E,A,M,P){return E===null||E.tag!==7?(E=Xi(A,C.mode,M,P),E.return=C,E):(E=c(E,A),E.return=C,E)}function I(C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Qc(""+E,C.mode,A),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case U:return A=br(E.type,E.key,E.props,null,C.mode,A),Ya(A,E),A.return=C,A;case j:return E=Fc(E,C.mode,A),E.return=C,E;case pt:return E=$i(E),I(C,E,A)}if(Ct(E)||We(E))return E=Xi(E,C.mode,A,null),E.return=C,E;if(typeof E.then=="function")return I(C,Nr(E),A);if(E.$$typeof===Ae)return I(C,Tr(C,E),A);xr(C,E)}return null}function x(C,E,A,M){var P=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return P!==null?null:_(C,E,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===P?y(C,E,A,M):null;case j:return A.key===P?N(C,E,A,M):null;case pt:return A=$i(A),x(C,E,A,M)}if(Ct(A)||We(A))return P!==null?null:D(C,E,A,M,null);if(typeof A.then=="function")return x(C,E,Nr(A),M);if(A.$$typeof===Ae)return x(C,E,Tr(C,A),M);xr(C,A)}return null}function R(C,E,A,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,_(E,C,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return C=C.get(M.key===null?A:M.key)||null,y(E,C,M,P);case j:return C=C.get(M.key===null?A:M.key)||null,N(E,C,M,P);case pt:return M=$i(M),R(C,E,A,M,P)}if(Ct(M)||We(M))return C=C.get(A)||null,D(E,C,M,P,null);if(typeof M.then=="function")return R(C,E,A,Nr(M),P);if(M.$$typeof===Ae)return R(C,E,A,Tr(E,M),P);xr(E,M)}return null}function V(C,E,A,M){for(var P=null,pe=null,G=E,ee=E=0,ce=null;G!==null&&ee<A.length;ee++){G.index>ee?(ce=G,G=null):ce=G.sibling;var ge=x(C,G,A[ee],M);if(ge===null){G===null&&(G=ce);break}e&&G&&ge.alternate===null&&n(C,G),E=u(ge,E,ee),pe===null?P=ge:pe.sibling=ge,pe=ge,G=ce}if(ee===A.length)return s(C,G),fe&&Rn(C,ee),P;if(G===null){for(;ee<A.length;ee++)G=I(C,A[ee],M),G!==null&&(E=u(G,E,ee),pe===null?P=G:pe.sibling=G,pe=G);return fe&&Rn(C,ee),P}for(G=r(G);ee<A.length;ee++)ce=R(G,C,ee,A[ee],M),ce!==null&&(e&&ce.alternate!==null&&G.delete(ce.key===null?ee:ce.key),E=u(ce,E,ee),pe===null?P=ce:pe.sibling=ce,pe=ce);return e&&G.forEach(function(Ti){return n(C,Ti)}),fe&&Rn(C,ee),P}function F(C,E,A,M){if(A==null)throw Error(l(151));for(var P=null,pe=null,G=E,ee=E=0,ce=null,ge=A.next();G!==null&&!ge.done;ee++,ge=A.next()){G.index>ee?(ce=G,G=null):ce=G.sibling;var Ti=x(C,G,ge.value,M);if(Ti===null){G===null&&(G=ce);break}e&&G&&Ti.alternate===null&&n(C,G),E=u(Ti,E,ee),pe===null?P=Ti:pe.sibling=Ti,pe=Ti,G=ce}if(ge.done)return s(C,G),fe&&Rn(C,ee),P;if(G===null){for(;!ge.done;ee++,ge=A.next())ge=I(C,ge.value,M),ge!==null&&(E=u(ge,E,ee),pe===null?P=ge:pe.sibling=ge,pe=ge);return fe&&Rn(C,ee),P}for(G=r(G);!ge.done;ee++,ge=A.next())ge=R(G,C,ee,ge.value,M),ge!==null&&(e&&ge.alternate!==null&&G.delete(ge.key===null?ee:ge.key),E=u(ge,E,ee),pe===null?P=ge:pe.sibling=ge,pe=ge);return e&&G.forEach(function(mS){return n(C,mS)}),fe&&Rn(C,ee),P}function Re(C,E,A,M){if(typeof A=="object"&&A!==null&&A.type===Q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var P=A.key;E!==null;){if(E.key===P){if(P=A.type,P===Q){if(E.tag===7){s(C,E.sibling),M=c(E,A.props.children),M.return=C,C=M;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pt&&$i(P)===E.type){s(C,E.sibling),M=c(E,A.props),Ya(M,A),M.return=C,C=M;break e}s(C,E);break}else n(C,E);E=E.sibling}A.type===Q?(M=Xi(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=br(A.type,A.key,A.props,null,C.mode,M),Ya(M,A),M.return=C,C=M)}return d(C);case j:e:{for(P=A.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){s(C,E.sibling),M=c(E,A.children||[]),M.return=C,C=M;break e}else{s(C,E);break}else n(C,E);E=E.sibling}M=Fc(A,C.mode,M),M.return=C,C=M}return d(C);case pt:return A=$i(A),Re(C,E,A,M)}if(Ct(A))return V(C,E,A,M);if(We(A)){if(P=We(A),typeof P!="function")throw Error(l(150));return A=P.call(A),F(C,E,A,M)}if(typeof A.then=="function")return Re(C,E,Nr(A),M);if(A.$$typeof===Ae)return Re(C,E,Tr(C,A),M);xr(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(s(C,E.sibling),M=c(E,A),M.return=C,C=M):(s(C,E),M=Qc(A,C.mode,M),M.return=C,C=M),d(C)):s(C,E)}return function(C,E,A,M){try{Pa=0;var P=Re(C,E,A,M);return Hs=null,P}catch(G){if(G===js||G===wr)throw G;var pe=qt(29,G,null,C.mode);return pe.lanes=M,pe.return=C,pe}}}var ts=wm(!0),Am=wm(!1),li=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oi(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ve&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=vr(e),cm(e,null,s),n}return yr(e,r,n,s),vr(e)}function Qa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}function ru(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=d:u=u.next=d,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ou=!1;function Fa(){if(ou){var e=zs;if(e!==null)throw e}}function Xa(e,n,s,r){ou=!1;var c=e.updateQueue;li=!1;var u=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var y=_,N=y.next;y.next=null,d===null?u=N:d.next=N,d=y;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==d&&(_===null?D.firstBaseUpdate=N:_.next=N,D.lastBaseUpdate=y))}if(u!==null){var I=c.baseState;d=0,D=N=y=null,_=u;do{var x=_.lane&-536870913,R=x!==_.lane;if(R?(oe&x)===x:(r&x)===x){x!==0&&x===Ls&&(ou=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var V=e,F=_;x=n;var Re=s;switch(F.tag){case 1:if(V=F.payload,typeof V=="function"){I=V.call(Re,I,x);break e}I=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=F.payload,x=typeof V=="function"?V.call(Re,I,x):V,x==null)break e;I=v({},I,x);break e;case 2:li=!0}}x=_.callback,x!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[x]:R.push(x))}else R={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(N=D=R,y=I):D=D.next=R,d|=x;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);D===null&&(y=I),c.baseState=y,c.firstBaseUpdate=N,c.lastBaseUpdate=D,u===null&&(c.shared.lanes=0),di|=d,e.lanes=d,e.memoizedState=I}}function Nm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function xm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Nm(s[e],n)}var Bs=T(null),Rr=T(0);function Rm(e,n){e=Bn,B(Rr,e),B(Bs,n),Bn=e|n.baseLanes}function cu(){B(Rr,Bn),B(Bs,Bs.current)}function uu(){Bn=Rr.current,k(Bs),k(Rr)}var Vt=T(null),nn=null;function ci(e){var n=e.alternate;B(Pe,Pe.current&1),B(Vt,e),nn===null&&(n===null||Bs.current!==null||n.memoizedState!==null)&&(nn=e)}function fu(e){B(Pe,Pe.current),B(Vt,e),nn===null&&(nn=e)}function Om(e){e.tag===22?(B(Pe,Pe.current),B(Vt,e),nn===null&&(nn=e)):ui()}function ui(){B(Pe,Pe.current),B(Vt,Vt.current)}function Gt(e){k(Vt),nn===e&&(nn=null),k(Pe)}var Pe=T(0);function Or(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yf(s)||vf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mn=0,$=null,Ne=null,Fe=null,Dr=!1,qs=!1,ns=!1,Mr=0,Ka=0,Vs=null,s1=0;function Be(){throw Error(l(321))}function hu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Bt(e[s],n[s]))return!1;return!0}function du(e,n,s,r,c,u){return Mn=u,$=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?dp:xu,ns=!1,u=s(r,c),ns=!1,qs&&(u=Mm(n,s,r,c)),Dm(e),u}function Dm(e){O.H=Ja;var n=Ne!==null&&Ne.next!==null;if(Mn=0,Fe=Ne=$=null,Dr=!1,Ka=0,Vs=null,n)throw Error(l(300));e===null||Xe||(e=e.dependencies,e!==null&&Er(e)&&(Xe=!0))}function Mm(e,n,s,r){$=e;var c=0;do{if(qs&&(Vs=null),Ka=0,qs=!1,25<=c)throw Error(l(301));if(c+=1,Fe=Ne=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=mp,u=n(s,r)}while(qs);return u}function a1(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Za(n):n,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&($.flags|=1024),n}function mu(){var e=Mr!==0;return Mr=0,e}function pu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gu(e){if(Dr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Dr=!1}Mn=0,Fe=Ne=$=null,qs=!1,Ka=Mr=0,Vs=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?$.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ye(){if(Ne===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Fe===null?$.memoizedState:Fe.next;if(n!==null)Fe=n,Ne=e;else{if(e===null)throw $.alternate===null?Error(l(467)):Error(l(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Fe===null?$.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(e){var n=Ka;return Ka+=1,Vs===null&&(Vs=[]),e=Em(Vs,e,n),n=$,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?dp:xu),e}function kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Za(e);if(e.$$typeof===Ae)return ut(e)}throw Error(l(438,String(e)))}function _u(e){var n=null,s=$.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=$.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ir(),$.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=Jn;return n.index++,s}function In(e,n){return typeof n=="function"?n(e):n}function Ur(e){var n=Ye();return yu(n,Ne,e)}function yu(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var d=c.next;c.next=u.next,u.next=d}n.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{n=c.next;var _=d=null,y=null,N=n,D=!1;do{var I=N.lane&-536870913;if(I!==N.lane?(oe&I)===I:(Mn&I)===I){var x=N.revertLane;if(x===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),I===Ls&&(D=!0);else if((Mn&x)===x){N=N.next,x===Ls&&(D=!0);continue}else I={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(_=y=I,d=u):y=y.next=I,$.lanes|=x,di|=x;I=N.action,ns&&s(u,I),u=N.hasEagerState?N.eagerState:s(u,I)}else x={lane:I,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(_=y=x,d=u):y=y.next=x,$.lanes|=I,di|=I;N=N.next}while(N!==null&&N!==n);if(y===null?d=u:y.next=_,!Bt(u,e.memoizedState)&&(Xe=!0,D&&(s=zs,s!==null)))throw s;e.memoizedState=u,e.baseState=d,e.baseQueue=y,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function vu(e){var n=Ye(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do u=e(u,d.action),d=d.next;while(d!==c);Bt(u,n.memoizedState)||(Xe=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,r]}function Im(e,n,s){var r=$,c=Ye(),u=fe;if(u){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!Bt((Ne||c).memoizedState,s);if(d&&(c.memoizedState=s,Xe=!0),c=c.queue,Eu(Lm.bind(null,r,c,e),[e]),c.getSnapshot!==n||d||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,Gs(9,{destroy:void 0},Um.bind(null,r,c,s,n),null),Me===null)throw Error(l(349));u||(Mn&127)!==0||km(r,n,s)}return s}function km(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=$.updateQueue,n===null?(n=Ir(),$.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Um(e,n,s,r){n.value=s,n.getSnapshot=r,zm(n)&&jm(e)}function Lm(e,n,s){return s(function(){zm(n)&&jm(e)})}function zm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Bt(e,s)}catch{return!0}}function jm(e){var n=Fi(e,2);n!==null&&Dt(n,e,2)}function bu(e){var n=_t();if(typeof e=="function"){var s=e;if(e=s(),ns){$n(!0);try{s()}finally{$n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},n}function Hm(e,n,s,r){return e.baseState=s,yu(e,Ne,typeof r=="function"?r:In)}function l1(e,n,s,r,c){if(jr(e))throw Error(l(485));if(e=n.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};O.T!==null?s(!0):u.isTransition=!1,r(u),s=n.pending,s===null?(u.next=n.pending=u,Bm(n,u)):(u.next=s.next,n.pending=s.next=u)}}function Bm(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var u=O.T,d={};O.T=d;try{var _=s(c,r),y=O.S;y!==null&&y(d,_),qm(e,n,_)}catch(N){Su(e,n,N)}finally{u!==null&&d.types!==null&&(u.types=d.types),O.T=u}}else try{u=s(c,r),qm(e,n,u)}catch(N){Su(e,n,N)}}function qm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Vm(e,n,r)},function(r){return Su(e,n,r)}):Vm(e,n,s)}function Vm(e,n,s){n.status="fulfilled",n.value=s,Gm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Bm(e,s)))}function Su(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Gm(n),n=n.next;while(n!==r)}e.action=null}function Gm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Pm(e,n){return n}function Ym(e,n){if(fe){var s=Me.formState;if(s!==null){e:{var r=$;if(fe){if(Le){t:{for(var c=Le,u=tn;c.nodeType!==8;){if(!u){c=null;break t}if(c=sn(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Le=sn(c.nextSibling),r=c.data==="F!";break e}}si(r)}r=!1}r&&(n=s[0])}}return s=_t(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},s.queue=r,s=up.bind(null,$,r),r.dispatch=s,r=bu(!1),u=Nu.bind(null,$,!1,r.queue),r=_t(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=l1.bind(null,$,c,u,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function Qm(e){var n=Ye();return Fm(n,Ne,e)}function Fm(e,n,s){if(n=yu(e,n,Pm)[0],e=Ur(In)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Za(n)}catch(d){throw d===js?wr:d}else r=n;n=Ye();var c=n.queue,u=c.dispatch;return s!==n.memoizedState&&($.flags|=2048,Gs(9,{destroy:void 0},r1.bind(null,c,s),null)),[r,u,e]}function r1(e,n){e.action=n}function Xm(e){var n=Ye(),s=Ne;if(s!==null)return Fm(n,s,e);Ye(),n=n.memoizedState,s=Ye();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Gs(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=$.updateQueue,n===null&&(n=Ir(),$.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Km(){return Ye().memoizedState}function Lr(e,n,s,r){var c=_t();$.flags|=e,c.memoizedState=Gs(1|n,{destroy:void 0},s,r===void 0?null:r)}function zr(e,n,s,r){var c=Ye();r=r===void 0?null:r;var u=c.memoizedState.inst;Ne!==null&&r!==null&&hu(r,Ne.memoizedState.deps)?c.memoizedState=Gs(n,u,s,r):($.flags|=e,c.memoizedState=Gs(1|n,u,s,r))}function Zm(e,n){Lr(8390656,8,e,n)}function Eu(e,n){zr(2048,8,e,n)}function o1(e){$.flags|=4;var n=$.updateQueue;if(n===null)n=Ir(),$.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Wm(e){var n=Ye().memoizedState;return o1({ref:n,nextImpl:e}),function(){if((ve&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Jm(e,n){return zr(4,2,e,n)}function $m(e,n){return zr(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tp(e,n,s){s=s!=null?s.concat([e]):null,zr(4,4,ep.bind(null,n,e),s)}function Tu(){}function np(e,n){var s=Ye();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&hu(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function ip(e,n){var s=Ye();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&hu(n,r[1]))return r[0];if(r=e(),ns){$n(!0);try{e()}finally{$n(!1)}}return s.memoizedState=[r,n],r}function Cu(e,n,s){return s===void 0||(Mn&1073741824)!==0&&(oe&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=sg(),$.lanes|=e,di|=e,s)}function sp(e,n,s,r){return Bt(s,n)?s:Bs.current!==null?(e=Cu(e,s,r),Bt(e,n)||(Xe=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(oe&261930)===0?(Xe=!0,e.memoizedState=s):(e=sg(),$.lanes|=e,di|=e,n)}function ap(e,n,s,r,c){var u=H.p;H.p=u!==0&&8>u?u:8;var d=O.T,_={};O.T=_,Nu(e,!1,n,s);try{var y=c(),N=O.S;if(N!==null&&N(_,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var D=i1(y,r);Wa(e,n,D,Qt(e))}else Wa(e,n,r,Qt(e))}catch(I){Wa(e,n,{then:function(){},status:"rejected",reason:I},Qt())}finally{H.p=u,d!==null&&_.types!==null&&(d.types=_.types),O.T=d}}function c1(){}function wu(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=lp(e).queue;ap(e,c,n,Y,s===null?c1:function(){return rp(e),s(r)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:Y},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rp(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),Wa(e,n.next.queue,{},Qt())}function Au(){return ut(ml)}function op(){return Ye().memoizedState}function cp(){return Ye().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Qt();e=ri(s);var r=oi(n,e,s);r!==null&&(Dt(r,n,s),Qa(r,n,s)),n={cache:tu()},e.payload=n;return}n=n.return}}function f1(e,n,s){var r=Qt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jr(e)?fp(n,s):(s=Pc(e,n,s,r),s!==null&&(Dt(s,e,r),hp(s,n,r)))}function up(e,n,s){var r=Qt();Wa(e,n,s,r)}function Wa(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(jr(e))fp(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var d=n.lastRenderedState,_=u(d,s);if(c.hasEagerState=!0,c.eagerState=_,Bt(_,d))return yr(e,n,c,0),Me===null&&_r(),!1}catch{}if(s=Pc(e,n,c,r),s!==null)return Dt(s,e,r),hp(s,n,r),!0}return!1}function Nu(e,n,s,r){if(r={lane:2,revertLane:lf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jr(e)){if(n)throw Error(l(479))}else n=Pc(e,s,r,2),n!==null&&Dt(n,e,2)}function jr(e){var n=e.alternate;return e===$||n!==null&&n===$}function fp(e,n){qs=Dr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function hp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,_d(e,s)}}var Ja={readContext:ut,use:kr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Ja.useEffectEvent=Be;var dp={readContext:ut,use:kr,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Zm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lr(4194308,4,ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lr(4194308,4,e,n)},useInsertionEffect:function(e,n){Lr(4,2,e,n)},useMemo:function(e,n){var s=_t();n=n===void 0?null:n;var r=e();if(ns){$n(!0);try{e()}finally{$n(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=_t();if(s!==void 0){var c=s(n);if(ns){$n(!0);try{s(n)}finally{$n(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=f1.bind(null,$,e),[r.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=bu(e);var n=e.queue,s=up.bind(null,$,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tu,useDeferredValue:function(e,n){var s=_t();return Cu(s,e,n)},useTransition:function(){var e=bu(!1);return e=ap.bind(null,$,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=$,c=_t();if(fe){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Me===null)throw Error(l(349));(oe&127)!==0||km(r,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,Zm(Lm.bind(null,r,u,e),[e]),r.flags|=2048,Gs(9,{destroy:void 0},Um.bind(null,r,u,s,n),null),s},useId:function(){var e=_t(),n=Me.identifierPrefix;if(fe){var s=yn,r=_n;s=(r&~(1<<32-Ht(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=s1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Au,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nu.bind(null,$,!0,s),s.dispatch=n,[e,n]},useMemoCache:_u,useCacheRefresh:function(){return _t().memoizedState=u1.bind(null,$)},useEffectEvent:function(e){var n=_t(),s={impl:e};return n.memoizedState=s,function(){if((ve&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},xu={readContext:ut,use:kr,useCallback:np,useContext:ut,useEffect:Eu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:Ur,useRef:Km,useState:function(){return Ur(In)},useDebugValue:Tu,useDeferredValue:function(e,n){var s=Ye();return sp(s,Ne.memoizedState,e,n)},useTransition:function(){var e=Ur(In)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Za(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:Au,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,n){var s=Ye();return Hm(s,Ne,e,n)},useMemoCache:_u,useCacheRefresh:cp};xu.useEffectEvent=Wm;var mp={readContext:ut,use:kr,useCallback:np,useContext:ut,useEffect:Eu,useImperativeHandle:tp,useInsertionEffect:Jm,useLayoutEffect:$m,useMemo:ip,useReducer:vu,useRef:Km,useState:function(){return vu(In)},useDebugValue:Tu,useDeferredValue:function(e,n){var s=Ye();return Ne===null?Cu(s,e,n):sp(s,Ne.memoizedState,e,n)},useTransition:function(){var e=vu(In)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Za(e),n]},useSyncExternalStore:Im,useId:op,useHostTransitionStatus:Au,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,n){var s=Ye();return Ne!==null?Hm(s,Ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_u,useCacheRefresh:cp};mp.useEffectEvent=Wm;function Ru(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ou={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Qt(),c=ri(r);c.payload=n,s!=null&&(c.callback=s),n=oi(e,c,r),n!==null&&(Dt(n,e,r),Qa(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Qt(),c=ri(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=oi(e,c,r),n!==null&&(Dt(n,e,r),Qa(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Qt(),r=ri(s);r.tag=2,n!=null&&(r.callback=n),n=oi(e,r,s),n!==null&&(Dt(n,e,s),Qa(n,e,s))}};function pp(e,n,s,r,c,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):n.prototype&&n.prototype.isPureReactComponent?!ja(s,r)||!ja(c,u):!0}function gp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Ou.enqueueReplaceState(n,n.state,null)}function is(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function _p(e){gr(e)}function yp(e){console.error(e)}function vp(e){gr(e)}function Hr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Du(e,n,s){return s=ri(s),s.tag=3,s.payload={element:null},s.callback=function(){Hr(e,n)},s}function Sp(e){return e=ri(e),e.tag=3,e}function Ep(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){bp(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,r),typeof c!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function h1(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Us(n,s,c,!0),s=Vt.current,s!==null){switch(s.tag){case 31:case 13:return nn===null?Wr():s.alternate===null&&qe===0&&(qe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Ar?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),nf(e,r,c)),!1;case 22:return s.flags|=65536,r===Ar?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),nf(e,r,c)),!1}throw Error(l(435,s.tag))}return nf(e,r,c),Wr(),!1}if(fe)return n=Vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Zc&&(e=Error(l(422),{cause:r}),qa(Jt(e,s)))):(r!==Zc&&(n=Error(l(423),{cause:r}),qa(Jt(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Jt(r,s),c=Du(e.stateNode,r,c),ru(e,c),qe!==4&&(qe=2)),!1;var u=Error(l(520),{cause:r});if(u=Jt(u,s),ll===null?ll=[u]:ll.push(u),qe!==4&&(qe=2),n===null)return!0;r=Jt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Du(s.stateNode,r,e),ru(s,e),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(mi===null||!mi.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Sp(c),Ep(c,e,s,r),ru(s,c),!1}s=s.return}while(s!==null);return!1}var Mu=Error(l(461)),Xe=!1;function ft(e,n,s,r){n.child=e===null?Am(n,null,s,r):ts(n,e.child,s,r)}function Tp(e,n,s,r,c){s=s.render;var u=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Wi(n),r=du(e,n,s,d,u,c),_=mu(),e!==null&&!Xe?(pu(e,n,c),kn(e,n,c)):(fe&&_&&Xc(n),n.flags|=1,ft(e,n,r,c),n.child)}function Cp(e,n,s,r,c){if(e===null){var u=s.type;return typeof u=="function"&&!Yc(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,wp(e,n,u,r,c)):(e=br(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!Bu(e,c)){var d=u.memoizedProps;if(s=s.compare,s=s!==null?s:ja,s(d,r)&&e.ref===n.ref)return kn(e,n,c)}return n.flags|=1,e=xn(u,r),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,s,r,c){if(e!==null){var u=e.memoizedProps;if(ja(u,r)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=r=u,Bu(e,c))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,kn(e,n,c)}return Iu(e,n,s,r,c)}function Ap(e,n,s,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,n.child=null;return Np(e,n,u,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cr(n,u!==null?u.cachePool:null),u!==null?Rm(n,u):cu(),Om(n);else return r=n.lanes=536870912,Np(e,n,u!==null?u.baseLanes|s:s,s,r)}else u!==null?(Cr(n,u.cachePool),Rm(n,u),ui(),n.memoizedState=null):(e!==null&&Cr(n,null),cu(),ui());return ft(e,n,c,s),n.child}function $a(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Np(e,n,s,r,c){var u=iu();return u=u===null?null:{parent:Qe._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},e!==null&&Cr(n,null),cu(),Om(n),e!==null&&Us(e,n,r,!0),n.childLanes=c,null}function Br(e,n){return n=Vr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return ts(n,e.child,null,s),e=Br(n,n.pendingProps),e.flags|=2,Gt(n),n.memoizedState=null,e}function d1(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(fe){if(r.mode==="hidden")return e=Br(n,r),n.lanes=536870912,$a(null,e);if(fu(n),(e=Le)?(e=Bg(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ni!==null?{id:_n,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,ct=n,Le=null)):e=null,e===null)throw si(n);return n.lanes=536870912,null}return Br(n,r)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(fu(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Xe||Us(e,n,s,!1),c=(s&e.childLanes)!==0,Xe||c){if(r=Me,r!==null&&(d=yd(r,s),d!==0&&d!==u.retryLane))throw u.retryLane=d,Fi(e,d),Dt(r,e,d),Mu;Wr(),n=xp(e,n,s)}else e=u.treeContext,Le=sn(d.nextSibling),ct=n,fe=!0,ii=null,tn=!1,e!==null&&mm(n,e),n=Br(n,r),n.flags|=4096;return n}return e=xn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Iu(e,n,s,r,c){return Wi(n),s=du(e,n,s,r,void 0,c),r=mu(),e!==null&&!Xe?(pu(e,n,c),kn(e,n,c)):(fe&&r&&Xc(n),n.flags|=1,ft(e,n,s,c),n.child)}function Rp(e,n,s,r,c,u){return Wi(n),n.updateQueue=null,s=Mm(n,r,s,c),Dm(e),r=mu(),e!==null&&!Xe?(pu(e,n,u),kn(e,n,u)):(fe&&r&&Xc(n),n.flags|=1,ft(e,n,s,u),n.child)}function Op(e,n,s,r,c){if(Wi(n),n.stateNode===null){var u=Ds,d=s.contextType;typeof d=="object"&&d!==null&&(u=ut(d)),u=new s(r,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ou,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=r,u.state=n.memoizedState,u.refs={},au(n),d=s.contextType,u.context=typeof d=="object"&&d!==null?ut(d):Ds,u.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Ru(n,s,d,r),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&Ou.enqueueReplaceState(u,u.state,null),Xa(n,r,u,c),Fa(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){u=n.stateNode;var _=n.memoizedProps,y=is(s,_);u.props=y;var N=u.context,D=s.contextType;d=Ds,typeof D=="object"&&D!==null&&(d=ut(D));var I=s.getDerivedStateFromProps;D=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||N!==d)&&gp(n,u,r,d),li=!1;var x=n.memoizedState;u.state=x,Xa(n,r,u,c),Fa(),N=n.memoizedState,_||x!==N||li?(typeof I=="function"&&(Ru(n,s,I,r),N=n.memoizedState),(y=li||pp(n,s,y,r,x,N,d))?(D||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),u.props=r,u.state=N,u.context=d,r=y):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,lu(e,n),d=n.memoizedProps,D=is(s,d),u.props=D,I=n.pendingProps,x=u.context,N=s.contextType,y=Ds,typeof N=="object"&&N!==null&&(y=ut(N)),_=s.getDerivedStateFromProps,(N=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==I||x!==y)&&gp(n,u,r,y),li=!1,x=n.memoizedState,u.state=x,Xa(n,r,u,c),Fa();var R=n.memoizedState;d!==I||x!==R||li||e!==null&&e.dependencies!==null&&Er(e.dependencies)?(typeof _=="function"&&(Ru(n,s,_,r),R=n.memoizedState),(D=li||pp(n,s,D,r,x,R,y)||e!==null&&e.dependencies!==null&&Er(e.dependencies))?(N||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,y),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,y)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),u.props=r,u.state=R,u.context=y,r=D):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),r=!1)}return u=r,qr(e,n),r=(n.flags&128)!==0,u||r?(u=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&r?(n.child=ts(n,e.child,null,c),n.child=ts(n,null,s,c)):ft(e,n,s,c),n.memoizedState=u.state,e=n.child):e=kn(e,n,c),e}function Dp(e,n,s,r){return Ki(),n.flags|=256,ft(e,n,s,r),n.child}var ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(e){return{baseLanes:e,cachePool:bm()}}function Lu(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Yt),e}function Mp(e,n,s){var r=n.pendingProps,c=!1,u=(n.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(fe){if(c?ci(n):ui(),(e=Le)?(e=Bg(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ni!==null?{id:_n,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},s=fm(e),s.return=n,n.child=s,ct=n,Le=null)):e=null,e===null)throw si(n);return vf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(ui(),c=n.mode,_=Vr({mode:"hidden",children:_},c),r=Xi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Uu(s),r.childLanes=Lu(e,d,s),n.memoizedState=ku,$a(null,r)):(ci(n),zu(n,_))}var y=e.memoizedState;if(y!==null&&(_=y.dehydrated,_!==null)){if(u)n.flags&256?(ci(n),n.flags&=-257,n=ju(e,n,s)):n.memoizedState!==null?(ui(),n.child=e.child,n.flags|=128,n=null):(ui(),_=r.fallback,c=n.mode,r=Vr({mode:"visible",children:r.children},c),_=Xi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,ts(n,e.child,null,s),r=n.child,r.memoizedState=Uu(s),r.childLanes=Lu(e,d,s),n.memoizedState=ku,n=$a(null,r));else if(ci(n),vf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,r=Error(l(419)),r.stack="",r.digest=d,qa({value:r,source:null,stack:null}),n=ju(e,n,s)}else if(Xe||Us(e,n,s,!1),d=(s&e.childLanes)!==0,Xe||d){if(d=Me,d!==null&&(r=yd(d,s),r!==0&&r!==y.retryLane))throw y.retryLane=r,Fi(e,r),Dt(d,e,r),Mu;yf(_)||Wr(),n=ju(e,n,s)}else yf(_)?(n.flags|=192,n.child=e.child,n=null):(e=y.treeContext,Le=sn(_.nextSibling),ct=n,fe=!0,ii=null,tn=!1,e!==null&&mm(n,e),n=zu(n,r.children),n.flags|=4096);return n}return c?(ui(),_=r.fallback,c=n.mode,y=e.child,N=y.sibling,r=xn(y,{mode:"hidden",children:r.children}),r.subtreeFlags=y.subtreeFlags&65011712,N!==null?_=xn(N,_):(_=Xi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,$a(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Uu(s):(c=_.cachePool,c!==null?(y=Qe._currentValue,c=c.parent!==y?{parent:y,pool:y}:c):c=bm(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Lu(e,d,s),n.memoizedState=ku,$a(e.child,r)):(ci(n),s=e.child,e=s.sibling,s=xn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function zu(e,n){return n=Vr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vr(e,n){return e=qt(22,e,null,n),e.lanes=0,e}function ju(e,n,s){return ts(n,e.child,null,s),e=zu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ip(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),$c(e.return,n,s)}function Hu(e,n,s,r,c,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=c,d.treeForkCount=u)}function kp(e,n,s){var r=n.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var d=Pe.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,B(Pe,d),ft(e,n,r,s),r=fe?Ba:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,s,n);else if(e.tag===19)Ip(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Or(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Hu(n,!1,c,s,u,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Or(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Hu(n,!0,s,null,u,r);break;case"together":Hu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function kn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Us(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=xn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Er(e)))}function m1(e,n,s){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),ai(n,Qe,e.memoizedState.cache),Ki();break;case 27:case 5:Cn(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:ai(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ci(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mp(e,n,s):(ci(n),e=kn(e,n,s),e!==null?e.sibling:null);ci(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Us(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return kp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),B(Pe,Pe.current),r)break;return null;case 22:return n.lanes=0,Ap(e,n,s,n.pendingProps);case 24:ai(n,Qe,e.memoizedState.cache)}return kn(e,n,s)}function Up(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Bu(e,s)&&(n.flags&128)===0)return Xe=!1,m1(e,n,s);Xe=(e.flags&131072)!==0}else Xe=!1,fe&&(n.flags&1048576)!==0&&dm(n,Ba,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=$i(n.elementType),n.type=e,typeof e=="function")Yc(e)?(r=is(e,r),n.tag=1,n=Op(null,n,e,r,s)):(n.tag=0,n=Iu(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===Ze){n.tag=11,n=Tp(null,n,e,r,s);break e}else if(c===ne){n.tag=14,n=Cp(null,n,e,r,s);break e}}throw n=Je(e)||e,Error(l(306,n,""))}}return n;case 0:return Iu(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=is(r,n.pendingProps),Op(e,n,r,c,s);case 3:e:{if(rt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var u=n.memoizedState;c=u.element,lu(e,n),Xa(n,r,null,s);var d=n.memoizedState;if(r=d.cache,ai(n,Qe,r),r!==u.cache&&eu(n,[Qe],s,!0),Fa(),r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Dp(e,n,r,s);break e}else if(r!==c){c=Jt(Error(l(424)),n),qa(c),n=Dp(e,n,r,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=sn(e.firstChild),ct=n,fe=!0,ii=null,tn=!0,s=Am(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ki(),r===c){n=kn(e,n,s);break e}ft(e,n,r,s)}n=n.child}return n;case 26:return qr(e,n),e===null?(s=Qg(n.type,null,n.pendingProps,null))?n.memoizedState=s:fe||(s=n.type,e=n.pendingProps,r=so(te.current).createElement(s),r[ot]=n,r[wt]=e,ht(r,s,e),it(r),n.stateNode=r):n.memoizedState=Qg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Cn(n),e===null&&fe&&(r=n.stateNode=Gg(n.type,n.pendingProps,te.current),ct=n,tn=!0,c=Le,yi(n.type)?(bf=c,Le=sn(r.firstChild)):Le=c),ft(e,n,n.pendingProps.children,s),qr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&fe&&((c=r=Le)&&(r=P1(r,n.type,n.pendingProps,tn),r!==null?(n.stateNode=r,ct=n,Le=sn(r.firstChild),tn=!1,c=!0):c=!1),c||si(n)),Cn(n),c=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,r=u.children,pf(c,u)?r=null:d!==null&&pf(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=du(e,n,a1,null,null,s),ml._currentValue=c),qr(e,n),ft(e,n,r,s),n.child;case 6:return e===null&&fe&&((e=s=Le)&&(s=Y1(s,n.pendingProps,tn),s!==null?(n.stateNode=s,ct=n,Le=null,e=!0):e=!1),e||si(n)),null;case 13:return Mp(e,n,s);case 4:return rt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=ts(n,null,r,s):ft(e,n,r,s),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,s);case 7:return ft(e,n,n.pendingProps,s),n.child;case 8:return ft(e,n,n.pendingProps.children,s),n.child;case 12:return ft(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ai(n,n.type,r.value),ft(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Wi(n),c=ut(c),r=r(c),n.flags|=1,ft(e,n,r,s),n.child;case 14:return Cp(e,n,n.type,n.pendingProps,s);case 15:return wp(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return d1(e,n,s);case 22:return Ap(e,n,s,n.pendingProps);case 24:return Wi(n),r=ut(Qe),e===null?(c=iu(),c===null&&(c=Me,u=tu(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),n.memoizedState={parent:r,cache:c},au(n),ai(n,Qe,c)):((e.lanes&s)!==0&&(lu(e,n),Xa(n,null,null,s),Fa()),c=e.memoizedState,u=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ai(n,Qe,r)):(r=u.cache,ai(n,Qe,r),r!==c.cache&&eu(n,[Qe],s,!0))),ft(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Un(e){e.flags|=4}function qu(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw es=Ar,su}else e.flags&=-16777217}function Lp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wg(n))if(og())e.flags|=8192;else throw es=Ar,su}function Gr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pd():536870912,e.lanes|=n,Fs|=n)}function el(e,n){if(!fe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function p1(e,n,s){var r=n.pendingProps;switch(Kc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Dn(Qe),ye(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ks(n)?Un(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),ze(n),null;case 26:var c=n.type,u=n.memoizedState;return e===null?(Un(n),u!==null?(ze(n),Lp(n,u)):(ze(n),qu(n,c,null,r,s))):u?u!==e.memoizedState?(Un(n),ze(n),Lp(n,u)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Un(n),ze(n),qu(n,c,e,r,s)),null;case 27:if(z(n),s=te.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Un(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}e=q.current,ks(n)?pm(n):(e=Gg(c,r,s),n.stateNode=e,Un(n))}return ze(n),null;case 5:if(z(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Un(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}if(u=q.current,ks(n))pm(n);else{var d=so(te.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?d.createElement(c,{is:r.is}):d.createElement(c)}}u[ot]=n,u[wt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=u;e:switch(ht(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Un(n)}}return ze(n),qu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Un(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=te.current,ks(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=ct,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[ot]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Mg(e.nodeValue,s)),e||si(n,!0)}else e=so(e).createTextNode(r),e[ot]=n,n.stateNode=e}return ze(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=ks(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ot]=n}else Ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else s=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Gt(n),n):(Gt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return ze(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ks(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[ot]=n}else Ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),c=!1}else c=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Gt(n),n):(Gt(n),null)}return Gt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gr(n,n.updateQueue),ze(n),null);case 4:return ye(),e===null&&uf(n.stateNode.containerInfo),ze(n),null;case 10:return Dn(n.type),ze(n),null;case 19:if(k(Pe),r=n.memoizedState,r===null)return ze(n),null;if(c=(n.flags&128)!==0,u=r.rendering,u===null)if(c)el(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=Or(e),u!==null){for(n.flags|=128,el(r,!1),e=u.updateQueue,n.updateQueue=e,Gr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)um(s,e),s=s.sibling;return B(Pe,Pe.current&1|2),fe&&Rn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&zt()>Xr&&(n.flags|=128,c=!0,el(r,!1),n.lanes=4194304)}else{if(!c)if(e=Or(u),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Gr(n,e),el(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!fe)return ze(n),null}else 2*zt()-r.renderingStartTime>Xr&&s!==536870912&&(n.flags|=128,c=!0,el(r,!1),n.lanes=4194304);r.isBackwards?(u.sibling=n.child,n.child=u):(e=r.last,e!==null?e.sibling=u:n.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=zt(),e.sibling=null,s=Pe.current,B(Pe,c?s&1|2:s&1),fe&&Rn(n,r.treeForkCount),e):(ze(n),null);case 22:case 23:return Gt(n),uu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),s=n.updateQueue,s!==null&&Gr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&k(Ji),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Dn(Qe),ze(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function g1(e,n){switch(Kc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Dn(Qe),ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return z(n),null;case 31:if(n.memoizedState!==null){if(Gt(n),n.alternate===null)throw Error(l(340));Ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Gt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Pe),null;case 4:return ye(),null;case 10:return Dn(n.type),null;case 22:case 23:return Gt(n),uu(),e!==null&&k(Ji),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Dn(Qe),null;case 25:return null;default:return null}}function zp(e,n){switch(Kc(n),n.tag){case 3:Dn(Qe),ye();break;case 26:case 27:case 5:z(n);break;case 4:ye();break;case 31:n.memoizedState!==null&&Gt(n);break;case 13:Gt(n);break;case 19:k(Pe);break;case 10:Dn(n.type);break;case 22:case 23:Gt(n),uu(),e!==null&&k(Ji);break;case 24:Dn(Qe)}}function tl(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var u=s.create,d=s.inst;r=u(),d.destroy=r}s=s.next}while(s!==c)}}catch(_){we(n,n.return,_)}}function fi(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var y=s,N=_;try{N()}catch(D){we(c,y,D)}}}r=r.next}while(r!==u)}}catch(D){we(n,n.return,D)}}function jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xm(n,s)}catch(r){we(e,e.return,r)}}}function Hp(e,n,s){s.props=is(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){we(e,n,r)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){we(e,n,c)}}function vn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){we(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){we(e,n,c)}else s.current=null}function Bp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){we(e,e.return,c)}}function Vu(e,n,s){try{var r=e.stateNode;j1(r,e.type,s,n),r[wt]=n}catch(c){we(e,e.return,c)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=An));else if(r!==4&&(r===27&&yi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pu(e,n,s),e=e.sibling;e!==null;)Pu(e,n,s),e=e.sibling}function Pr(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&yi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pr(e,n,s),e=e.sibling;e!==null;)Pr(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ht(n,r,s),n[ot]=e,n[wt]=s}catch(u){we(e,e.return,u)}}var Ln=!1,Ke=!1,Yu=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,st=null;function _1(e,n){if(e=e.containerInfo,df=fo,e=tm(e),jc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var d=0,_=-1,y=-1,N=0,D=0,I=e,x=null;t:for(;;){for(var R;I!==s||c!==0&&I.nodeType!==3||(_=d+c),I!==u||r!==0&&I.nodeType!==3||(y=d+r),I.nodeType===3&&(d+=I.nodeValue.length),(R=I.firstChild)!==null;)x=I,I=R;for(;;){if(I===e)break t;if(x===s&&++N===c&&(_=d),x===u&&++D===r&&(y=d),(R=I.nextSibling)!==null)break;I=x,x=I.parentNode}I=R}s=_===-1||y===-1?null:{start:_,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(mf={focusedElem:e,selectionRange:s},fo=!1,st=n;st!==null;)if(n=st,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,st=e;else for(;st!==null;){switch(n=st,u=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=n,c=u.memoizedProps,u=u.memoizedState,r=s.stateNode;try{var V=is(s.type,c);e=r.getSnapshotBeforeUpdate(V,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(F){we(s,s.return,F)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)_f(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_f(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,st=e;break}st=n.return}}function Pp(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:jn(e,s),r&4&&tl(5,s);break;case 1:if(jn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){we(s,s.return,d)}else{var c=is(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){we(s,s.return,d)}}r&64&&jp(s),r&512&&nl(s,s.return);break;case 3:if(jn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xm(e,n)}catch(d){we(s,s.return,d)}}break;case 27:n===null&&r&4&&Vp(s);case 26:case 5:jn(e,s),n===null&&r&4&&Bp(s),r&512&&nl(s,s.return);break;case 12:jn(e,s);break;case 31:jn(e,s),r&4&&Fp(e,s);break;case 13:jn(e,s),r&4&&Xp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=A1.bind(null,s),Q1(e,s))));break;case 22:if(r=s.memoizedState!==null||Ln,!r){n=n!==null&&n.memoizedState!==null||Ke,c=Ln;var u=Ke;Ln=r,(Ke=n)&&!u?Hn(e,s,(s.subtreeFlags&8772)!==0):jn(e,s),Ln=c,Ke=u}break;case 30:break;default:jn(e,s)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Sc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Nt=!1;function zn(e,n,s){for(s=s.child;s!==null;)Qp(e,n,s),s=s.sibling}function Qp(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Aa,s)}catch{}switch(s.tag){case 26:Ke||vn(s,n),zn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ke||vn(s,n);var r=je,c=Nt;yi(s.type)&&(je=s.stateNode,Nt=!1),zn(e,n,s),fl(s.stateNode),je=r,Nt=c;break;case 5:Ke||vn(s,n);case 6:if(r=je,c=Nt,je=null,zn(e,n,s),je=r,Nt=c,je!==null)if(Nt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(s.stateNode)}catch(u){we(s,n,u)}else try{je.removeChild(s.stateNode)}catch(u){we(s,n,u)}break;case 18:je!==null&&(Nt?(e=je,jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ta(e)):jg(je,s.stateNode));break;case 4:r=je,c=Nt,je=s.stateNode.containerInfo,Nt=!0,zn(e,n,s),je=r,Nt=c;break;case 0:case 11:case 14:case 15:fi(2,s,n),Ke||fi(4,s,n),zn(e,n,s);break;case 1:Ke||(vn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Hp(s,n,r)),zn(e,n,s);break;case 21:zn(e,n,s);break;case 22:Ke=(r=Ke)||s.memoizedState!==null,zn(e,n,s),Ke=r;break;default:zn(e,n,s)}}function Fp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ta(e)}catch(s){we(n,n.return,s)}}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ta(e)}catch(s){we(n,n.return,s)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gp),n;default:throw Error(l(435,e.tag))}}function Yr(e,n){var s=y1(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=N1.bind(null,e,r);r.then(c,c)}})}function xt(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],u=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(yi(_.type)){je=_.stateNode,Nt=!1;break e}break;case 5:je=_.stateNode,Nt=!1;break e;case 3:case 4:je=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(je===null)throw Error(l(160));Qp(u,d,c),je=null,Nt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Kp(n,e),n=n.sibling}var cn=null;function Kp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(n,e),Rt(e),r&4&&(fi(3,e,e.return),tl(3,e),fi(5,e,e.return));break;case 1:xt(n,e),Rt(e),r&512&&(Ke||s===null||vn(s,s.return)),r&64&&Ln&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=cn;if(xt(n,e),Rt(e),r&512&&(Ke||s===null||vn(s,s.return)),r&4){var u=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Ra]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),ht(u,r,s),u[ot]=e,it(u),r=u;break e;case"link":var d=Kg("link","href",c).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(u=d[_],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}u=c.createElement(r),ht(u,r,s),c.head.appendChild(u);break;case"meta":if(d=Kg("meta","content",c).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(u=d[_],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}u=c.createElement(r),ht(u,r,s),c.head.appendChild(u);break;default:throw Error(l(468,r))}u[ot]=e,it(u),r=u}e.stateNode=r}else Zg(c,e.type,e.stateNode);else e.stateNode=Xg(c,r,e.memoizedProps);else u!==r?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,r===null?Zg(c,e.type,e.stateNode):Xg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,s.memoizedProps)}break;case 27:xt(n,e),Rt(e),r&512&&(Ke||s===null||vn(s,s.return)),s!==null&&r&4&&Vu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(xt(n,e),Rt(e),r&512&&(Ke||s===null||vn(s,s.return)),e.flags&32){c=e.stateNode;try{Cs(c,"")}catch(V){we(e,e.return,V)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Vu(e,c,s!==null?s.memoizedProps:c)),r&1024&&(Yu=!0);break;case 6:if(xt(n,e),Rt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(V){we(e,e.return,V)}}break;case 3:if(ro=null,c=cn,cn=ao(n.containerInfo),xt(n,e),cn=c,Rt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ta(n.containerInfo)}catch(V){we(e,e.return,V)}Yu&&(Yu=!1,Zp(e));break;case 4:r=cn,cn=ao(e.stateNode.containerInfo),xt(n,e),Rt(e),cn=r;break;case 12:xt(n,e),Rt(e);break;case 31:xt(n,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 13:xt(n,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fr=zt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 22:c=e.memoizedState!==null;var y=s!==null&&s.memoizedState!==null,N=Ln,D=Ke;if(Ln=N||c,Ke=D||y,xt(n,e),Ke=D,Ln=N,Rt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||y||Ln||Ke||ss(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){y=s=n;try{if(u=y.stateNode,c)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=y.stateNode;var I=y.memoizedProps.style,x=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(V){we(y,y.return,V)}}}else if(n.tag===6){if(s===null){y=n;try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(V){we(y,y.return,V)}}}else if(n.tag===18){if(s===null){y=n;try{var R=y.stateNode;c?Hg(R,!0):Hg(y.stateNode,!1)}catch(V){we(y,y.return,V)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Yr(e,s))));break;case 19:xt(n,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 30:break;case 21:break;default:xt(n,e),Rt(e)}}function Rt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(qp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,u=Gu(e);Pr(e,u,c);break;case 5:var d=s.stateNode;s.flags&32&&(Cs(d,""),s.flags&=-33);var _=Gu(e);Pr(e,_,d);break;case 3:case 4:var y=s.stateNode.containerInfo,N=Gu(e);Pu(e,N,y);break;default:throw Error(l(161))}}catch(D){we(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Zp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pp(e,n.alternate,n),n=n.sibling}function ss(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fi(4,n,n.return),ss(n);break;case 1:vn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),ss(n);break;case 27:fl(n.stateNode);case 26:case 5:vn(n,n.return),ss(n);break;case 22:n.memoizedState===null&&ss(n);break;case 30:ss(n);break;default:ss(n)}e=e.sibling}}function Hn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,u=n,d=u.flags;switch(u.tag){case 0:case 11:case 15:Hn(c,u,s),tl(4,u);break;case 1:if(Hn(c,u,s),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){we(r,r.return,N)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var y=c.shared.hiddenCallbacks;if(y!==null)for(c.shared.hiddenCallbacks=null,c=0;c<y.length;c++)Nm(y[c],_)}catch(N){we(r,r.return,N)}}s&&d&64&&jp(u),nl(u,u.return);break;case 27:Vp(u);case 26:case 5:Hn(c,u,s),s&&r===null&&d&4&&Bp(u),nl(u,u.return);break;case 12:Hn(c,u,s);break;case 31:Hn(c,u,s),s&&d&4&&Fp(c,u);break;case 13:Hn(c,u,s),s&&d&4&&Xp(c,u);break;case 22:u.memoizedState===null&&Hn(c,u,s),nl(u,u.return);break;case 30:break;default:Hn(c,u,s)}n=n.sibling}}function Qu(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Va(s))}function Fu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Va(e))}function un(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(e,n,s,r),n=n.sibling}function Wp(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:un(e,n,s,r),c&2048&&tl(9,n);break;case 1:un(e,n,s,r);break;case 3:un(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Va(e)));break;case 12:if(c&2048){un(e,n,s,r),e=n.stateNode;try{var u=n.memoizedProps,d=u.id,_=u.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){we(n,n.return,y)}}else un(e,n,s,r);break;case 31:un(e,n,s,r);break;case 13:un(e,n,s,r);break;case 23:break;case 22:u=n.stateNode,d=n.alternate,n.memoizedState!==null?u._visibility&2?un(e,n,s,r):il(e,n):u._visibility&2?un(e,n,s,r):(u._visibility|=2,Ps(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qu(d,n);break;case 24:un(e,n,s,r),c&2048&&Fu(n.alternate,n);break;default:un(e,n,s,r)}}function Ps(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=e,d=n,_=s,y=r,N=d.flags;switch(d.tag){case 0:case 11:case 15:Ps(u,d,_,y,c),tl(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?Ps(u,d,_,y,c):il(u,d):(D._visibility|=2,Ps(u,d,_,y,c)),c&&N&2048&&Qu(d.alternate,d);break;case 24:Ps(u,d,_,y,c),c&&N&2048&&Fu(d.alternate,d);break;default:Ps(u,d,_,y,c)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:il(s,r),c&2048&&Qu(r.alternate,r);break;case 24:il(s,r),c&2048&&Fu(r.alternate,r);break;default:il(s,r)}n=n.sibling}}var sl=8192;function Ys(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Jp(e,n,s),e=e.sibling}function Jp(e,n,s){switch(e.tag){case 26:Ys(e,n,s),e.flags&sl&&e.memoizedState!==null&&sS(s,cn,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,n,s);break;case 3:case 4:var r=cn;cn=ao(e.stateNode.containerInfo),Ys(e,n,s),cn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=sl,sl=16777216,Ys(e,n,s),sl=r):Ys(e,n,s));break;default:Ys(e,n,s)}}function $p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];st=r,tg(r,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&fi(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qr(e)):al(e);break;default:al(e)}}function Qr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];st=r,tg(r,e)}$p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fi(8,n,n.return),Qr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qr(n));break;default:Qr(n)}e=e.sibling}}function tg(e,n){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:fi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Va(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,st=r;else e:for(s=e;st!==null;){r=st;var c=r.sibling,u=r.return;if(Yp(r),r===s){st=null;break e}if(c!==null){c.return=u,st=c;break e}st=u}}}var v1={getCacheForType:function(e){var n=ut(Qe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ut(Qe).controller.signal}},b1=typeof WeakMap=="function"?WeakMap:Map,ve=0,Me=null,ae=null,oe=0,Ce=0,Pt=null,hi=!1,Qs=!1,Xu=!1,Bn=0,qe=0,di=0,as=0,Ku=0,Yt=0,Fs=0,ll=null,Ot=null,Zu=!1,Fr=0,ng=0,Xr=1/0,Kr=null,mi=null,$e=0,pi=null,Xs=null,qn=0,Wu=0,Ju=null,ig=null,rl=0,$u=null;function Qt(){return(ve&2)!==0&&oe!==0?oe&-oe:O.T!==null?lf():vd()}function sg(){if(Yt===0)if((oe&536870912)===0||fe){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),Yt=e}else Yt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Yt}function Dt(e,n,s){(e===Me&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),gi(e,oe,Yt,!1)),xa(e,s),((ve&2)===0||e!==Me)&&(e===Me&&((ve&2)===0&&(as|=s),qe===4&&gi(e,oe,Yt,!1)),bn(e))}function ag(e,n,s){if((ve&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Na(e,n),c=r?T1(e,n):tf(e,n,!0),u=r;do{if(c===0){Qs&&!r&&gi(e,n,0,!1);break}else{if(s=e.current.alternate,u&&!S1(s)){c=tf(e,n,!1),u=!1;continue}if(c===2){if(u=n,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=ll;var y=_.current.memoizedState.isDehydrated;if(y&&(Ks(_,d).flags|=256),d=tf(_,d,!1),d!==2){if(Xu&&!y){_.errorRecoveryDisabledLanes|=u,as|=u,c=4;break e}u=Ot,Ot=c,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}c=d}if(u=!1,c!==2)continue}}if(c===1){Ks(e,0),gi(e,n,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:gi(r,n,Yt,!hi);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Fr+300-zt(),10<c)){if(gi(r,n,Yt,!hi),ar(r,0,!0)!==0)break e;qn=n,r.timeoutHandle=Lg(lg.bind(null,r,s,Ot,Kr,Zu,n,Yt,as,Fs,hi,u,"Throttled",-0,0),c);break e}lg(r,s,Ot,Kr,Zu,n,Yt,as,Fs,hi,u,null,-0,0)}}break}while(!0);bn(e)}function lg(e,n,s,r,c,u,d,_,y,N,D,I,x,R){if(e.timeoutHandle=-1,I=n.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Jp(n,u,I);var V=(u&62914560)===u?Fr-zt():(u&4194048)===u?ng-zt():0;if(V=aS(I,V),V!==null){qn=u,e.cancelPendingCommit=V(mg.bind(null,e,n,u,s,r,c,d,_,y,D,I,null,x,R)),gi(e,u,d,!N);return}}mg(e,n,u,s,r,c,d,_,y)}function S1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],u=c.getSnapshot;c=c.value;try{if(!Bt(u(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gi(e,n,s,r){n&=~Ku,n&=~as,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var u=31-Ht(c),d=1<<u;r[u]=-1,c&=~d}s!==0&&gd(e,s,n)}function Zr(){return(ve&6)===0?(ol(0),!1):!0}function ef(){if(ae!==null){if(Ce===0)var e=ae.return;else e=ae,On=Zi=null,gu(e),Hs=null,Pa=0,e=ae;for(;e!==null;)zp(e.alternate,e),e=e.return;ae=null}}function Ks(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,q1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),qn=0,ef(),Me=e,ae=s=xn(e.current,null),oe=n,Ce=0,Pt=null,hi=!1,Qs=Na(e,n),Xu=!1,Fs=Yt=Ku=as=di=qe=0,Ot=ll=null,Zu=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Ht(r),u=1<<c;n|=e[c],r&=~u}return Bn=n,_r(),s}function rg(e,n){$=null,O.H=Ja,n===js||n===wr?(n=Tm(),Ce=3):n===su?(n=Tm(),Ce=4):Ce=n===Mu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pt=n,ae===null&&(qe=1,Hr(e,Jt(n,e.current)))}function og(){var e=Vt.current;return e===null?!0:(oe&4194048)===oe?nn===null:(oe&62914560)===oe||(oe&536870912)!==0?e===nn:!1}function cg(){var e=O.H;return O.H=Ja,e===null?Ja:e}function ug(){var e=O.A;return O.A=v1,e}function Wr(){qe=4,hi||(oe&4194048)!==oe&&Vt.current!==null||(Qs=!0),(di&134217727)===0&&(as&134217727)===0||Me===null||gi(Me,oe,Yt,!1)}function tf(e,n,s){var r=ve;ve|=2;var c=cg(),u=ug();(Me!==e||oe!==n)&&(Kr=null,Ks(e,n)),n=!1;var d=qe;e:do try{if(Ce!==0&&ae!==null){var _=ae,y=Pt;switch(Ce){case 8:ef(),d=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(n=!0);var N=Ce;if(Ce=0,Pt=null,Zs(e,_,y,N),s&&Qs){d=0;break e}break;default:N=Ce,Ce=0,Pt=null,Zs(e,_,y,N)}}E1(),d=qe;break}catch(D){rg(e,D)}while(!0);return n&&e.shellSuspendCounter++,On=Zi=null,ve=r,O.H=c,O.A=u,ae===null&&(Me=null,oe=0,_r()),d}function E1(){for(;ae!==null;)fg(ae)}function T1(e,n){var s=ve;ve|=2;var r=cg(),c=ug();Me!==e||oe!==n?(Kr=null,Xr=zt()+500,Ks(e,n)):Qs=Na(e,n);e:do try{if(Ce!==0&&ae!==null){n=ae;var u=Pt;t:switch(Ce){case 1:Ce=0,Pt=null,Zs(e,n,u,1);break;case 2:case 9:if(Sm(u)){Ce=0,Pt=null,hg(n);break}n=function(){Ce!==2&&Ce!==9||Me!==e||(Ce=7),bn(e)},u.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Sm(u)?(Ce=0,Pt=null,hg(n)):(Ce=0,Pt=null,Zs(e,n,u,7));break;case 5:var d=null;switch(ae.tag){case 26:d=ae.memoizedState;case 5:case 27:var _=ae;if(d?Wg(d):_.stateNode.complete){Ce=0,Pt=null;var y=_.sibling;if(y!==null)ae=y;else{var N=_.return;N!==null?(ae=N,Jr(N)):ae=null}break t}}Ce=0,Pt=null,Zs(e,n,u,5);break;case 6:Ce=0,Pt=null,Zs(e,n,u,6);break;case 8:ef(),qe=6;break e;default:throw Error(l(462))}}C1();break}catch(D){rg(e,D)}while(!0);return On=Zi=null,O.H=r,O.A=c,ve=s,ae!==null?0:(Me=null,oe=0,_r(),qe)}function C1(){for(;ae!==null&&!F0();)fg(ae)}function fg(e){var n=Up(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,n===null?Jr(e):ae=n}function hg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Rp(s,n,n.pendingProps,n.type,void 0,oe);break;case 11:n=Rp(s,n,n.pendingProps,n.type.render,n.ref,oe);break;case 5:gu(n);default:zp(s,n),n=ae=um(n,Bn),n=Up(s,n,Bn)}e.memoizedProps=e.pendingProps,n===null?Jr(e):ae=n}function Zs(e,n,s,r){On=Zi=null,gu(n),Hs=null,Pa=0;var c=n.return;try{if(h1(e,c,n,s,oe)){qe=1,Hr(e,Jt(s,e.current)),ae=null;return}}catch(u){if(c!==null)throw ae=c,u;qe=1,Hr(e,Jt(s,e.current)),ae=null;return}n.flags&32768?(fe||r===1?e=!0:Qs||(oe&536870912)!==0?e=!1:(hi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),dg(n,e)):Jr(n)}function Jr(e){var n=e;do{if((n.flags&32768)!==0){dg(n,hi);return}e=n.return;var s=p1(n.alternate,n,Bn);if(s!==null){ae=s;return}if(n=n.sibling,n!==null){ae=n;return}ae=n=e}while(n!==null);qe===0&&(qe=5)}function dg(e,n){do{var s=g1(e.alternate,e);if(s!==null){s.flags&=32767,ae=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){ae=e;return}ae=e=s}while(e!==null);qe=6,ae=null}function mg(e,n,s,r,c,u,d,_,y){e.cancelPendingCommit=null;do $r();while($e!==0);if((ve&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(u=n.lanes|n.childLanes,u|=Gc,ib(e,s,u,d,_,y),e===Me&&(ae=Me=null,oe=0),Xs=n,pi=e,qn=s,Wu=u,Ju=c,ig=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x1(tr,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=H.p,H.p=2,d=ve,ve|=4;try{_1(e,n,s)}finally{ve=d,H.p=c,O.T=r}}$e=1,pg(),gg(),_g()}}function pg(){if($e===1){$e=0;var e=pi,n=Xs,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=H.p;H.p=2;var c=ve;ve|=4;try{Kp(n,e);var u=mf,d=tm(e.containerInfo),_=u.focusedElem,y=u.selectionRange;if(d!==_&&_&&_.ownerDocument&&em(_.ownerDocument.documentElement,_)){if(y!==null&&jc(_)){var N=y.start,D=y.end;if(D===void 0&&(D=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(D,_.value.length);else{var I=_.ownerDocument||document,x=I&&I.defaultView||window;if(x.getSelection){var R=x.getSelection(),V=_.textContent.length,F=Math.min(y.start,V),Re=y.end===void 0?F:Math.min(y.end,V);!R.extend&&F>Re&&(d=Re,Re=F,F=d);var C=$d(_,F),E=$d(_,Re);if(C&&E&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var A=I.createRange();A.setStart(C.node,C.offset),R.removeAllRanges(),F>Re?(R.addRange(A),R.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),R.addRange(A))}}}}for(I=[],R=_;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var M=I[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}fo=!!df,mf=df=null}finally{ve=c,H.p=r,O.T=s}}e.current=n,$e=2}}function gg(){if($e===2){$e=0;var e=pi,n=Xs,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=H.p;H.p=2;var c=ve;ve|=4;try{Pp(e,n.alternate,n)}finally{ve=c,H.p=r,O.T=s}}$e=3}}function _g(){if($e===4||$e===3){$e=0,X0();var e=pi,n=Xs,s=qn,r=ig;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Xs=pi=null,yg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(mi=null),vc(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Aa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=O.T,c=H.p,H.p=2,O.T=null;try{for(var u=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];u(_.value,{componentStack:_.stack})}}finally{O.T=n,H.p=c}}(qn&3)!==0&&$r(),bn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===$u?rl++:(rl=0,$u=e):rl=0,ol(0)}}function yg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Va(n)))}function $r(){return pg(),gg(),_g(),vg()}function vg(){if($e!==5)return!1;var e=pi,n=Wu;Wu=0;var s=vc(qn),r=O.T,c=H.p;try{H.p=32>s?32:s,O.T=null,s=Ju,Ju=null;var u=pi,d=qn;if($e=0,Xs=pi=null,qn=0,(ve&6)!==0)throw Error(l(331));var _=ve;if(ve|=4,eg(u.current),Wp(u,u.current,d,s),ve=_,ol(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Aa,u)}catch{}return!0}finally{H.p=c,O.T=r,yg(e,n)}}function bg(e,n,s){n=Jt(s,n),n=Du(e.stateNode,n,2),e=oi(e,n,2),e!==null&&(xa(e,2),bn(e))}function we(e,n,s){if(e.tag===3)bg(e,e,s);else for(;n!==null;){if(n.tag===3){bg(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){e=Jt(s,e),s=Sp(2),r=oi(n,s,2),r!==null&&(Ep(s,r,n,e),xa(r,2),bn(r));break}}n=n.return}}function nf(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new b1;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(Xu=!0,c.add(s),e=w1.bind(null,e,n,s),n.then(e,e))}function w1(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Me===e&&(oe&s)===s&&(qe===4||qe===3&&(oe&62914560)===oe&&300>zt()-Fr?(ve&2)===0&&Ks(e,0):Ku|=s,Fs===oe&&(Fs=0)),bn(e)}function Sg(e,n){n===0&&(n=pd()),e=Fi(e,n),e!==null&&(xa(e,n),bn(e))}function A1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Sg(e,s)}function N1(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Sg(e,s)}function x1(e,n){return pc(e,n)}var eo=null,Ws=null,sf=!1,to=!1,af=!1,_i=0;function bn(e){e!==Ws&&e.next===null&&(Ws===null?eo=Ws=e:Ws=Ws.next=e),to=!0,sf||(sf=!0,O1())}function ol(e,n){if(!af&&to){af=!0;do for(var s=!1,r=eo;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var d=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Ht(42|e)+1)-1,u&=c&~(d&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,wg(r,u))}else u=oe,u=ar(r,r===Me?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Na(r,u)||(s=!0,wg(r,u));r=r.next}while(s);af=!1}}function R1(){Eg()}function Eg(){to=sf=!1;var e=0;_i!==0&&B1()&&(e=_i);for(var n=zt(),s=null,r=eo;r!==null;){var c=r.next,u=Tg(r,n);u===0?(r.next=null,s===null?eo=c:s.next=c,c===null&&(Ws=s)):(s=r,(e!==0||(u&3)!==0)&&(to=!0)),r=c}$e!==0&&$e!==5||ol(e),_i!==0&&(_i=0)}function Tg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-Ht(u),_=1<<d,y=c[d];y===-1?((_&s)===0||(_&r)!==0)&&(c[d]=nb(_,n)):y<=n&&(e.expiredLanes|=_),u&=~_}if(n=Me,s=oe,s=ar(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&gc(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Na(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&gc(r),vc(s)){case 2:case 8:s=dd;break;case 32:s=tr;break;case 268435456:s=md;break;default:s=tr}return r=Cg.bind(null,e),s=pc(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&gc(r),e.callbackPriority=2,e.callbackNode=null,2}function Cg(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if($r()&&e.callbackNode!==s)return null;var r=oe;return r=ar(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ag(e,r,n),Tg(e,zt()),e.callbackNode!=null&&e.callbackNode===s?Cg.bind(null,e):null)}function wg(e,n){if($r())return null;ag(e,n,!0)}function O1(){V1(function(){(ve&6)!==0?pc(hd,R1):Eg()})}function lf(){if(_i===0){var e=Ls;e===0&&(e=nr,nr<<=1,(nr&261888)===0&&(nr=256)),_i=e}return _i}function Ag(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function Ng(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function D1(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var u=Ag((c[wt]||null).action),d=r.submitter;d&&(n=(n=d[wt]||null)?Ag(n.formAction):d.getAttribute("formAction"),n!==null&&(u=n,d=null));var _=new dr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_i!==0){var y=d?Ng(c,d):new FormData(c);wu(s,{pending:!0,data:y,method:c.method,action:u},null,y)}}else typeof u=="function"&&(_.preventDefault(),y=d?Ng(c,d):new FormData(c),wu(s,{pending:!0,data:y,method:c.method,action:u},u,y))},currentTarget:c}]})}}for(var rf=0;rf<Vc.length;rf++){var of=Vc[rf],M1=of.toLowerCase(),I1=of[0].toUpperCase()+of.slice(1);on(M1,"on"+I1)}on(sm,"onAnimationEnd"),on(am,"onAnimationIteration"),on(lm,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Kb,"onTransitionRun"),on(Zb,"onTransitionStart"),on(Wb,"onTransitionCancel"),on(rm,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function xg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],y=_.instance,N=_.currentTarget;if(_=_.listener,y!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(D){gr(D)}c.currentTarget=null,u=y}else for(d=0;d<r.length;d++){if(_=r[d],y=_.instance,N=_.currentTarget,_=_.listener,y!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(D){gr(D)}c.currentTarget=null,u=y}}}}function le(e,n){var s=n[bc];s===void 0&&(s=n[bc]=new Set);var r=e+"__bubble";s.has(r)||(Rg(n,e,2,!1),s.add(r))}function cf(e,n,s){var r=0;n&&(r|=4),Rg(s,e,r,n)}var no="_reactListening"+Math.random().toString(36).slice(2);function uf(e){if(!e[no]){e[no]=!0,Ed.forEach(function(s){s!=="selectionchange"&&(k1.has(s)||cf(s,!1,e),cf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[no]||(n[no]=!0,cf("selectionchange",!1,n))}}function Rg(e,n,s,r){switch(s_(n)){case 2:var c=oS;break;case 8:c=cS;break;default:c=wf}s=c.bind(null,n,s,e),c=void 0,!Rc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ff(e,n,s,r,c){var u=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=r.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=vs(_),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){r=u=d;continue e}_=_.parentNode}}r=r.return}kd(function(){var N=u,D=Nc(s),I=[];e:{var x=om.get(e);if(x!==void 0){var R=dr,V=e;switch(e){case"keypress":if(fr(s)===0)break e;case"keydown":case"keyup":R=Nb;break;case"focusin":V="focus",R=Ic;break;case"focusout":V="blur",R=Ic;break;case"beforeblur":case"afterblur":R=Ic;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Ob;break;case sm:case am:case lm:R=yb;break;case rm:R=Mb;break;case"scroll":case"scrollend":R=db;break;case"wheel":R=kb;break;case"copy":case"cut":case"paste":R=bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Hd;break;case"toggle":case"beforetoggle":R=Lb}var F=(n&4)!==0,Re=!F&&(e==="scroll"||e==="scrollend"),C=F?x!==null?x+"Capture":null:x;F=[];for(var E=N,A;E!==null;){var M=E;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=Da(E,C),M!=null&&F.push(ul(E,M,A))),Re)break;E=E.return}0<F.length&&(x=new R(x,V,null,s,D),I.push({event:x,listeners:F}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",x&&s!==Ac&&(V=s.relatedTarget||s.fromElement)&&(vs(V)||V[ys]))break e;if((R||x)&&(x=D.window===D?D:(x=D.ownerDocument)?x.defaultView||x.parentWindow:window,R?(V=s.relatedTarget||s.toElement,R=N,V=V?vs(V):null,V!==null&&(Re=f(V),F=V.tag,V!==Re||F!==5&&F!==27&&F!==6)&&(V=null)):(R=null,V=N),R!==V)){if(F=zd,M="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(F=Hd,M="onPointerLeave",C="onPointerEnter",E="pointer"),Re=R==null?x:Oa(R),A=V==null?x:Oa(V),x=new F(M,E+"leave",R,s,D),x.target=Re,x.relatedTarget=A,M=null,vs(D)===N&&(F=new F(C,E+"enter",V,s,D),F.target=A,F.relatedTarget=Re,M=F),Re=M,R&&V)t:{for(F=U1,C=R,E=V,A=0,M=C;M;M=F(M))A++;M=0;for(var P=E;P;P=F(P))M++;for(;0<A-M;)C=F(C),A--;for(;0<M-A;)E=F(E),M--;for(;A--;){if(C===E||E!==null&&C===E.alternate){F=C;break t}C=F(C),E=F(E)}F=null}else F=null;R!==null&&Og(I,x,R,F,!1),V!==null&&Re!==null&&Og(I,Re,V,F,!0)}}e:{if(x=N?Oa(N):window,R=x.nodeName&&x.nodeName.toLowerCase(),R==="select"||R==="input"&&x.type==="file")var pe=Fd;else if(Yd(x))if(Xd)pe=Qb;else{pe=Pb;var G=Gb}else R=x.nodeName,!R||R.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&wc(N.elementType)&&(pe=Fd):pe=Yb;if(pe&&(pe=pe(e,N))){Qd(I,pe,s,D);break e}G&&G(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&Cc(x,"number",x.value)}switch(G=N?Oa(N):window,e){case"focusin":(Yd(G)||G.contentEditable==="true")&&(xs=G,Hc=N,Ha=null);break;case"focusout":Ha=Hc=xs=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,nm(I,s,D);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":nm(I,s,D)}var ee;if(Uc)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Ns?Gd(e,s)&&(ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ce="onCompositionStart");ce&&(Bd&&s.locale!=="ko"&&(Ns||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Ns&&(ee=Ud()):(ti=D,Oc="value"in ti?ti.value:ti.textContent,Ns=!0)),G=io(N,ce),0<G.length&&(ce=new jd(ce,e,null,s,D),I.push({event:ce,listeners:G}),ee?ce.data=ee:(ee=Pd(s),ee!==null&&(ce.data=ee)))),(ee=jb?Hb(e,s):Bb(e,s))&&(ce=io(N,"onBeforeInput"),0<ce.length&&(G=new jd("onBeforeInput","beforeinput",null,s,D),I.push({event:G,listeners:ce}),G.data=ee)),D1(I,e,N,s,D)}xg(I,n)})}function ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function io(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Da(e,s),c!=null&&r.unshift(ul(e,c,u)),c=Da(e,n),c!=null&&r.push(ul(e,c,u))),e.tag===3)return r;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,n,s,r,c){for(var u=n._reactName,d=[];s!==null&&s!==r;){var _=s,y=_.alternate,N=_.stateNode;if(_=_.tag,y!==null&&y===r)break;_!==5&&_!==26&&_!==27||N===null||(y=N,c?(N=Da(s,u),N!=null&&d.unshift(ul(s,N,y))):c||(N=Da(s,u),N!=null&&d.push(ul(s,N,y)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var L1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(L1,`
`).replace(z1,"")}function Mg(e,n){return n=Dg(n),Dg(e)===n}function xe(e,n,s,r,c,u){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Cs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Cs(e,""+r);break;case"className":rr(e,"class",r);break;case"tabIndex":rr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,s,r);break;case"style":Md(e,r,u);break;case"data":if(n!=="object"){rr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=cr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&xe(e,n,"name",c.name,c,null),xe(e,n,"formEncType",c.formEncType,c,null),xe(e,n,"formMethod",c.formMethod,c,null),xe(e,n,"formTarget",c.formTarget,c,null)):(xe(e,n,"encType",c.encType,c,null),xe(e,n,"method",c.method,c,null),xe(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=cr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=An);break;case"onScroll":r!=null&&le("scroll",e);break;case"onScrollEnd":r!=null&&le("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=cr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":le("beforetoggle",e),le("toggle",e),lr(e,"popover",r);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fb.get(s)||s,lr(e,s,r))}}function hf(e,n,s,r,c,u){switch(s){case"style":Md(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Cs(e,r):(typeof r=="number"||typeof r=="bigint")&&Cs(e,""+r);break;case"onScroll":r!=null&&le("scroll",e);break;case"onScrollEnd":r!=null&&le("scrollend",e);break;case"onClick":r!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),u=e[wt]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(n,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):lr(e,s,r)}}}function ht(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",e),le("load",e);var r=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var d=s[u];if(d!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,u,d,s,null)}}c&&xe(e,n,"srcSet",s.srcSet,s,null),r&&xe(e,n,"src",s.src,s,null);return;case"input":le("invalid",e);var _=u=d=c=null,y=null,N=null;for(r in s)if(s.hasOwnProperty(r)){var D=s[r];if(D!=null)switch(r){case"name":c=D;break;case"type":d=D;break;case"checked":y=D;break;case"defaultChecked":N=D;break;case"value":u=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,n));break;default:xe(e,n,r,D,s,null)}}xd(e,u,_,y,N,d,c,!1);return;case"select":le("invalid",e),r=d=u=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:xe(e,n,c,_,s,null)}n=u,s=d,e.multiple=!!r,n!=null?Ts(e,!!r,n,!1):s!=null&&Ts(e,!!r,s,!0);return;case"textarea":le("invalid",e),u=c=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:xe(e,n,d,_,s,null)}Od(e,r,c,u);return;case"option":for(y in s)s.hasOwnProperty(y)&&(r=s[y],r!=null)&&(y==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":xe(e,n,y,r,s,null));return;case"dialog":le("beforetoggle",e),le("toggle",e),le("cancel",e),le("close",e);break;case"iframe":case"object":le("load",e);break;case"video":case"audio":for(r=0;r<cl.length;r++)le(cl[r],e);break;case"image":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"embed":case"source":case"link":le("error",e),le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,N,r,s,null)}return;default:if(wc(n)){for(D in s)s.hasOwnProperty(D)&&(r=s[D],r!==void 0&&hf(e,n,D,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&xe(e,n,_,r,s,null))}function j1(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,d=null,_=null,y=null,N=null,D=null;for(R in s){var I=s[R];if(s.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":y=I;default:r.hasOwnProperty(R)||xe(e,n,R,null,r,I)}}for(var x in r){var R=r[x];if(I=s[x],r.hasOwnProperty(x)&&(R!=null||I!=null))switch(x){case"type":u=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":D=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==I&&xe(e,n,x,R,r,I)}}Tc(e,d,_,y,N,D,u,c);return;case"select":R=d=_=x=null;for(u in s)if(y=s[u],s.hasOwnProperty(u)&&y!=null)switch(u){case"value":break;case"multiple":R=y;default:r.hasOwnProperty(u)||xe(e,n,u,null,r,y)}for(c in r)if(u=r[c],y=s[c],r.hasOwnProperty(c)&&(u!=null||y!=null))switch(c){case"value":x=u;break;case"defaultValue":_=u;break;case"multiple":d=u;default:u!==y&&xe(e,n,c,u,r,y)}n=_,s=d,r=R,x!=null?Ts(e,!!s,x,!1):!!r!=!!s&&(n!=null?Ts(e,!!s,n,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":R=x=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:xe(e,n,_,null,r,c)}for(d in r)if(c=r[d],u=s[d],r.hasOwnProperty(d)&&(c!=null||u!=null))switch(d){case"value":x=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==u&&xe(e,n,d,c,r,u)}Rd(e,x,R);return;case"option":for(var V in s)x=s[V],s.hasOwnProperty(V)&&x!=null&&!r.hasOwnProperty(V)&&(V==="selected"?e.selected=!1:xe(e,n,V,null,r,x));for(y in r)x=r[y],R=s[y],r.hasOwnProperty(y)&&x!==R&&(x!=null||R!=null)&&(y==="selected"?e.selected=x&&typeof x!="function"&&typeof x!="symbol":xe(e,n,y,x,r,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in s)x=s[F],s.hasOwnProperty(F)&&x!=null&&!r.hasOwnProperty(F)&&xe(e,n,F,null,r,x);for(N in r)if(x=r[N],R=s[N],r.hasOwnProperty(N)&&x!==R&&(x!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,n));break;default:xe(e,n,N,x,r,R)}return;default:if(wc(n)){for(var Re in s)x=s[Re],s.hasOwnProperty(Re)&&x!==void 0&&!r.hasOwnProperty(Re)&&hf(e,n,Re,void 0,r,x);for(D in r)x=r[D],R=s[D],!r.hasOwnProperty(D)||x===R||x===void 0&&R===void 0||hf(e,n,D,x,r,R);return}}for(var C in s)x=s[C],s.hasOwnProperty(C)&&x!=null&&!r.hasOwnProperty(C)&&xe(e,n,C,null,r,x);for(I in r)x=r[I],R=s[I],!r.hasOwnProperty(I)||x===R||x==null&&R==null||xe(e,n,I,x,r,R)}function Ig(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],u=c.transferSize,d=c.initiatorType,_=c.duration;if(u&&_&&Ig(d)){for(d=0,_=c.responseEnd,r+=1;r<s.length;r++){var y=s[r],N=y.startTime;if(N>_)break;var D=y.transferSize,I=y.initiatorType;D&&Ig(I)&&(y=y.responseEnd,d+=D*(y<_?1:(_-N)/(y-N)))}if(--r,n+=8*(u+d)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var df=null,mf=null;function so(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ug(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function B1(){var e=window.event;return e&&e.type==="popstate"?e===gf?!1:(gf=e,!0):(gf=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(e){return zg.resolve(null).then(e).catch(G1)}:Lg;function G1(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function jg(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),ta(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var u=s.firstChild;u;){var d=u.nextSibling,_=u.nodeName;u[Ra]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=d}}else s==="body"&&fl(e.ownerDocument.body);s=c}while(s);ta(n)}function Hg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function _f(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_f(s),Sc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function P1(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function Y1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=sn(e.nextSibling),e===null))return null;return e}function Bg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sn(e.nextSibling),e===null))return null;return e}function yf(e){return e.data==="$?"||e.data==="$~"}function vf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function sn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bf=null;function qg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return sn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Vg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Gg(e,n,s){switch(n=so(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Sc(e)}var an=new Map,Pg=new Set;function ao(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=H.d;H.d={f:F1,r:X1,D:K1,C:Z1,L:W1,m:J1,X:eS,S:$1,M:tS};function F1(){var e=Vn.f(),n=Zr();return e||n}function X1(e){var n=bs(e);n!==null&&n.tag===5&&n.type==="form"?rp(n):Vn.r(e)}var Js=typeof document>"u"?null:document;function Yg(e,n,s){var r=Js;if(r&&typeof n=="string"&&n){var c=Zt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Pg.has(c)||(Pg.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),ht(n,"link",e),it(n),r.head.appendChild(n)))}}function K1(e){Vn.D(e),Yg("dns-prefetch",e,null)}function Z1(e,n){Vn.C(e,n),Yg("preconnect",e,n)}function W1(e,n,s){Vn.L(e,n,s);var r=Js;if(r&&e&&n){var c='link[rel="preload"][as="'+Zt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Zt(s.imageSizes)+'"]')):c+='[href="'+Zt(e)+'"]';var u=c;switch(n){case"style":u=$s(e);break;case"script":u=ea(e)}an.has(u)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),an.set(u,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(hl(u))||n==="script"&&r.querySelector(dl(u))||(n=r.createElement("link"),ht(n,"link",e),it(n),r.head.appendChild(n)))}}function J1(e,n){Vn.m(e,n);var s=Js;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Zt(r)+'"][href="'+Zt(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ea(e)}if(!an.has(u)&&(e=v({rel:"modulepreload",href:e},n),an.set(u,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(u)))return}r=s.createElement("link"),ht(r,"link",e),it(r),s.head.appendChild(r)}}}function $1(e,n,s){Vn.S(e,n,s);var r=Js;if(r&&e){var c=Ss(r).hoistableStyles,u=$s(e);n=n||"default";var d=c.get(u);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(hl(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=an.get(u))&&Sf(e,s);var y=d=r.createElement("link");it(y),ht(y,"link",e),y._p=new Promise(function(N,D){y.onload=N,y.onerror=D}),y.addEventListener("load",function(){_.loading|=1}),y.addEventListener("error",function(){_.loading|=2}),_.loading|=4,lo(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(u,d)}}}function eS(e,n){Vn.X(e,n);var s=Js;if(s&&e){var r=Ss(s).hoistableScripts,c=ea(e),u=r.get(c);u||(u=s.querySelector(dl(c)),u||(e=v({src:e,async:!0},n),(n=an.get(c))&&Ef(e,n),u=s.createElement("script"),it(u),ht(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function tS(e,n){Vn.M(e,n);var s=Js;if(s&&e){var r=Ss(s).hoistableScripts,c=ea(e),u=r.get(c);u||(u=s.querySelector(dl(c)),u||(e=v({src:e,async:!0,type:"module"},n),(n=an.get(c))&&Ef(e,n),u=s.createElement("script"),it(u),ht(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Qg(e,n,s,r){var c=(c=te.current)?ao(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=$s(s.href),s=Ss(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=$s(s.href);var u=Ss(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(hl(e)))&&!u._p&&(d.instance=u,d.state.loading=5),an.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},an.set(e,s),u||nS(c,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ea(s),s=Ss(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $s(e){return'href="'+Zt(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function Fg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),ht(n,"link",s),it(n),e.head.appendChild(n))}function ea(e){return'[src="'+Zt(e)+'"]'}function dl(e){return"script[async]"+e}function Xg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Zt(s.href)+'"]');if(r)return n.instance=r,it(r),r;var c=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),it(r),ht(r,"style",c),lo(r,s.precedence,e),n.instance=r;case"stylesheet":c=$s(s.href);var u=e.querySelector(hl(c));if(u)return n.state.loading|=4,n.instance=u,it(u),u;r=Fg(s),(c=an.get(c))&&Sf(r,c),u=(e.ownerDocument||e).createElement("link"),it(u);var d=u;return d._p=new Promise(function(_,y){d.onload=_,d.onerror=y}),ht(u,"link",r),n.state.loading|=4,lo(u,s.precedence,e),n.instance=u;case"script":return u=ea(s.src),(c=e.querySelector(dl(u)))?(n.instance=c,it(c),c):(r=s,(c=an.get(u))&&(r=v({},s),Ef(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),it(c),ht(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,lo(r,s.precedence,e));return n.instance}function lo(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ef(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ro=null;function Kg(e,n,s){if(ro===null){var r=new Map,c=ro=new Map;c.set(s,r)}else c=ro,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var u=s[c];if(!(u[Ra]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(u):r.set(d,[u])}}return r}function Zg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sS(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=$s(r.href),u=n.querySelector(hl(c));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=u,it(u);return}u=n.ownerDocument||n,r=Fg(r),(c=an.get(c))&&Sf(r,c),u=u.createElement("link"),it(u);var d=u;d._p=new Promise(function(_,y){d.onload=_,d.onerror=y}),ht(u,"link",r),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=oo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Tf=0;function aS(e,n){return e.stylesheets&&e.count===0&&uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+n);0<e.imgBytes&&Tf===0&&(Tf=62500*H1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Tf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var co=null;function uo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,co=new Map,n.forEach(lS,e),co=null,oo.call(e))}function lS(e,n){if(!(n.state.loading&4)){var s=co.get(e);if(s)var r=s.get(null);else{s=new Map,co.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var d=c[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}c=n.instance,d=c.getAttribute("data-precedence"),u=s.get(d)||r,u===r&&s.set(null,c),s.set(d,c),this.count++,r=oo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:Ae,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function rS(e,n,s,r,c,u,d,_,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_c(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_c(0),this.hiddenUpdates=_c(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Jg(e,n,s,r,c,u,d,_,y,N,D,I){return e=new rS(e,n,s,d,y,N,D,I,_),n=1,u===!0&&(n|=24),u=qt(3,null,null,n),e.current=u,u.stateNode=e,n=tu(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:s,cache:n},au(u),e}function $g(e){return e?(e=Ds,e):Ds}function e_(e,n,s,r,c,u){c=$g(c),r.context===null?r.context=c:r.pendingContext=c,r=ri(n),r.payload={element:s},u=u===void 0?null:u,u!==null&&(r.callback=u),s=oi(e,r,n),s!==null&&(Dt(s,e,n),Qa(s,e,n))}function t_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Cf(e,n){t_(e,n),(e=e.alternate)&&t_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=Fi(e,67108864);n!==null&&Dt(n,e,67108864),Cf(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=Qt();n=yc(n);var s=Fi(e,n);s!==null&&Dt(s,e,n),Cf(e,n)}}var fo=!0;function oS(e,n,s,r){var c=O.T;O.T=null;var u=H.p;try{H.p=2,wf(e,n,s,r)}finally{H.p=u,O.T=c}}function cS(e,n,s,r){var c=O.T;O.T=null;var u=H.p;try{H.p=8,wf(e,n,s,r)}finally{H.p=u,O.T=c}}function wf(e,n,s,r){if(fo){var c=Af(r);if(c===null)ff(e,n,r,ho,s),a_(e,r);else if(fS(c,e,n,s,r))r.stopPropagation();else if(a_(e,r),n&4&&-1<uS.indexOf(e)){for(;c!==null;){var u=bs(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Vi(u.pendingLanes);if(d!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var y=1<<31-Ht(d);_.entanglements[1]|=y,d&=~y}bn(u),(ve&6)===0&&(Xr=zt()+500,ol(0))}}break;case 31:case 13:_=Fi(u,2),_!==null&&Dt(_,u,2),Zr(),Cf(u,2)}if(u=Af(r),u===null&&ff(e,n,r,ho,s),u===c)break;c=u}c!==null&&r.stopPropagation()}else ff(e,n,r,null,s)}}function Af(e){return e=Nc(e),Nf(e)}var ho=null;function Nf(e){if(ho=null,e=vs(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ho=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K0()){case hd:return 2;case dd:return 8;case tr:case Z0:return 32;case md:return 268435456;default:return 32}default:return 32}}var xf=!1,vi=null,bi=null,Si=null,pl=new Map,gl=new Map,Ei=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,n){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function _l(e,n,s,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},n!==null&&(n=bs(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function fS(e,n,s,r,c){switch(n){case"focusin":return vi=_l(vi,e,n,s,r,c),!0;case"dragenter":return bi=_l(bi,e,n,s,r,c),!0;case"mouseover":return Si=_l(Si,e,n,s,r,c),!0;case"pointerover":var u=c.pointerId;return pl.set(u,_l(pl.get(u)||null,e,n,s,r,c)),!0;case"gotpointercapture":return u=c.pointerId,gl.set(u,_l(gl.get(u)||null,e,n,s,r,c)),!0}return!1}function l_(e){var n=vs(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,bd(e.priority,function(){i_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Af(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Ac=r,s.target.dispatchEvent(r),Ac=null}else return n=bs(s),n!==null&&n_(n),e.blockedOn=s,!1;n.shift()}return!0}function r_(e,n,s){mo(e)&&s.delete(n)}function hS(){xf=!1,vi!==null&&mo(vi)&&(vi=null),bi!==null&&mo(bi)&&(bi=null),Si!==null&&mo(Si)&&(Si=null),pl.forEach(r_),gl.forEach(r_)}function po(e,n){e.blockedOn===n&&(e.blockedOn=null,xf||(xf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hS)))}var go=null;function o_(e){go!==e&&(go=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){go===e&&(go=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(Nf(r||s)===null)continue;break}var u=bs(s);u!==null&&(e.splice(n,3),n-=3,wu(u,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ta(e){function n(y){return po(y,e)}vi!==null&&po(vi,e),bi!==null&&po(bi,e),Si!==null&&po(Si,e),pl.forEach(n),gl.forEach(n);for(var s=0;s<Ei.length;s++){var r=Ei[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ei.length&&(s=Ei[0],s.blockedOn===null);)l_(s),s.blockedOn===null&&Ei.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],u=s[r+1],d=c[wt]||null;if(typeof u=="function")d||o_(s);else if(d){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,d=u[wt]||null)_=d.formAction;else if(Nf(c)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),o_(s)}}}function c_(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Rf(e){this._internalRoot=e}_o.prototype.render=Rf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Qt();e_(s,r,e,n,null,null)},_o.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e_(e.current,2,null,e,null,null),Zr(),n[ys]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var n=vd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ei.length&&n!==0&&n<Ei[s].priority;s++);Ei.splice(s,0,e),s===0&&l_(e)}};var u_=t.version;if(u_!=="19.2.4")throw Error(l(527,u_,"19.2.4"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Aa=yo.inject(dS),jt=yo}catch{}}return vl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=_p,u=yp,d=vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Jg(e,1,!1,null,null,s,r,null,c,u,d,c_),e[ys]=n.current,uf(e),new Rf(n)},vl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",u=_p,d=yp,_=vp,y=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(y=s.formState)),n=Jg(e,1,!0,n,s??null,r,c,y,u,d,_,c_),n.context=$g(null),s=n.current,r=Qt(),r=yc(r),c=ri(r),c.callback=null,oi(s,c,r),s=r,n.current.lanes=s,xa(n,s),bn(n),e[ys]=n.current,uf(e),new _o(n)},vl.version="19.2.4",vl}var b_;function TS(){if(b_)return Mf.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Mf.exports=ES(),Mf.exports}var CS=TS();const wS=()=>{};var S_={};const Ly={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const L=function(a,t){if(!a)throw ya(t)},ya=function(a){return new Error("Firebase Database ("+Ly.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const zy=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},AS=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],h=a[i++],m=a[i++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const f=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return t.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,b=f>>2,v=(f&3)<<4|m>>4;let S=(m&15)<<2|p>>6,U=p&63;g||(U=64,h||(S=64)),l.push(i[b],i[v],i[S],i[U])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(zy(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):AS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const v=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||p==null||v==null)throw new NS;const S=f<<2|m>>4;if(l.push(S),p!==64){const U=m<<4&240|p>>2;if(l.push(U),v!==64){const j=p<<6&192|v;l.push(j)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(a){const t=zy(a);return bh.encodeByteArray(t,!0)},xo=function(a){return jy(a).replace(/\./g,"")},Ro=function(a){try{return bh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(a){return Hy(void 0,a)}function Hy(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!RS(i)||(a[i]=Hy(a[i],t[i]));return a}function RS(a){return a!=="__proto__"}function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>OS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof S_>"u")return;const a=S_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},IS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Ro(a[1]);return t&&JSON.parse(t)},Sh=()=>{try{return wS()||DS()||MS()||IS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},By=a=>Sh()?.emulatorHosts?.[a],kS=a=>{const t=By(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},qy=()=>Sh()?.config,Vy=a=>Sh()?.[`_${a}`];class Pl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function va(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(a){return(await fetch(a,{credentials:"include"})).ok}function US(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xo(JSON.stringify(i)),xo(JSON.stringify(h)),""].join(".")}const wl={};function LS(){const a={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?a.emulator.push(t):a.prod.push(t);return a}function zS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let E_=!1;function Py(a,t){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||wl[a]===t||wl[a]||E_)return;wl[a]=t;function i(S){return`__firebase__banner__${S}`}const l="__firebase__banner",f=LS().prod.length>0;function h(){const S=document.getElementById(l);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{E_=!0,h()},S}function b(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=zS(l),U=i("text"),j=document.getElementById(U)||document.createElement("span"),Q=i("learnmore"),he=document.getElementById(Q)||document.createElement("a"),Ee=i("preprendIcon"),Ue=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Ae=S.element;m(Ae),b(he,Q);const Ze=p();g(Ue,Ee),Ae.append(Ue,j,he,Ze),document.body.appendChild(Ae)}f?(j.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Yy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const a=Tt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function qS(){return Ly.NODE_ADMIN===!0}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const PS="FirebaseError";class Bi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=PS,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],h=f?YS(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Bi(o,m,l)}}function YS(a,t){return a.replace(QS,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const QS=/\{\$([^}]+)}/g;function Ml(a){return JSON.parse(a)}function tt(a){return JSON.stringify(a)}const Qy=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=Ml(Ro(f[0])||""),i=Ml(Ro(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},FS=function(a){const t=Qy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},XS=function(a){const t=Qy(a).claims;return typeof t=="object"&&t.admin===!0};function Tn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function fa(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Wf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Oo(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function cs(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],h=t[o];if(T_(f)&&T_(h)){if(!cs(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function T_(a){return a!==null&&typeof a=="object"}function ba(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class KS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)l[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)l[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const S=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,b;for(let v=0;v<80;v++){v<40?v<20?(p=m^f&(h^m),b=1518500249):(p=f^h^m,b=1859775393):v<60?(p=f&h|m&(f|h),b=2400959708):(p=f^h^m,b=3395469782);const S=(o<<5|o>>>27)+p+g+b+l[v]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<i;)if(f[h]=t[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function ZS(a,t){const i=new WS(a,t);return i.subscribe.bind(i)}class WS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");JS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Lf),o.error===void 0&&(o.error=Lf),o.complete===void 0&&(o.complete=Lf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Lf(){}function Wo(a,t){return`${a} failed: ${t} argument `}const $S=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,L(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Jo=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function It(a){return a&&a._delegate?a._delegate:a}class us{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ls="[DEFAULT]";class eE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Pl;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nE(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:tE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tE(a){return a===ls?void 0:a}function nE(a){return a.instantiationMode==="EAGER"}class iE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Oe||(Oe={}));const sE={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},aE=Oe.INFO,lE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},rE=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=lE[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Th{constructor(t){this.name=t,this._logLevel=aE,this._logHandler=rE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...t),this._logHandler(this,Oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...t),this._logHandler(this,Oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...t),this._logHandler(this,Oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...t),this._logHandler(this,Oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...t),this._logHandler(this,Oe.ERROR,...t)}}const oE=(a,t)=>t.some(i=>a instanceof i);let C_,w_;function cE(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uE(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fy=new WeakMap,Jf=new WeakMap,Xy=new WeakMap,zf=new WeakMap,Ch=new WeakMap;function fE(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{i(Oi(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Fy.set(i,a)}).catch(()=>{}),Ch.set(t,a),t}function hE(a){if(Jf.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Jf.set(a,t)}let $f={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Jf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Xy.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function dE(a){$f=a($f)}function mE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(jf(this),t,...i);return Xy.set(l,t.sort?t.sort():[t]),Oi(l)}:uE().includes(a)?function(...t){return a.apply(jf(this),t),Oi(Fy.get(this))}:function(...t){return Oi(a.apply(jf(this),t))}}function pE(a){return typeof a=="function"?mE(a):(a instanceof IDBTransaction&&hE(a),oE(a,cE())?new Proxy(a,$f):a)}function Oi(a){if(a instanceof IDBRequest)return fE(a);if(zf.has(a))return zf.get(a);const t=pE(a);return t!==a&&(zf.set(a,t),Ch.set(t,a)),t}const jf=a=>Ch.get(a);function gE(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,t),m=Oi(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Oi(h.result),g.oldVersion,g.newVersion,Oi(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const _E=["get","getKey","getAll","getAllKeys","count"],yE=["put","add","delete","clear"],Hf=new Map;function A_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Hf.get(t))return Hf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=yE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||_E.includes(i)))return;const f=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Hf.set(t,f),f}dE(a=>({...a,get:(t,i,l)=>A_(t,i)||a.get(t,i,l),has:(t,i)=>!!A_(t,i)||a.has(t,i)}));class vE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function bE(a){return a.getComponent()?.type==="VERSION"}const eh="@firebase/app",N_="0.14.8";const Fn=new Th("@firebase/app"),SE="@firebase/app-compat",EE="@firebase/analytics-compat",TE="@firebase/analytics",CE="@firebase/app-check-compat",wE="@firebase/app-check",AE="@firebase/auth",NE="@firebase/auth-compat",xE="@firebase/database",RE="@firebase/data-connect",OE="@firebase/database-compat",DE="@firebase/functions",ME="@firebase/functions-compat",IE="@firebase/installations",kE="@firebase/installations-compat",UE="@firebase/messaging",LE="@firebase/messaging-compat",zE="@firebase/performance",jE="@firebase/performance-compat",HE="@firebase/remote-config",BE="@firebase/remote-config-compat",qE="@firebase/storage",VE="@firebase/storage-compat",GE="@firebase/firestore",PE="@firebase/ai",YE="@firebase/firestore-compat",QE="firebase",FE="12.9.0";const th="[DEFAULT]",XE={[eh]:"fire-core",[SE]:"fire-core-compat",[TE]:"fire-analytics",[EE]:"fire-analytics-compat",[wE]:"fire-app-check",[CE]:"fire-app-check-compat",[AE]:"fire-auth",[NE]:"fire-auth-compat",[xE]:"fire-rtdb",[RE]:"fire-data-connect",[OE]:"fire-rtdb-compat",[DE]:"fire-fn",[ME]:"fire-fn-compat",[IE]:"fire-iid",[kE]:"fire-iid-compat",[UE]:"fire-fcm",[LE]:"fire-fcm-compat",[zE]:"fire-perf",[jE]:"fire-perf-compat",[HE]:"fire-rc",[BE]:"fire-rc-compat",[qE]:"fire-gcs",[VE]:"fire-gcs-compat",[GE]:"fire-fst",[YE]:"fire-fst-compat",[PE]:"fire-vertex","fire-js":"fire-js",[QE]:"fire-js-all"};const Do=new Map,KE=new Map,nh=new Map;function x_(a,t){try{a.container.addComponent(t)}catch(i){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ha(a){const t=a.name;if(nh.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;nh.set(t,a);for(const i of Do.values())x_(i,a);for(const i of KE.values())x_(i,a);return!0}function wh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function fn(a){return a==null?!1:a.settings!==void 0}const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Yl("app","Firebase",ZE);class WE{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Sa=FE;function Ky(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:th,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(i||(i=qy()),!i)throw Di.create("no-options");const f=Do.get(o);if(f){if(cs(i,f.options)&&cs(l,f.config))return f;throw Di.create("duplicate-app",{appName:o})}const h=new iE(o);for(const g of nh.values())h.addComponent(g);const m=new WE(i,l,h);return Do.set(o,m),m}function Zy(a=th){const t=Do.get(a);if(!t&&a===th&&qy())return Ky();if(!t)throw Di.create("no-app",{appName:a});return t}function Mi(a,t,i){let l=XE[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(h.join(" "));return}ha(new us(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const JE="firebase-heartbeat-database",$E=1,Il="firebase-heartbeat-store";let Bf=null;function Wy(){return Bf||(Bf=gE(JE,$E,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(a=>{throw Di.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function eT(a){try{const i=(await Wy()).transaction(Il),l=await i.objectStore(Il).get(Jy(a));return await i.done,l}catch(t){if(t instanceof Bi)Fn.warn(t.message);else{const i=Di.create("idb-get",{originalErrorMessage:t?.message});Fn.warn(i.message)}}}async function R_(a,t){try{const l=(await Wy()).transaction(Il,"readwrite");await l.objectStore(Il).put(t,Jy(a)),await l.done}catch(i){if(i instanceof Bi)Fn.warn(i.message);else{const l=Di.create("idb-set",{originalErrorMessage:i?.message});Fn.warn(l.message)}}}function Jy(a){return`${a.name}!${a.options.appId}`}const tT=1024,nT=30;class iT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>nT){const o=lT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:i,unsentEntries:l}=sT(this._heartbeatsCache.heartbeats),o=xo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fn.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function sT(a,t=tT){const i=[];let l=a.slice();for(const o of a){const f=i.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),D_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class aT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function D_(a){return xo(JSON.stringify({version:2,heartbeats:a})).length}function lT(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function rT(a){ha(new us("platform-logger",t=>new vE(t),"PRIVATE")),ha(new us("heartbeat",t=>new iT(t),"PRIVATE")),Mi(eh,N_,a),Mi(eh,N_,"esm2020"),Mi("fire-js","")}rT("");var oT="firebase",cT="12.9.0";Mi(oT,cT,"app");function $y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uT=$y,ev=new Yl("auth","Firebase",$y());const Mo=new Th("@firebase/auth");function fT(a,...t){Mo.logLevel<=Oe.WARN&&Mo.warn(`Auth (${Sa}): ${a}`,...t)}function To(a,...t){Mo.logLevel<=Oe.ERROR&&Mo.error(`Auth (${Sa}): ${a}`,...t)}function Xn(a,...t){throw Ah(a,...t)}function Sn(a,...t){return Ah(a,...t)}function tv(a,t,i){const l={...uT(),[t]:i};return new Yl("auth","Firebase",l).create(t,{appName:a.name})}function Ii(a){return tv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ah(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return ev.create(a,...t)}function Z(a,t,...i){if(!a)throw Ah(t,...i)}function Gn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw To(t),new Error(t)}function Kn(a,t){a||Gn(t)}function ih(){return typeof self<"u"&&self.location?.href||""}function hT(){return M_()==="http:"||M_()==="https:"}function M_(){return typeof self<"u"&&self.location?.protocol||null}function dT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hT()||HS()||"connection"in navigator)?navigator.onLine:!0}function mT(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,Kn(i>t,"Short delay should be less than long delay!"),this.isMobile=Eh()||Yy()}get(){return dT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nh(a,t){Kn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class nv{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_T=new Ql(3e4,6e4);function $o(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ea(a,t,i,l,o={}){return iv(a,o,async()=>{let f={},h={};l&&(t==="GET"?h=l:f={body:JSON.stringify(l)});const m=ba({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...f};return jS()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&va(a.emulatorConfig.host)&&(p.credentials="include"),nv.fetch()(await av(a,a.config.apiHost,i,m),p)})}async function iv(a,t,i){a._canInitEmulator=!1;const l={...pT,...t};try{const o=new yT(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw vo(a,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vo(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw vo(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw vo(a,"user-disabled",h);const b=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tv(a,b,p);Xn(a,b)}}catch(o){if(o instanceof Bi)throw o;Xn(a,"network-request-failed",{message:String(o)})}}async function sv(a,t,i,l,o={}){const f=await Ea(a,t,i,l,o);return"mfaPendingCredential"in f&&Xn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function av(a,t,i,l){const o=`${t}${i}?${l}`,f=a,h=f.config.emulator?Nh(a.config,o):`${a.config.apiScheme}://${o}`;return gT.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class yT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(Sn(this.auth,"network-request-failed")),_T.get())})}}function vo(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=Sn(a,t,l);return o.customData._tokenResponse=i,o}async function vT(a,t){return Ea(a,"POST","/v1/accounts:delete",t)}async function Io(a,t){return Ea(a,"POST","/v1/accounts:lookup",t)}function Al(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bT(a,t=!1){const i=It(a),l=await i.getIdToken(t),o=xh(l);Z(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:Al(qf(o.auth_time)),issuedAtTime:Al(qf(o.iat)),expirationTime:Al(qf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function qf(a){return Number(a)*1e3}function xh(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return To("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ro(i);return o?JSON.parse(o):(To("Failed to decode base64 JWT payload"),null)}catch(o){return To("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I_(a){const t=xh(a);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Bi&&ST(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function ST({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class ET{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ko(a){const t=a.auth,i=await a.getIdToken(),l=await kl(a,Io(t,{idToken:i}));Z(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?lv(o.providerUserInfo):[],h=CT(a.providerData,f),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!h?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new sh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,b)}async function TT(a){const t=It(a);await ko(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CT(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function lv(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function wT(a,t){const i=await iv(a,{},async()=>{const l=ba({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,h=await av(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return a.emulatorConfig&&va(a.emulatorConfig.host)&&(g.credentials="include"),nv.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AT(a,t){return Ea(a,"POST","/v2/accounts:revokeToken",$o(a,t))}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const i=I_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await wT(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,h=new la;return l&&(Z(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(Z(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),f&&(Z(typeof f=="number","internal-error",{appName:t}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function Ci(a,t){Z(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class dn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new ET(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return Z(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return bT(this,t)}reload(){return TT(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new dn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await ko(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Ii(this.auth));const t=await this.getIdToken();return await kl(this,vT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:U,providerData:j,stsTokenManager:Q}=i;Z(v&&Q,t,"internal-error");const he=la.fromJSON(this.name,Q);Z(typeof v=="string",t,"internal-error"),Ci(l,t.name),Ci(o,t.name),Z(typeof S=="boolean",t,"internal-error"),Z(typeof U=="boolean",t,"internal-error"),Ci(f,t.name),Ci(h,t.name),Ci(m,t.name),Ci(g,t.name),Ci(p,t.name),Ci(b,t.name);const Ee=new dn({uid:v,auth:t,email:o,emailVerified:S,displayName:l,isAnonymous:U,photoURL:h,phoneNumber:f,tenantId:m,stsTokenManager:he,createdAt:p,lastLoginAt:b});return j&&Array.isArray(j)&&(Ee.providerData=j.map(Ue=>({...Ue}))),g&&(Ee._redirectEventId=g),Ee}static async _fromIdTokenResponse(t,i,l=!1){const o=new la;o.updateFromServerResponse(i);const f=new dn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await ko(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];Z(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?lv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new la;m.updateFromIdToken(l);const g=new dn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(g,p),g}}const k_=new Map;function Pn(a){Kn(a instanceof Function,"Expected a class definition");let t=k_.get(a);return t?(Kn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,k_.set(a,t),t)}class rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rv.type="NONE";const U_=rv;function Co(a,t,i){return`firebase:${a}:${t}:${i}`}class ra{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=Co(this.userKey,o.apiKey,f),this.fullPersistenceKey=Co("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Io(this.auth,{idToken:t}).catch(()=>{});return i?dn._fromGetAccountInfoResponse(this.auth,i,t):null}return dn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ra(Pn(U_),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let f=o[0]||Pn(U_);const h=Co(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const b=await p._get(h);if(b){let v;if(typeof b=="string"){const S=await Io(t,{idToken:b}).catch(()=>{});if(!S)break;v=await dn._fromGetAccountInfoResponse(t,S,b)}else v=dn._fromJSON(t,b);p!==f&&(m=v),f=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!f._shouldAllowMigration||!g.length?new ra(f,t,l):(f=g[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==f)try{await p._remove(h)}catch{}})),new ra(f,t,l))}}function L_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ov(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dv(t))return"Blackberry";if(mv(t))return"Webos";if(cv(t))return"Safari";if((t.includes("chrome/")||uv(t))&&!t.includes("edge/"))return"Chrome";if(hv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function ov(a=Tt()){return/firefox\//i.test(a)}function cv(a=Tt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uv(a=Tt()){return/crios\//i.test(a)}function fv(a=Tt()){return/iemobile/i.test(a)}function hv(a=Tt()){return/android/i.test(a)}function dv(a=Tt()){return/blackberry/i.test(a)}function mv(a=Tt()){return/webos/i.test(a)}function Rh(a=Tt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function NT(a=Tt()){return Rh(a)&&!!window.navigator?.standalone}function xT(){return BS()&&document.documentMode===10}function pv(a=Tt()){return Rh(a)||hv(a)||mv(a)||dv(a)||/windows phone/i.test(a)||fv(a)}function gv(a,t=[]){let i;switch(a){case"Browser":i=L_(Tt());break;case"Worker":i=`${L_(Tt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sa}/${l}`}class RT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((h,m)=>{try{const g=t(f);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function OT(a,t={}){return Ea(a,"GET","/v2/passwordPolicy",$o(a,t))}const DT=6;class MT{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??DT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class IT{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new RT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ev,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Pn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ra.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Io(this,{idToken:t}),l=await dn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ko(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fn(this.app))return Promise.reject(Ii(this));const i=t?It(t):null;return i&&Z(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OT(this),i=new MT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await AT(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Pn(t)||this._popupRedirectResolver;Z(i,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Pn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ec(a){return It(a)}class z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kT(a){Oh=a}function UT(a){return Oh.loadJS(a)}function LT(){return Oh.gapiScript}function zT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function jT(a,t){const i=wh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(cs(f,t??{}))return o;Xn(o,"already-initialized")}return i.initialize({options:t})}function HT(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Pn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function BT(a,t,i){const l=ec(a);Z(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=_v(t),{host:h,port:m}=qT(t),g=m===null?"":`:${m}`,p={url:`${f}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){Z(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Z(cs(p,l.config.emulator)&&cs(b,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=b,l.settings.appVerificationDisabledForTesting=!0,va(h)?(Gy(`${f}//${h}${g}`),Py("Auth",!0)):VT()}function _v(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function qT(a){const t=_v(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:j_(l.substr(f.length+1))}}else{const[f,h]=l.split(":");return{host:f,port:j_(h)}}}function j_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function VT(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class yv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,i){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}async function oa(a,t){return sv(a,"POST","/v1/accounts:signInWithIdp",$o(a,t))}const GT="http://localhost";class fs extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Xn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const h=new fs(l,o);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return oa(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,oa(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,oa(t,i)}buildRequest(){const t={requestUri:GT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ba(i)}return t}}class vv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends vv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class wi extends Fl{constructor(){super("facebook.com")}static credential(t){return fs._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";class Ai extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return fs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Ai.credential(i,l)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";class Ni extends Fl{constructor(){super("github.com")}static credential(t){return fs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";class xi extends Fl{constructor(){super("twitter.com")}static credential(t,i){return fs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return xi.credential(i,l)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";async function PT(a,t){return sv(a,"POST","/v1/accounts:signUp",$o(a,t))}class Li{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await dn._fromIdTokenResponse(t,l,o),h=H_(l);return new Li({user:f,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=H_(l);return new Li({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function H_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function YT(a){if(fn(a.app))return Promise.reject(Ii(a));const t=ec(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Li({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await PT(t,{returnSecureToken:!0}),l=await Li._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(l.user),l}class Uo extends Bi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Uo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Uo(t,i,l,o)}}function bv(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Uo._fromErrorAndOperation(a,f,t,l):f})}async function QT(a,t,i=!1){const l=await kl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Li._forOperation(a,"link",l)}async function FT(a,t,i=!1){const{auth:l}=a;if(fn(l.app))return Promise.reject(Ii(l));const o="reauthenticate";try{const f=await kl(a,bv(l,o,t,a),i);Z(f.idToken,l,"internal-error");const h=xh(f.idToken);Z(h,l,"internal-error");const{sub:m}=h;return Z(a.uid===m,l,"user-mismatch"),Li._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&Xn(l,"user-mismatch"),f}}async function XT(a,t,i=!1){if(fn(a.app))return Promise.reject(Ii(a));const l="signIn",o=await bv(a,l,t),f=await Li._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function KT(a,t,i,l){return It(a).onIdTokenChanged(t,i,l)}function ZT(a,t,i){return It(a).beforeAuthStateChanged(t,i)}function WT(a,t,i,l){return It(a).onAuthStateChanged(t,i,l)}const Lo="__sak";class Sv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const JT=1e3,$T=10;class Ev extends Sv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},f=this.storage.getItem(l);xT()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$T):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},JT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ev.type="LOCAL";const eC=Ev;class Tv extends Sv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Tv.type="SESSION";const Cv=Tv;function tC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class tc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new tc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,f)),g=await tC(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tc.receivers=[];function Dh(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class nC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,h;return new Promise((m,g)=>{const p=Dh("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(b),f=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(S.data.response);break;default:clearTimeout(b),clearTimeout(f),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function En(){return window}function iC(a){En().location.href=a}function wv(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function sC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aC(){return navigator?.serviceWorker?.controller||null}function lC(){return wv()?self:null}const Av="firebaseLocalStorageDb",rC=1,zo="firebaseLocalStorage",Nv="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nc(a,t){return a.transaction([zo],t?"readwrite":"readonly").objectStore(zo)}function oC(){const a=indexedDB.deleteDatabase(Av);return new Xl(a).toPromise()}function ah(){const a=indexedDB.open(Av,rC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(zo,{keyPath:Nv})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(zo)?t(l):(l.close(),await oC(),t(await ah()))})})}async function B_(a,t,i){const l=nc(a,!0).put({[Nv]:t,value:i});return new Xl(l).toPromise()}async function cC(a,t){const i=nc(a,!1).get(t),l=await new Xl(i).toPromise();return l===void 0?null:l.value}function q_(a,t){const i=nc(a,!0).delete(t);return new Xl(i).toPromise()}const uC=800,fC=3;class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ah(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>fC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tc._getInstance(lC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ah();return await B_(t,Lo,"1"),await q_(t,Lo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>B_(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>cC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>q_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=nc(o,!1).getAll();return new Xl(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xv.type="LOCAL";const hC=xv;new Ql(3e4,6e4);function dC(a,t){return t?Pn(t):(Z(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Mh extends yv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return oa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function mC(a){return XT(a.auth,new Mh(a),a.bypassAuthState)}function pC(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),FT(i,new Mh(a),a.bypassAuthState)}async function gC(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),QT(i,new Mh(a),a.bypassAuthState)}class Rv{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:Xn(this.auth,"internal-error")}}resolve(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _C=new Ql(2e3,1e4);class sa extends Rv{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const t=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_C.get())};t()}}sa.currentPopupAction=null;const yC="pendingRedirect",wo=new Map;class vC extends Rv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=wo.get(this.auth._key());if(!t){try{const l=await bC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}wo.set(this.auth._key(),t)}return this.bypassAuthState||wo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bC(a,t){const i=TC(t),l=EC(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function SC(a,t){wo.set(a._key(),t)}function EC(a){return Pn(a._redirectPersistence)}function TC(a){return Co(yC,a.config.apiKey,a.name)}async function CC(a,t,i=!1){if(fn(a.app))return Promise.reject(Ii(a));const l=ec(a),o=dC(l,t),h=await new vC(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const wC=600*1e3;class AC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Ov(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Sn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(t))}saveEventToCache(t){this.cachedEventUids.add(V_(t)),this.lastProcessedEventTime=Date.now()}}function V_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Ov({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function NC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ov(a);default:return!1}}async function xC(a,t={}){return Ea(a,"GET","/v1/projects",t)}const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function DC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await xC(a);for(const i of t)try{if(MC(i))return}catch{}Xn(a,"unauthorized-domain")}function MC(a){const t=ih(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!OC.test(i))return!1;if(RC.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const IC=new Ql(3e4,6e4);function G_(){const a=En().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function kC(a){return new Promise((t,i)=>{function l(){G_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G_(),i(Sn(a,"network-request-failed"))},timeout:IC.get()})}if(En().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(En().gapi?.load)l();else{const o=zT("iframefcb");return En()[o]=()=>{gapi.load?l():i(Sn(a,"network-request-failed"))},UT(`${LT()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw Ao=null,t})}let Ao=null;function UC(a){return Ao=Ao||kC(a),Ao}const LC=new Ql(5e3,15e3),zC="__/auth/iframe",jC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(a){const t=a.config;Z(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Nh(t,jC):`https://${a.config.authDomain}/${zC}`,l={apiKey:t.apiKey,appName:a.name,v:Sa},o=BC.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${ba(l).slice(1)}`}async function VC(a){const t=await UC(a),i=En().gapi;return Z(i,a,"internal-error"),t.open({where:document.body,url:qC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const h=Sn(a,"network-request-failed"),m=En().setTimeout(()=>{f(h)},LC.get());function g(){En().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{f(h)})}))}const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,YC=600,QC="_blank",FC="http://localhost";class P_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(a,t,i,l=PC,o=YC){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...GC,width:l.toString(),height:o.toString(),top:f,left:h},p=Tt().toLowerCase();i&&(m=uv(p)?QC:i),ov(p)&&(t=t||FC,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[U,j])=>`${S}${U}=${j},`,"");if(NT(p)&&m!=="_self")return KC(t||"",m),new P_(null);const v=window.open(t||"",m,b);Z(v,a,"popup-blocked");try{v.focus()}catch{}return new P_(v)}function KC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const ZC="__/auth/handler",WC="emulator/auth/handler",JC=encodeURIComponent("fac");async function Y_(a,t,i,l,o,f){Z(a.config.authDomain,a,"auth-domain-config-required"),Z(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:Sa,eventId:o};if(t instanceof vv){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Wf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,v]of Object.entries({}))h[b]=v}if(t instanceof Fl){const b=t.getScopes().filter(v=>v!=="");b.length>0&&(h.scopes=b.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await a._getAppCheckToken(),p=g?`#${JC}=${encodeURIComponent(g)}`:"";return`${$C(a)}?${ba(m).slice(1)}${p}`}function $C({config:a}){return a.emulator?Nh(a,WC):`https://${a.authDomain}/${ZC}`}const Vf="webStorageSupport";class ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cv,this._completeRedirectFn=CC,this._overrideRedirectResult=SC}async _openPopup(t,i,l,o){Kn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await Y_(t,i,l,ih(),o);return XC(t,f,Dh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await Y_(t,i,l,ih(),o);return iC(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(Kn(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await VC(t),l=new AC(t);return i.register("authEvent",o=>(Z(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vf,{type:Vf},o=>{const f=o?.[0]?.[Vf];f!==void 0&&i(!!f),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=DC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return pv()||cv()||Rh()}}const tw=ew;var Q_="@firebase/auth",F_="1.12.0";class nw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sw(a){ha(new us("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;Z(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gv(a)},p=new IT(l,o,f,g);return HT(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),ha(new us("auth-internal",t=>{const i=ec(t.getProvider("auth").getImmediate());return(l=>new nw(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(Q_,F_,iw(a)),Mi(Q_,F_,"esm2020")}const aw=300,lw=Vy("authIdTokenMaxAge")||aw;let X_=null;const rw=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>lw)return;const o=i?.token;X_!==o&&(X_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ow(a=Zy()){const t=wh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=jT(a,{popupRedirectResolver:tw,persistence:[hC,eC,Cv]}),l=Vy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const h=rw(f.toString());ZT(i,h,()=>h(i.currentUser)),KT(i,m=>h(m))}}const o=By("auth");return o&&BT(i,`http://${o}`),i}function cw(){return document.getElementsByTagName("head")?.[0]??document}kT({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=Sn("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",cw().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sw("Browser");var K_={};const Z_="@firebase/database",W_="1.1.0";let Dv="";function uw(a){Dv=a}class fw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ml(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class hw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Mv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fw(t)}}catch{}return new hw},os=Mv("localStorage"),dw=Mv("sessionStorage");const ca=new Th("@firebase/database"),mw=(function(){let a=1;return function(){return a++}})(),Iv=function(a){const t=$S(a),i=new KS;i.update(t);const l=i.digest();return bh.encodeByteArray(l)},Kl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Kl.apply(null,l):typeof l=="object"?t+=tt(l):t+=l,t+=" "}return t};let Nl=null,J_=!0;const pw=function(a,t){L(!0,"Can't turn on custom loggers persistently."),ca.logLevel=Oe.VERBOSE,Nl=ca.log.bind(ca)},dt=function(...a){if(J_===!0&&(J_=!1,Nl===null&&dw.get("logging_enabled")===!0&&pw()),Nl){const t=Kl.apply(null,a);Nl(t)}},Zl=function(a){return function(...t){dt(a,...t)}},lh=function(...a){const t="FIREBASE INTERNAL ERROR: "+Kl(...a);ca.error(t)},Zn=function(...a){const t=`FIREBASE FATAL ERROR: ${Kl(...a)}`;throw ca.error(t),new Error(t)},Et=function(...a){const t="FIREBASE WARNING: "+Kl(...a);ca.warn(t)},gw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ih=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},_w=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},da="[MIN_NAME]",hs="[MAX_NAME]",ps=function(a,t){if(a===t)return 0;if(a===da||t===hs)return-1;if(t===da||a===hs)return 1;{const i=$_(a),l=$_(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},yw=function(a,t){return a===t?0:a<t?-1:1},bl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+tt(t))},kh=function(a){if(typeof a!="object"||a===null)return tt(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=tt(t[l]),i+=":",i+=kh(a[t[l]]);return i+="}",i},kv=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function mt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const Uv=function(a){L(!Ih(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,h,m,g;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,h=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const b=p.join("");let v="";for(g=0;g<64;g+=8){let S=parseInt(b.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},vw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Sw(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const Ew=new RegExp("^-?(0*)\\d{1,10}$"),Tw=-2147483648,Cw=2147483647,$_=function(a){if(Ew.test(a)){const t=Number(a);if(t>=Tw&&t<=Cw)return t}return null},Ta=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Et("Exception was thrown by user callback.",i),t},Math.floor(0))}},ww=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Aw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,fn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nw{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(t)}}class No{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}No.OWNER="owner";const Uh="5",Lv="v",zv="s",jv="r",Hv="f",Bv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qv="ls",Vv="p",rh="ac",Gv="websocket",Pv="long_polling";class Yv{constructor(t,i,l,o,f=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=os.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&os.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function xw(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Qv(a,t,i){L(typeof t=="string","typeof type must == string"),L(typeof i=="object","typeof params must == object");let l;if(t===Gv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===Pv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xw(a)&&(i.ns=a.namespace);const o=[];return mt(i,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}class Rw{constructor(){this.counters_={}}incrementCounter(t,i=1){Tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return xS(this.counters_)}}const Gf={},Pf={};function Lh(a){const t=a.toString();return Gf[t]||(Gf[t]=new Rw),Gf[t]}function Ow(a,t){const i=a.toString();return Pf[i]||(Pf[i]=t()),Pf[i]}class Dw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&Ta(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ey="start",Mw="close",Iw="pLPCommand",kw="pRTLPCB",Fv="id",Xv="pw",Kv="ser",Uw="cb",Lw="seg",zw="ts",jw="d",Hw="dframe",Zv=1870,Wv=30,Bw=Zv-Wv,qw=25e3,Vw=3e4;class aa{constructor(t,i,l,o,f,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zl(t),this.stats_=Lh(i),this.urlFn=g=>(this.appCheckToken&&(g[rh]=this.appCheckToken),Qv(i,Pv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Dw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vw)),_w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zh((...f)=>{const[h,m,g,p,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===ey)this.id=m,this.password=g;else if(h===Mw)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[ey]="t",l[Kv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[Uw]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Lv]=Uh,this.transportSessionId&&(l[zv]=this.transportSessionId),this.lastSessionId&&(l[qv]=this.lastSessionId),this.applicationId&&(l[Vv]=this.applicationId),this.appCheckToken&&(l[rh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bv.test(location.hostname)&&(l[jv]=Hv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){aa.forceAllow_=!0}static forceDisallow(){aa.forceDisallow_=!0}static isAvailable(){return aa.forceAllow_?!0:!aa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vw()&&!bw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=jy(i),o=kv(l,Bw);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[Hw]="t",l[Fv]=t,l[Xv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=tt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class zh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mw(),window[Iw+this.uniqueCallbackIdentifier]=t,window[kw+this.uniqueCallbackIdentifier]=i,this.myIFrame=zh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){dt("frame writing exception"),m.stack&&dt(m.stack),dt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||dt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Fv]=this.myID,t[Xv]=this.myPW,t[Kv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wv+l.length<=Zv;){const h=this.pendingSegs.shift();l=l+"&"+Lw+o+"="+h.seg+"&"+zw+o+"="+h.ts+"&"+jw+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(qw)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{dt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const Gw=16384,Pw=45e3;let jo=null;typeof MozWebSocket<"u"?jo=MozWebSocket:typeof WebSocket<"u"&&(jo=WebSocket);class hn{constructor(t,i,l,o,f,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zl(this.connId),this.stats_=Lh(i),this.connURL=hn.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const h={};return h[Lv]=Uh,typeof location<"u"&&location.hostname&&Bv.test(location.hostname)&&(h[jv]=Hv),i&&(h[zv]=i),l&&(h[qv]=l),o&&(h[rh]=o),f&&(h[Vv]=f),Qv(t,Gv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,os.set("previous_websocket_failure",!0);try{let l;qS(),this.mySock=new jo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&jo!==null&&!hn.forceDisallow_}static previouslyFailed(){return os.isInMemoryStorage||os.get("previous_websocket_failure")===!0}markConnectionHealthy(){os.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Ml(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=kv(i,Gw);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;class Ul{static get ALL_TRANSPORTS(){return[aa,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=hn&&hn.isAvailable();let l=i&&!hn.previouslyFailed();if(t.webSocketOnly&&(i||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[hn];else{const o=this.transports_=[];for(const f of Ul.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ul.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ul.globalTransportInitialized_=!1;const Yw=6e4,Qw=5e3,Fw=10*1024,Xw=100*1024,Yf="t",ty="d",Kw="s",ny="r",Zw="e",iy="o",sy="a",ay="n",ly="p",Ww="h";class Jw{constructor(t,i,l,o,f,h,m,g,p,b){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zl("c:"+this.id+":"),this.transportManager_=new Ul(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Fw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Yf in t){const i=t[Yf];i===sy?this.upgradeIfSecondaryHealthy_():i===ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===iy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=bl("t",t),l=bl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ly,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=bl("t",t),l=bl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=bl(Yf,t);if(ty in t){const l=t[ty];if(i===Ww){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Kw?this.onConnectionShutdown_(l):i===ny?this.onReset_(l):i===Zw?lh("Server Error: "+l):i===iy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Uh!==l&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Yw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ly,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class $v{constructor(t){this.allowedEvents_=t,this.listeners_={},L(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){L(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Ho extends $v{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Eh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return L(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const ry=32,oy=768;class De{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function _e(){return new De("")}function ie(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function zi(a){return a.pieces_.length-a.pieceNum_}function ke(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new De(a.pieces_,t)}function jh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function $w(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Ll(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function e0(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new De(t,0)}function Ve(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof De)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new De(i,0)}function re(a){return a.pieceNum_>=a.pieces_.length}function St(a,t){const i=ie(a),l=ie(t);if(i===null)return t;if(i===l)return St(ke(a),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function eA(a,t){const i=Ll(a,0),l=Ll(t,0);for(let o=0;o<i.length&&o<l.length;o++){const f=ps(i[o],l[o]);if(f!==0)return f}return i.length===l.length?0:i.length<l.length?-1:1}function Hh(a,t){if(zi(a)!==zi(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function ln(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(zi(a)>zi(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class tA{constructor(t,i){this.errorPrefix_=i,this.parts_=Ll(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Jo(this.parts_[l]);t0(this)}}function nA(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Jo(t),t0(a)}function iA(a){const t=a.parts_.pop();a.byteLength_-=Jo(t),a.parts_.length>0&&(a.byteLength_-=1)}function t0(a){if(a.byteLength_>oy)throw new Error(a.errorPrefix_+"has a key path longer than "+oy+" bytes ("+a.byteLength_+").");if(a.parts_.length>ry)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ry+") or object contains a cycle "+rs(a))}function rs(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class Bh extends $v{static getInstance(){return new Bh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return L(t==="visible","Unknown event type: "+t),[this.visible_]}}const Sl=1e3,sA=300*1e3,cy=30*1e3,aA=1.3,lA=3e4,rA="server_kill",uy=3;class Qn extends Jv{constructor(t,i,l,o,f,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Qn.nextPersistentConnectionId_++,this.log_=Zl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sl,this.maxReconnectDelay_=sA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(tt(f)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Pl,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,p=m.s;Qn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Tn(t,"w")){const l=fa(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||XS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=FS(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const h={p:i,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):lh("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lA&&(this.reconnectDelay_=Sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Qn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(v){L(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,m=new Jw(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,U=>{Et(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(rA)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Et(v),g())}}}interrupt(t){dt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){dt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Wf(this.interruptReasons_)&&(this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>kh(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new De(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){dt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=cy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){dt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Dv.replace(/\./g,"-")]=1,Eh()?t["framework.cordova"]=1:Yy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ho.getInstance().currentlyOnline();return Wf(this.interruptReasons_)&&t}}Qn.nextPersistentConnectionId_=0;Qn.nextConnectionId_=0;class se{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new se(t,i)}}class ic{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new se(da,t),o=new se(da,i);return this.compare(l,o)!==0}minPost(){return se.MIN}}let bo;class n0 extends ic{static get __EMPTY_NODE(){return bo}static set __EMPTY_NODE(t){bo=t}compare(t,i){return ps(t.name,i.name)}isDefinedOn(t){throw ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return se.MIN}maxPost(){return new se(hs,bo)}makePost(t,i){return L(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,bo)}toString(){return".key"}}const ua=new n0;class So{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class lt{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??lt.RED,this.left=o??Mt.EMPTY_NODE,this.right=f??Mt.EMPTY_NODE}copy(t,i,l,o,f){return new lt(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Mt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class oA{copy(t,i,l,o,f){return this}insert(t,i,l){return new lt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(t,i=Mt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Mt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(t){return new Mt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new So(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new So(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new So(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new So(this.root_,null,this.comparator_,!0,t)}}Mt.EMPTY_NODE=new oA;function cA(a,t){return ps(a.name,t.name)}function qh(a,t){return ps(a,t)}let oh;function uA(a){oh=a}const i0=function(a){return typeof a=="number"?"number:"+Uv(a):"string:"+a},s0=function(a){if(a.isLeafNode()){const t=a.val();L(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Tn(t,".sv"),"Priority must be a string or number.")}else L(a===oh||a.isEmpty(),"priority of unexpected type.");L(a===oh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fy;class at{static set __childrenNodeConstructor(t){fy=t}static get __childrenNodeConstructor(){return fy}constructor(t,i=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new at(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:ie(t)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ie(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(L(l!==".priority"||zi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+i0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Uv(this.value_):t+=this.value_,this.lazyHash_=Iv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===at.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof at.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=at.VALUE_TYPE_ORDER.indexOf(i),f=at.VALUE_TYPE_ORDER.indexOf(l);return L(o>=0,"Unknown leaf type: "+i),L(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];let a0,l0;function fA(a){a0=a}function hA(a){l0=a}class dA extends ic{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?ps(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return se.MIN}maxPost(){return new se(hs,new at("[PRIORITY-POST]",l0))}makePost(t,i){const l=a0(t);return new se(i,new at("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ge=new dA;const mA=Math.log(2);class pA{constructor(t){const i=f=>parseInt(Math.log(f)/mA,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Bo=function(a,t,i,l){a.sort(t);const o=function(g,p){const b=p-g;let v,S;if(b===0)return null;if(b===1)return v=a[g],S=i?i(v):v,new lt(S,v.node,lt.BLACK,null,null);{const U=parseInt(b/2,10)+g,j=o(g,U),Q=o(U+1,p);return v=a[U],S=i?i(v):v,new lt(S,v.node,lt.BLACK,j,Q)}},f=function(g){let p=null,b=null,v=a.length;const S=function(j,Q){const he=v-j,Ee=v;v-=j;const Ue=o(he+1,Ee),Ae=a[he],Ze=i?i(Ae):Ae;U(new lt(Ze,Ae.node,Q,null,Ue))},U=function(j){p?(p.left=j,p=j):(b=j,p=j)};for(let j=0;j<g.count;++j){const Q=g.nextBitIsOne(),he=Math.pow(2,g.count-(j+1));Q?S(he,lt.BLACK):(S(he,lt.BLACK),S(he,lt.RED))}return b},h=new pA(a.length),m=f(h);return new Mt(l||t,m)};let Qf;const na={};class Yn{static get Default(){return L(na&&Ge,"ChildrenNode.ts has not been loaded"),Qf=Qf||new Yn({".priority":na},{".priority":Ge}),Qf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=fa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Mt?i:null}hasIndex(t){return Tn(this.indexSet_,t.toString())}addIndex(t,i){L(t!==ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(se.Wrap);let h=f.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=Bo(l,t.getCompare()):m=na;const g=t.toString(),p={...this.indexSet_};p[g]=t;const b={...this.indexes_};return b[g]=m,new Yn(b,p)}addToIndexes(t,i){const l=Oo(this.indexes_,(o,f)=>{const h=fa(this.indexSet_,f);if(L(h,"Missing index implementation for "+f),o===na)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(se.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Bo(m,h.getCompare())}else return na;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new se(t.name,m))),g.insert(t,t.node)}});return new Yn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Oo(this.indexes_,o=>{if(o===na)return o;{const f=i.get(t.name);return f?o.remove(new se(t.name,f)):o}});return new Yn(l,this.indexSet_)}}let El;class X{static get EMPTY_NODE(){return El||(El=new X(new Mt(qh),null,Yn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&s0(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?El:i}}getChild(t){const i=ie(t);return i===null?this:this.getImmediateChild(i).getChild(ke(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(L(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new se(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?El:this.priorityNode_;return new X(o,h,f)}}updateChild(t,i){const l=ie(t);if(l===null)return i;{L(ie(t)!==".priority"||zi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(ke(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(Ge,(h,m)=>{i[h]=m.val(t),l++,f&&X.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!t&&f&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+i0(this.getPriority().val())+":"),this.forEachChild(Ge,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Iv(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new se(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new se(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new se(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,se.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wl?-1:0}withIndex(t){if(t===ua||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ua||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Ge),o=i.getIterator(Ge);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ua?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gA extends X{constructor(){super(new Mt(qh),X.EMPTY_NODE,Yn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const Wl=new gA;Object.defineProperties(se,{MIN:{value:new se(da,X.EMPTY_NODE)},MAX:{value:new se(hs,Wl)}});n0.__EMPTY_NODE=X.EMPTY_NODE;at.__childrenNodeConstructor=X;uA(Wl);hA(Wl);const _A=!0;function et(a,t=null){if(a===null)return X.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),L(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new at(i,et(t))}if(!(a instanceof Array)&&_A){const i=[];let l=!1;if(mt(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=et(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new se(h,g)))}}),i.length===0)return X.EMPTY_NODE;const f=Bo(i,cA,h=>h.name,qh);if(l){const h=Bo(i,Ge.getCompare());return new X(f,et(t),new Yn({".priority":h},{".priority":Ge}))}else return new X(f,et(t),Yn.Default)}else{let i=X.EMPTY_NODE;return mt(a,(l,o)=>{if(Tn(a,l)&&l.substring(0,1)!=="."){const f=et(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(et(t))}}fA(et);class yA extends ic{constructor(t){super(),this.indexPath_=t,L(!re(t)&&ie(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?ps(t.name,i.name):f}makePost(t,i){const l=et(t),o=X.EMPTY_NODE.updateChild(this.indexPath_,l);return new se(i,o)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,Wl);return new se(hs,t)}toString(){return Ll(this.indexPath_,0).join("/")}}class vA extends ic{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ps(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,i){const l=et(t);return new se(i,l)}toString(){return".value"}}const bA=new vA;function r0(a){return{type:"value",snapshotNode:a}}function ma(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function zl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function jl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function SA(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class Vh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,h){L(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(zl(i,m)):L(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ma(i,l)):h.trackChildChange(jl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Ge,(o,f)=>{i.hasChild(o)||l.trackChildChange(zl(o,f))}),i.isLeafNode()||i.forEachChild(Ge,(o,f)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(f)||l.trackChildChange(jl(o,f,h))}else l.trackChildChange(ma(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Hl{constructor(t){this.indexedFilter_=new Vh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hl.getStartPost_(t),this.endPost_=Hl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,h){return this.matches(new se(i,l))||(l=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=X.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(X.EMPTY_NODE);const f=this;return i.forEachChild(Ge,(h,m)=>{f.matches(new se(h,m))||(o=o.updateImmediateChild(h,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class EA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Hl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,h){return this.rangedFilter_.matches(new se(i,l))||(l=X.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,h):this.fullLimitUpdateChild_(t,i,l,f,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=X.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(X.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,U)=>v(U,S)}else h=this.index_.getCompare();const m=t;L(m.numChildren()===this.limit_,"");const g=new se(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(m.hasChild(i)){const v=m.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const U=S==null?1:h(S,g);if(b&&!l.isEmpty()&&U>=0)return f?.trackChildChange(jl(i,l,v)),m.updateImmediateChild(i,l);{f?.trackChildChange(zl(i,v));const Q=m.updateImmediateChild(i,X.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f?.trackChildChange(ma(S.name,S.node)),Q.updateImmediateChild(S.name,S.node)):Q}}else return l.isEmpty()?t:b&&h(p,g)>=0?(f!=null&&(f.trackChildChange(zl(p.name,p.node)),f.trackChildChange(ma(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,X.EMPTY_NODE)):t}}class Gh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const t=new Gh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function TA(a){return a.loadsAllData()?new Vh(a.getIndex()):a.hasLimit()?new EA(a):new Hl(a)}function hy(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Ge?i="$priority":a.index_===bA?i="$value":a.index_===ua?i="$key":(L(a.index_ instanceof yA,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=tt(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=tt(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+tt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=tt(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+tt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function dy(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Ge&&(t.i=a.index_.toString()),t}class qo extends Jv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(L(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Zl("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const h=qo.getListenId_(t,l),m={};this.listens_[h]=m;const g=hy(t._queryParams);this.restRequest_(f+".json",g,(p,b)=>{let v=b;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,l),fa(this.listens_,h)===m){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const l=qo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=hy(t._queryParams),l=t._path.toString(),o=new Pl;return this.restRequest_(l+".json",i,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ba(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Ml(m.responseText)}catch{Et("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Et("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class CA{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Vo(){return{value:null,children:new Map}}function o0(a,t,i){if(re(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ie(t);a.children.has(l)||a.children.set(l,Vo());const o=a.children.get(l);t=ke(t),o0(o,t,i)}}function ch(a,t,i){a.value!==null?i(t,a.value):wA(a,(l,o)=>{const f=new De(t.toString()+"/"+l);ch(o,f,i)})}function wA(a,t){a.children.forEach((i,l)=>{t(l,i)})}class AA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&mt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const my=10*1e3,NA=30*1e3,xA=300*1e3;class RA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new AA(t);const l=my+(NA-my)*Math.random();xl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;mt(t,(o,f)=>{f>0&&Tn(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*xA))}}var mn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function Ph(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Go{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=mn.ACK_USER_WRITE,this.source=Ph()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new De(t));return new Go(_e(),i,this.revert)}}else return L(ie(this.path)===t,"operationForChild called for unrelated child."),new Go(ke(this.path),this.affectedTree,this.revert)}}class Bl{constructor(t,i){this.source=t,this.path=i,this.type=mn.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new Bl(this.source,_e()):new Bl(this.source,ke(this.path))}}class ds{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=mn.OVERWRITE}operationForChild(t){return re(this.path)?new ds(this.source,_e(),this.snap.getImmediateChild(t)):new ds(this.source,ke(this.path),this.snap)}}class pa{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=mn.MERGE}operationForChild(t){if(re(this.path)){const i=this.children.subtree(new De(t));return i.isEmpty()?null:i.value?new ds(this.source,_e(),i.value):new pa(this.source,_e(),i)}else return L(ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ji{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const i=ie(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class OA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function DA(a,t,i,l){const o=[],f=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(SA(h.childName,h.snapshotNode))}),Tl(a,o,"child_removed",t,l,i),Tl(a,o,"child_added",t,l,i),Tl(a,o,"child_moved",f,l,i),Tl(a,o,"child_changed",t,l,i),Tl(a,o,"value",t,l,i),o}function Tl(a,t,i,l,o,f){const h=l.filter(m=>m.type===i);h.sort((m,g)=>IA(a,m,g)),h.forEach(m=>{const g=MA(a,m,f);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function MA(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function IA(a,t,i){if(t.childName==null||i.childName==null)throw ya("Should only compare child_ events.");const l=new se(t.childName,t.snapshotNode),o=new se(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function sc(a,t){return{eventCache:a,serverCache:t}}function Rl(a,t,i,l){return sc(new ji(t,i,l),a.serverCache)}function c0(a,t,i,l){return sc(a.eventCache,new ji(t,i,l))}function Po(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ms(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Ff;const kA=()=>(Ff||(Ff=new Mt(yw)),Ff);class Ie{static fromObject(t){let i=new Ie(null);return mt(t,(l,o)=>{i=i.set(new De(l),o)}),i}constructor(t,i=kA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:_e(),value:this.value};if(re(t))return null;{const l=ie(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(ke(t),i);return f!=null?{path:Ve(new De(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const i=ie(t),l=this.children.get(i);return l!==null?l.subtree(ke(t)):new Ie(null)}}set(t,i){if(re(t))return new Ie(i,this.children);{const l=ie(t),f=(this.children.get(l)||new Ie(null)).set(ke(t),i),h=this.children.insert(l,f);return new Ie(this.value,h)}}remove(t){if(re(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const i=ie(t),l=this.children.get(i);if(l){const o=l.remove(ke(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new Ie(null):new Ie(this.value,f)}else return this}}get(t){if(re(t))return this.value;{const i=ie(t),l=this.children.get(i);return l?l.get(ke(t)):null}}setTree(t,i){if(re(t))return i;{const l=ie(t),f=(this.children.get(l)||new Ie(null)).setTree(ke(t),i);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Ie(this.value,h)}}fold(t){return this.fold_(_e(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(Ve(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,_e(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(re(t))return null;{const f=ie(t),h=this.children.get(f);return h?h.findOnPath_(ke(t),Ve(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,_e(),i)}foreachOnPath_(t,i,l){if(re(t))return this;{this.value&&l(i,this.value);const o=ie(t),f=this.children.get(o);return f?f.foreachOnPath_(ke(t),Ve(i,o),l):new Ie(null)}}foreach(t){this.foreach_(_e(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Ve(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class pn{constructor(t){this.writeTree_=t}static empty(){return new pn(new Ie(null))}}function Ol(a,t,i){if(re(t))return new pn(new Ie(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const h=St(o,t);return f=f.updateChild(h,i),new pn(a.writeTree_.set(o,f))}else{const o=new Ie(i),f=a.writeTree_.setTree(t,o);return new pn(f)}}}function uh(a,t,i){let l=a;return mt(i,(o,f)=>{l=Ol(l,Ve(t,o),f)}),l}function py(a,t){if(re(t))return pn.empty();{const i=a.writeTree_.setTree(t,new Ie(null));return new pn(i)}}function fh(a,t){return gs(a,t)!=null}function gs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(St(i.path,t)):null}function gy(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ge,(l,o)=>{t.push(new se(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new se(l,o.value))}),t}function ki(a,t){if(re(t))return a;{const i=gs(a,t);return i!=null?new pn(new Ie(i)):new pn(a.writeTree_.subtree(t))}}function hh(a){return a.writeTree_.isEmpty()}function ga(a,t){return u0(_e(),a.writeTree_,t)}function u0(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(L(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=u0(Ve(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(Ve(a,".priority"),l)),i}}function ac(a,t){return m0(t,a)}function UA(a,t,i,l,o){L(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Ol(a.visibleWrites,t,i)),a.lastWriteId=l}function LA(a,t,i,l){L(l>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:t,children:i,writeId:l,visible:!0}),a.visibleWrites=uh(a.visibleWrites,t,i),a.lastWriteId=l}function zA(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function jA(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);L(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&HA(m,l.path)?o=!1:ln(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return BA(a),!0;if(l.snap)a.visibleWrites=py(a.visibleWrites,l.path);else{const m=l.children;mt(m,g=>{a.visibleWrites=py(a.visibleWrites,Ve(l.path,g))})}return!0}else return!1}function HA(a,t){if(a.snap)return ln(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&ln(Ve(a.path,i),t))return!0;return!1}function BA(a){a.visibleWrites=f0(a.allWrites,qA,_e()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function qA(a){return a.visible}function f0(a,t,i){let l=pn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const h=f.path;let m;if(f.snap)ln(i,h)?(m=St(i,h),l=Ol(l,m,f.snap)):ln(h,i)&&(m=St(h,i),l=Ol(l,_e(),f.snap.getChild(m)));else if(f.children){if(ln(i,h))m=St(i,h),l=uh(l,m,f.children);else if(ln(h,i))if(m=St(h,i),re(m))l=uh(l,_e(),f.children);else{const g=fa(f.children,ie(m));if(g){const p=g.getChild(ke(m));l=Ol(l,_e(),p)}}}else throw ya("WriteRecord should have .snap or .children")}}return l}function h0(a,t,i,l,o){if(!l&&!o){const f=gs(a.visibleWrites,t);if(f!=null)return f;{const h=ki(a.visibleWrites,t);if(hh(h))return i;if(i==null&&!fh(h,_e()))return null;{const m=i||X.EMPTY_NODE;return ga(h,m)}}}else{const f=ki(a.visibleWrites,t);if(!o&&hh(f))return i;if(!o&&i==null&&!fh(f,_e()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(ln(p.path,t)||ln(t,p.path))},m=f0(a.allWrites,h,t),g=i||X.EMPTY_NODE;return ga(m,g)}}}function VA(a,t,i){let l=X.EMPTY_NODE;const o=gs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ge,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(i){const f=ki(a.visibleWrites,t);return i.forEachChild(Ge,(h,m)=>{const g=ga(ki(f,new De(h)),m);l=l.updateImmediateChild(h,g)}),gy(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=ki(a.visibleWrites,t);return gy(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function GA(a,t,i,l,o){L(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ve(t,i);if(fh(a.visibleWrites,f))return null;{const h=ki(a.visibleWrites,f);return hh(h)?o.getChild(i):ga(h,o.getChild(i))}}function PA(a,t,i,l){const o=Ve(t,i),f=gs(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const h=ki(a.visibleWrites,o);return ga(h,l.getNode().getImmediateChild(i))}else return null}function YA(a,t){return gs(a.visibleWrites,t)}function QA(a,t,i,l,o,f,h){let m;const g=ki(a.visibleWrites,t),p=gs(g,_e());if(p!=null)m=p;else if(i!=null)m=ga(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],v=h.getCompare(),S=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let U=S.getNext();for(;U&&b.length<o;)v(U,l)!==0&&b.push(U),U=S.getNext();return b}else return[]}function FA(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Yo(a,t,i,l){return h0(a.writeTree,a.treePath,t,i,l)}function Fh(a,t){return VA(a.writeTree,a.treePath,t)}function _y(a,t,i,l){return GA(a.writeTree,a.treePath,t,i,l)}function Qo(a,t){return YA(a.writeTree,Ve(a.treePath,t))}function XA(a,t,i,l,o,f){return QA(a.writeTree,a.treePath,t,i,l,o,f)}function Xh(a,t,i){return PA(a.writeTree,a.treePath,t,i)}function d0(a,t){return m0(Ve(a.treePath,t),a.writeTree)}function m0(a,t){return{treePath:a,writeTree:t}}class KA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;L(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),L(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,jl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,zl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,ma(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,jl(l,t.snapshotNode,o.oldSnap));else throw ya("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class ZA{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const p0=new ZA;class Kh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),f=XA(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function WA(a){return{filter:a}}function JA(a,t){L(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),L(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function $A(a,t,i,l,o){const f=new KA;let h,m;if(i.type===mn.OVERWRITE){const p=i;p.source.fromUser?h=dh(a,t,p.path,p.snap,l,o,f):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!re(p.path),h=Fo(a,t,p.path,p.snap,l,o,m,f))}else if(i.type===mn.MERGE){const p=i;p.source.fromUser?h=tN(a,t,p.path,p.children,l,o,f):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=mh(a,t,p.path,p.children,l,o,m,f))}else if(i.type===mn.ACK_USER_WRITE){const p=i;p.revert?h=sN(a,t,p.path,l,o,f):h=nN(a,t,p.path,p.affectedTree,l,o,f)}else if(i.type===mn.LISTEN_COMPLETE)h=iN(a,t,i.path,l,f);else throw ya("Unknown operation type: "+i.type);const g=f.getChanges();return eN(t,h,g),{viewCache:h,changes:g}}function eN(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Po(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(r0(Po(t)))}}function g0(a,t,i,l,o,f){const h=t.eventCache;if(Qo(l,i)!=null)return t;{let m,g;if(re(i))if(L(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=ms(t),b=p instanceof X?p:X.EMPTY_NODE,v=Fh(l,b);m=a.filter.updateFullNode(t.eventCache.getNode(),v,f)}else{const p=Yo(l,ms(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,f)}else{const p=ie(i);if(p===".priority"){L(zi(i)===1,"Can't have a priority with additional path components");const b=h.getNode();g=t.serverCache.getNode();const v=_y(l,i,b,g);v!=null?m=a.filter.updatePriority(b,v):m=h.getNode()}else{const b=ke(i);let v;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const S=_y(l,i,h.getNode(),g);S!=null?v=h.getNode().getImmediateChild(p).updateChild(b,S):v=h.getNode().getImmediateChild(p)}else v=Xh(l,p,t.serverCache);v!=null?m=a.filter.updateChild(h.getNode(),p,v,b,o,f):m=h.getNode()}}return Rl(t,m,h.isFullyInitialized()||re(i),a.filter.filtersNodes())}}function Fo(a,t,i,l,o,f,h,m){const g=t.serverCache;let p;const b=h?a.filter:a.filter.getIndexedFilter();if(re(i))p=b.updateFullNode(g.getNode(),l,null);else if(b.filtersNodes()&&!g.isFiltered()){const U=g.getNode().updateChild(i,l);p=b.updateFullNode(g.getNode(),U,null)}else{const U=ie(i);if(!g.isCompleteForPath(i)&&zi(i)>1)return t;const j=ke(i),he=g.getNode().getImmediateChild(U).updateChild(j,l);U===".priority"?p=b.updatePriority(g.getNode(),he):p=b.updateChild(g.getNode(),U,he,j,p0,null)}const v=c0(t,p,g.isFullyInitialized()||re(i),b.filtersNodes()),S=new Kh(o,v,f);return g0(a,v,i,o,S,m)}function dh(a,t,i,l,o,f,h){const m=t.eventCache;let g,p;const b=new Kh(o,t,f);if(re(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Rl(t,p,!0,a.filter.filtersNodes());else{const v=ie(i);if(v===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=Rl(t,p,m.isFullyInitialized(),m.isFiltered());else{const S=ke(i),U=m.getNode().getImmediateChild(v);let j;if(re(S))j=l;else{const Q=b.getCompleteChild(v);Q!=null?jh(S)===".priority"&&Q.getChild(e0(S)).isEmpty()?j=Q:j=Q.updateChild(S,l):j=X.EMPTY_NODE}if(U.equals(j))g=t;else{const Q=a.filter.updateChild(m.getNode(),v,j,S,b,h);g=Rl(t,Q,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function yy(a,t){return a.eventCache.isCompleteForChild(t)}function tN(a,t,i,l,o,f,h){let m=t;return l.foreach((g,p)=>{const b=Ve(i,g);yy(t,ie(b))&&(m=dh(a,m,b,p,o,f,h))}),l.foreach((g,p)=>{const b=Ve(i,g);yy(t,ie(b))||(m=dh(a,m,b,p,o,f,h))}),m}function vy(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function mh(a,t,i,l,o,f,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;re(i)?p=l:p=new Ie(null).setTree(i,l);const b=t.serverCache.getNode();return p.children.inorderTraversal((v,S)=>{if(b.hasChild(v)){const U=t.serverCache.getNode().getImmediateChild(v),j=vy(a,U,S);g=Fo(a,g,new De(v),j,o,f,h,m)}}),p.children.inorderTraversal((v,S)=>{const U=!t.serverCache.isCompleteForChild(v)&&S.value===null;if(!b.hasChild(v)&&!U){const j=t.serverCache.getNode().getImmediateChild(v),Q=vy(a,j,S);g=Fo(a,g,new De(v),Q,o,f,h,m)}}),g}function nN(a,t,i,l,o,f,h){if(Qo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(re(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Fo(a,t,i,g.getNode().getChild(i),o,f,m,h);if(re(i)){let p=new Ie(null);return g.getNode().forEachChild(ua,(b,v)=>{p=p.set(new De(b),v)}),mh(a,t,i,p,o,f,m,h)}else return t}else{let p=new Ie(null);return l.foreach((b,v)=>{const S=Ve(i,b);g.isCompleteForPath(S)&&(p=p.set(b,g.getNode().getChild(S)))}),mh(a,t,i,p,o,f,m,h)}}function iN(a,t,i,l,o){const f=t.serverCache,h=c0(t,f.getNode(),f.isFullyInitialized()||re(i),f.isFiltered());return g0(a,h,i,l,p0,o)}function sN(a,t,i,l,o,f){let h;if(Qo(l,i)!=null)return t;{const m=new Kh(l,t,o),g=t.eventCache.getNode();let p;if(re(i)||ie(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Yo(l,ms(t));else{const v=t.serverCache.getNode();L(v instanceof X,"serverChildren would be complete if leaf node"),b=Fh(l,v)}b=b,p=a.filter.updateFullNode(g,b,f)}else{const b=ie(i);let v=Xh(l,b,t.serverCache);v==null&&t.serverCache.isCompleteForChild(b)&&(v=g.getImmediateChild(b)),v!=null?p=a.filter.updateChild(g,b,v,ke(i),m,f):t.eventCache.getNode().hasChild(b)?p=a.filter.updateChild(g,b,X.EMPTY_NODE,ke(i),m,f):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Yo(l,ms(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,f)))}return h=t.serverCache.isFullyInitialized()||Qo(l,_e())!=null,Rl(t,p,h,a.filter.filtersNodes())}}class aN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Vh(l.getIndex()),f=TA(l);this.processor_=WA(f);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(X.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(X.EMPTY_NODE,m.getNode(),null),b=new ji(g,h.isFullyInitialized(),o.filtersNodes()),v=new ji(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=sc(v,b),this.eventGenerator_=new OA(this.query_)}get query(){return this.query_}}function lN(a){return a.viewCache_.serverCache.getNode()}function rN(a){return Po(a.viewCache_)}function oN(a,t){const i=ms(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!re(t)&&!i.getImmediateChild(ie(t)).isEmpty())?i.getChild(t):null}function by(a){return a.eventRegistrations_.length===0}function cN(a,t){a.eventRegistrations_.push(t)}function Sy(a,t,i){const l=[];if(i){L(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function Ey(a,t,i,l){t.type===mn.MERGE&&t.source.queryId!==null&&(L(ms(a.viewCache_),"We should always have a full cache before handling merges"),L(Po(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=$A(a.processor_,o,t,i,l);return JA(a.processor_,f.viewCache),L(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,_0(a,f.changes,f.viewCache.eventCache.getNode(),null)}function uN(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ge,(f,h)=>{l.push(ma(f,h))}),i.isFullyInitialized()&&l.push(r0(i.getNode())),_0(a,l,i.getNode(),t)}function _0(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return DA(a.eventGenerator_,t,i,o)}let Xo;class y0{constructor(){this.views=new Map}}function fN(a){L(!Xo,"__referenceConstructor has already been defined"),Xo=a}function hN(){return L(Xo,"Reference.ts has not been loaded"),Xo}function dN(a){return a.views.size===0}function Zh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return L(f!=null,"SyncTree gave us an op for an invalid query."),Ey(f,t,i,l)}else{let f=[];for(const h of a.views.values())f=f.concat(Ey(h,t,i,l));return f}}function v0(a,t,i,l,o){const f=t._queryIdentifier,h=a.views.get(f);if(!h){let m=Yo(i,o?l:null),g=!1;m?g=!0:l instanceof X?(m=Fh(i,l),g=!1):(m=X.EMPTY_NODE,g=!1);const p=sc(new ji(m,g,!1),new ji(l,o,!1));return new aN(t,p)}return h}function mN(a,t,i,l,o,f){const h=v0(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),cN(h,i),uN(h,i)}function pN(a,t,i,l){const o=t._queryIdentifier,f=[];let h=[];const m=Hi(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(Sy(p,i,l)),by(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(Sy(g,i,l)),by(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!Hi(a)&&f.push(new(hN())(t._repo,t._path)),{removed:f,events:h}}function b0(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ui(a,t){let i=null;for(const l of a.views.values())i=i||oN(l,t);return i}function S0(a,t){if(t._queryParams.loadsAllData())return lc(a);{const l=t._queryIdentifier;return a.views.get(l)}}function E0(a,t){return S0(a,t)!=null}function Hi(a){return lc(a)!=null}function lc(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ko;function gN(a){L(!Ko,"__referenceConstructor has already been defined"),Ko=a}function _N(){return L(Ko,"Reference.ts has not been loaded"),Ko}let yN=1;class Ty{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=FA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T0(a,t,i,l,o){return UA(a.pendingWriteTree_,t,i,l,o),o?Ca(a,new ds(Ph(),t,i)):[]}function vN(a,t,i,l){LA(a.pendingWriteTree_,t,i,l);const o=Ie.fromObject(i);return Ca(a,new pa(Ph(),t,o))}function Ri(a,t,i=!1){const l=zA(a.pendingWriteTree_,t);if(jA(a.pendingWriteTree_,t)){let f=new Ie(null);return l.snap!=null?f=f.set(_e(),!0):mt(l.children,h=>{f=f.set(new De(h),!0)}),Ca(a,new Go(l.path,f,i))}else return[]}function Jl(a,t,i){return Ca(a,new ds(Yh(),t,i))}function bN(a,t,i){const l=Ie.fromObject(i);return Ca(a,new pa(Yh(),t,l))}function SN(a,t){return Ca(a,new Bl(Yh(),t))}function EN(a,t,i){const l=Jh(a,i);if(l){const o=$h(l),f=o.path,h=o.queryId,m=St(f,t),g=new Bl(Qh(h),m);return ed(a,f,g)}else return[]}function Zo(a,t,i,l,o=!1){const f=t._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(t._queryIdentifier==="default"||E0(h,t))){const g=pN(h,t,i,l);dN(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const b=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(S,U)=>Hi(U));if(b&&!v){const S=a.syncPointTree_.subtree(f);if(!S.isEmpty()){const U=wN(S);for(let j=0;j<U.length;++j){const Q=U[j],he=Q.query,Ee=N0(a,Q);a.listenProvider_.startListening(Dl(he),ql(a,he),Ee.hashFn,Ee.onComplete)}}}!v&&p.length>0&&!l&&(b?a.listenProvider_.stopListening(Dl(t),null):p.forEach(S=>{const U=a.queryToTagMap.get(rc(S));a.listenProvider_.stopListening(Dl(S),U)}))}AN(a,p)}return m}function C0(a,t,i,l){const o=Jh(a,l);if(o!=null){const f=$h(o),h=f.path,m=f.queryId,g=St(h,t),p=new ds(Qh(m),g,i);return ed(a,h,p)}else return[]}function TN(a,t,i,l){const o=Jh(a,l);if(o){const f=$h(o),h=f.path,m=f.queryId,g=St(h,t),p=Ie.fromObject(i),b=new pa(Qh(m),g,p);return ed(a,h,b)}else return[]}function ph(a,t,i,l=!1){const o=t._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(S,U)=>{const j=St(S,o);f=f||Ui(U,j),h=h||Hi(U)});let m=a.syncPointTree_.get(o);m?(h=h||Hi(m),f=f||Ui(m,_e())):(m=new y0,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=X.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((U,j)=>{const Q=Ui(j,_e());Q&&(f=f.updateImmediateChild(U,Q))}));const p=E0(m,t);if(!p&&!t._queryParams.loadsAllData()){const S=rc(t);L(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const U=NN();a.queryToTagMap.set(S,U),a.tagToQueryMap.set(U,S)}const b=ac(a.pendingWriteTree_,o);let v=mN(m,t,i,b,f,g);if(!p&&!h&&!l){const S=S0(m,t);v=v.concat(xN(a,t,S))}return v}function Wh(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(h,m)=>{const g=St(h,t),p=Ui(m,g);if(p)return p});return h0(o,t,f,i,!0)}function CN(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(p,b)=>{const v=St(p,i);l=l||Ui(b,v)});let o=a.syncPointTree_.get(i);o?l=l||Ui(o,_e()):(o=new y0,a.syncPointTree_=a.syncPointTree_.set(i,o));const f=l!=null,h=f?new ji(l,!0,!1):null,m=ac(a.pendingWriteTree_,t._path),g=v0(o,t,m,f?h.getNode():X.EMPTY_NODE,f);return rN(g)}function Ca(a,t){return w0(t,a.syncPointTree_,null,ac(a.pendingWriteTree_,_e()))}function w0(a,t,i,l){if(re(a.path))return A0(a,t,i,l);{const o=t.get(_e());i==null&&o!=null&&(i=Ui(o,_e()));let f=[];const h=ie(a.path),m=a.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,b=d0(l,h);f=f.concat(w0(m,g,p,b))}return o&&(f=f.concat(Zh(o,a,l,i))),f}}function A0(a,t,i,l){const o=t.get(_e());i==null&&o!=null&&(i=Ui(o,_e()));let f=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=d0(l,h),b=a.operationForChild(h);b&&(f=f.concat(A0(b,m,g,p)))}),o&&(f=f.concat(Zh(o,a,l,i))),f}function N0(a,t){const i=t.query,l=ql(a,i);return{hashFn:()=>(lN(t)||X.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?EN(a,i._path,l):SN(a,i._path);{const f=Sw(o,i);return Zo(a,i,null,f)}}}}function ql(a,t){const i=rc(t);return a.queryToTagMap.get(i)}function rc(a){return a._path.toString()+"$"+a._queryIdentifier}function Jh(a,t){return a.tagToQueryMap.get(t)}function $h(a){const t=a.indexOf("$");return L(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new De(a.substr(0,t))}}function ed(a,t,i){const l=a.syncPointTree_.get(t);L(l,"Missing sync point for query tag that we're tracking");const o=ac(a.pendingWriteTree_,t);return Zh(l,i,o,null)}function wN(a){return a.fold((t,i,l)=>{if(i&&Hi(i))return[lc(i)];{let o=[];return i&&(o=b0(i)),mt(l,(f,h)=>{o=o.concat(h)}),o}})}function Dl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(_N())(a._repo,a._path):a}function AN(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=rc(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function NN(){return yN++}function xN(a,t,i){const l=t._path,o=ql(a,t),f=N0(a,i),h=a.listenProvider_.startListening(Dl(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)L(!Hi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,b,v)=>{if(!re(p)&&b&&Hi(b))return[lc(b).query];{let S=[];return b&&(S=S.concat(b0(b).map(U=>U.query))),mt(v,(U,j)=>{S=S.concat(j)}),S}});for(let p=0;p<g.length;++p){const b=g[p];a.listenProvider_.stopListening(Dl(b),ql(a,b))}}return h}class td{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new td(i)}node(){return this.node_}}class nd{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ve(this.path_,t);return new nd(this.syncTree_,i)}node(){return Wh(this.syncTree_,this.path_)}}const RN=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Cy=function(a,t,i){if(!a||typeof a!="object")return a;if(L(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return ON(a[".sv"],t,i);if(typeof a[".sv"]=="object")return DN(a[".sv"],t);L(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},ON=function(a,t,i){if(a==="timestamp")return i.timestamp;L(!1,"Unexpected server value: "+a)},DN=function(a,t,i){a.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&L(!1,"Unexpected increment value: "+l);const o=t.node();if(L(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},x0=function(a,t,i,l){return id(t,new nd(i,a),l)},R0=function(a,t,i){return id(a,new td(t),i)};function id(a,t,i){const l=a.getPriority().val(),o=Cy(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const h=a,m=Cy(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new at(m,et(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new at(o))),h.forEachChild(Ge,(m,g)=>{const p=id(g,t.getImmediateChild(m),i);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}class sd{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function ad(a,t){let i=t instanceof De?t:new De(t),l=a,o=ie(i);for(;o!==null;){const f=fa(l.node.children,o)||{children:{},childCount:0};l=new sd(o,l,f),i=ke(i),o=ie(i)}return l}function wa(a){return a.node.value}function O0(a,t){a.node.value=t,gh(a)}function D0(a){return a.node.childCount>0}function MN(a){return wa(a)===void 0&&!D0(a)}function oc(a,t){mt(a.node.children,(i,l)=>{t(new sd(i,a,l))})}function M0(a,t,i,l){i&&t(a),oc(a,o=>{M0(o,t,!0)})}function IN(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function $l(a){return new De(a.parent===null?a.name:$l(a.parent)+"/"+a.name)}function gh(a){a.parent!==null&&kN(a.parent,a.name,a)}function kN(a,t,i){const l=MN(i),o=Tn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,gh(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,gh(a))}const UN=/[\[\].#$\/\u0000-\u001F\u007F]/,LN=/[\[\].#$\u0000-\u001F\u007F]/,Xf=10*1024*1024,ld=function(a){return typeof a=="string"&&a.length!==0&&!UN.test(a)},I0=function(a){return typeof a=="string"&&a.length!==0&&!LN.test(a)},zN=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),I0(a)},jN=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Ih(a)||a&&typeof a=="object"&&Tn(a,".sv")},k0=function(a,t,i,l){l&&t===void 0||cc(Wo(a,"value"),t,i)},cc=function(a,t,i){const l=i instanceof De?new tA(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+rs(l));if(typeof t=="function")throw new Error(a+"contains a function "+rs(l)+" with contents = "+t.toString());if(Ih(t))throw new Error(a+"contains "+t.toString()+" "+rs(l));if(typeof t=="string"&&t.length>Xf/3&&Jo(t)>Xf)throw new Error(a+"contains a string greater than "+Xf+" utf8 bytes "+rs(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(mt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!ld(h)))throw new Error(a+" contains an invalid key ("+h+") "+rs(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nA(l,h),cc(a,m,l),iA(l)}),o&&f)throw new Error(a+' contains ".value" child '+rs(l)+" in addition to actual children.")}},HN=function(a,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const f=Ll(l);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!ld(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(eA);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&ln(o,l))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},BN=function(a,t,i,l){const o=Wo(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const f=[];mt(t,(h,m)=>{const g=new De(h);if(cc(o,m,Ve(i,g)),jh(g)===".priority"&&!jN(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),HN(o,f)},U0=function(a,t,i,l){if(!I0(i))throw new Error(Wo(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qN=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),U0(a,t,i)},L0=function(a,t){if(ie(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},VN=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ld(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!zN(i))throw new Error(Wo(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class GN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uc(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!Hh(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function z0(a,t,i){uc(a,i),j0(a,l=>Hh(l,t))}function rn(a,t,i){uc(a,i),j0(a,l=>ln(l,t)||ln(t,l))}function j0(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?(PN(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function PN(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();Nl&&dt("event: "+i.toString()),Ta(l)}}}const YN="repo_interrupt",QN=25;class FN{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vo(),this.transactionQueueTree_=new sd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XN(a,t,i){if(a.stats_=Lh(a.repoInfo_),a.forceRestClient_||ww())a.server_=new qo(a.repoInfo_,(l,o,f,h)=>{wy(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Ay(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Qn(a.repoInfo_,t,(l,o,f,h)=>{wy(a,l,o,f,h)},l=>{Ay(a,l)},l=>{KN(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=Ow(a.repoInfo_,()=>new RA(a.stats_,a.server_)),a.infoData_=new CA,a.infoSyncTree_=new Ty({startListening:(l,o,f,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=Jl(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),rd(a,"connected",!1),a.serverSyncTree_=new Ty({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,g)=>{const p=h(m,g);rn(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function H0(a){const i=a.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function fc(a){return RN({timestamp:H0(a)})}function wy(a,t,i,l,o){a.dataUpdateCount++;const f=new De(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=Oo(i,p=>et(p));h=TN(a.serverSyncTree_,f,g,o)}else{const g=et(i);h=C0(a.serverSyncTree_,f,g,o)}else if(l){const g=Oo(i,p=>et(p));h=bN(a.serverSyncTree_,f,g)}else{const g=et(i);h=Jl(a.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=_a(a,f)),rn(a.eventQueue_,m,h)}function Ay(a,t){rd(a,"connected",t),t===!1&&$N(a)}function KN(a,t){mt(t,(i,l)=>{rd(a,i,l)})}function rd(a,t,i){const l=new De("/.info/"+t),o=et(i);a.infoData_.updateSnapshot(l,o);const f=Jl(a.infoSyncTree_,l,o);rn(a.eventQueue_,l,f)}function od(a){return a.nextWriteId_++}function ZN(a,t,i){const l=CN(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const f=et(o).withIndex(t._queryParams.getIndex());ph(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Jl(a.serverSyncTree_,t._path,f);else{const m=ql(a.serverSyncTree_,t);h=C0(a.serverSyncTree_,t._path,f,m)}return rn(a.eventQueue_,t._path,h),Zo(a.serverSyncTree_,t,i,null,!0),f},o=>(er(a,"get for query "+tt(t)+" failed: "+o),Promise.reject(new Error(o))))}function WN(a,t,i,l,o){er(a,"set",{path:t.toString(),value:i,priority:l});const f=fc(a),h=et(i,l),m=Wh(a.serverSyncTree_,t),g=R0(h,m,f),p=od(a),b=T0(a.serverSyncTree_,t,g,p,!0);uc(a.eventQueue_,b),a.server_.put(t.toString(),h.val(!0),(S,U)=>{const j=S==="ok";j||Et("set at "+t+" failed: "+S);const Q=Ri(a.serverSyncTree_,p,!j);rn(a.eventQueue_,t,Q),_h(a,o,S,U)});const v=ud(a,t);_a(a,v),rn(a.eventQueue_,v,[])}function JN(a,t,i,l){er(a,"update",{path:t.toString(),value:i});let o=!0;const f=fc(a),h={};if(mt(i,(m,g)=>{o=!1,h[m]=x0(Ve(t,m),et(g),a.serverSyncTree_,f)}),o)dt("update() called with empty data.  Don't do anything."),_h(a,l,"ok",void 0);else{const m=od(a),g=vN(a.serverSyncTree_,t,h,m);uc(a.eventQueue_,g),a.server_.merge(t.toString(),i,(p,b)=>{const v=p==="ok";v||Et("update at "+t+" failed: "+p);const S=Ri(a.serverSyncTree_,m,!v),U=S.length>0?_a(a,t):t;rn(a.eventQueue_,U,S),_h(a,l,p,b)}),mt(i,p=>{const b=ud(a,Ve(t,p));_a(a,b)}),rn(a.eventQueue_,t,[])}}function $N(a){er(a,"onDisconnectEvents");const t=fc(a),i=Vo();ch(a.onDisconnect_,_e(),(o,f)=>{const h=x0(o,f,a.serverSyncTree_,t);o0(i,o,h)});let l=[];ch(i,_e(),(o,f)=>{l=l.concat(Jl(a.serverSyncTree_,o,f));const h=ud(a,o);_a(a,h)}),a.onDisconnect_=Vo(),rn(a.eventQueue_,_e(),l)}function ex(a,t,i){let l;ie(t._path)===".info"?l=ph(a.infoSyncTree_,t,i):l=ph(a.serverSyncTree_,t,i),z0(a.eventQueue_,t._path,l)}function tx(a,t,i){let l;ie(t._path)===".info"?l=Zo(a.infoSyncTree_,t,i):l=Zo(a.serverSyncTree_,t,i),z0(a.eventQueue_,t._path,l)}function nx(a){a.persistentConnection_&&a.persistentConnection_.interrupt(YN)}function er(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),dt(i,...t)}function _h(a,t,i,l){t&&Ta(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,t(h)}})}function B0(a,t,i){return Wh(a.serverSyncTree_,t,i)||X.EMPTY_NODE}function cd(a,t=a.transactionQueueTree_){if(t||hc(a,t),wa(t)){const i=V0(a,t);L(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&ix(a,$l(t),i)}else D0(t)&&oc(t,i=>{cd(a,i)})}function ix(a,t,i){const l=i.map(p=>p.currentWriteId),o=B0(a,t,l);let f=o;const h=o.hash();for(let p=0;p<i.length;p++){const b=i[p];L(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=St(t,b.path);f=f.updateChild(v,b.currentOutputSnapshotRaw)}const m=f.val(!0),g=t;a.server_.put(g.toString(),m,p=>{er(a,"transaction put response",{path:g.toString(),status:p});let b=[];if(p==="ok"){const v=[];for(let S=0;S<i.length;S++)i[S].status=2,b=b.concat(Ri(a.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&v.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();hc(a,ad(a.transactionQueueTree_,t)),cd(a,a.transactionQueueTree_),rn(a.eventQueue_,t,b);for(let S=0;S<v.length;S++)Ta(v[S])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Et("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}_a(a,t)}},h)}function _a(a,t){const i=q0(a,t),l=$l(i),o=V0(a,i);return sx(a,o,l),l}function sx(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=St(i,g.path);let b=!1,v;if(L(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,v=g.abortReason,o=o.concat(Ri(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=QN)b=!0,v="maxretry",o=o.concat(Ri(a.serverSyncTree_,g.currentWriteId,!0));else{const S=B0(a,g.path,h);g.currentInputSnapshot=S;const U=t[m].update(S.val());if(U!==void 0){cc("transaction failed: Data returned ",U,g.path);let j=et(U);typeof U=="object"&&U!=null&&Tn(U,".priority")||(j=j.updatePriority(S.getPriority()));const he=g.currentWriteId,Ee=fc(a),Ue=R0(j,S,Ee);g.currentOutputSnapshotRaw=j,g.currentOutputSnapshotResolved=Ue,g.currentWriteId=od(a),h.splice(h.indexOf(he),1),o=o.concat(T0(a.serverSyncTree_,g.path,Ue,g.currentWriteId,g.applyLocally)),o=o.concat(Ri(a.serverSyncTree_,he,!0))}else b=!0,v="nodata",o=o.concat(Ri(a.serverSyncTree_,g.currentWriteId,!0))}rn(a.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(v==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(v),!1,null))))}hc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)Ta(l[m]);cd(a,a.transactionQueueTree_)}function q0(a,t){let i,l=a.transactionQueueTree_;for(i=ie(t);i!==null&&wa(l)===void 0;)l=ad(l,i),t=ke(t),i=ie(t);return l}function V0(a,t){const i=[];return G0(a,t,i),i.sort((l,o)=>l.order-o.order),i}function G0(a,t,i){const l=wa(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);oc(t,o=>{G0(a,o,i)})}function hc(a,t){const i=wa(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,O0(t,i.length>0?i:void 0)}oc(t,l=>{hc(a,l)})}function ud(a,t){const i=$l(q0(a,t)),l=ad(a.transactionQueueTree_,t);return IN(l,o=>{Kf(a,o)}),Kf(a,l),M0(l,o=>{Kf(a,o)}),i}function Kf(a,t){const i=wa(t);if(i){const l=[];let o=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(L(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(L(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Ri(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?O0(t,void 0):i.length=f+1,rn(a.eventQueue_,$l(t),o);for(let h=0;h<l.length;h++)Ta(l[h])}}function ax(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function lx(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Et(`Invalid query segment '${i}' in query '${a}'`)}return t}const Ny=function(a,t){const i=rx(a),l=i.namespace;i.domain==="firebase.com"&&Zn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||gw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Yv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new De(i.pathString)}},rx=function(a){let t="",i="",l="",o="",f="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let b=a.indexOf("/");b===-1&&(b=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),t=a.substring(0,Math.min(b,v)),b<v&&(o=ax(a.substring(b,v)));const S=lx(a.substring(Math.min(a.length,v)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const U=t.slice(0,p);if(U.toLowerCase()==="localhost")i="localhost";else if(U.split(".").length<=2)i=U;else{const j=t.indexOf(".");l=t.substring(0,j).toLowerCase(),i=t.substring(j+1),f=l}"ns"in S&&(f=S.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};const xy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ox=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=xy.charAt(i%64),i=Math.floor(i/64);L(i===0,"Cannot push at time == 0");let h=f.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=xy.charAt(t[o]);return L(h.length===20,"nextPushId: Length should be 20."),h}})();class cx{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class ux{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class P0{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class fd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return re(this._path)?null:jh(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const t=dy(this._queryParams),i=kh(t);return i==="{}"?"default":i}get _queryObject(){return dy(this._queryParams)}isEqual(t){if(t=It(t),!(t instanceof fd))return!1;const i=this._repo===t._repo,l=Hh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+$w(this._path)}}class Wn extends fd{constructor(t,i){super(t,i,new Gh,!1)}get parent(){const t=e0(this._path);return t===null?null:new Wn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Vl{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new De(t),l=Gl(this.ref,t);return new Vl(this._node.getChild(i),l,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Vl(o,Gl(this.ref,l),Ge)))}hasChild(t){const i=new De(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yt(a,t){return a=It(a),a._checkNotDeleted("ref"),t!==void 0?Gl(a._root,t):a._root}function Gl(a,t){return a=It(a),ie(a._path)===null?qN("child","path",t):U0("child","path",t),new Wn(a._repo,Ve(a._path,t))}function Ry(a,t){a=It(a),L0("push",a._path),k0("push",t,a._path,!0);const i=H0(a._repo),l=ox(i),o=Gl(a,l),f=Gl(a,l);let h;return h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function Cl(a,t){a=It(a),L0("set",a._path),k0("set",t,a._path,!1);const i=new Pl;return WN(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function ia(a,t){BN("update",t,a._path);const i=new Pl;return JN(a._repo,a._path,t,i.wrapCallback(()=>{})),i.promise}function Oy(a){a=It(a);const t=new P0(()=>{}),i=new dc(t);return ZN(a._repo,a,i).then(l=>new Vl(l,new Wn(a._repo,a._path),a._queryParams.getIndex()))}class dc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new cx("value",this,new Vl(t.snapshotNode,new Wn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new ux(this,t,i):null}matches(t){return t instanceof dc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fx(a,t,i,l,o){const f=new P0(i,void 0),h=new dc(f);return ex(a._repo,a,h),()=>tx(a._repo,a,h)}function Dy(a,t,i,l){return fx(a,"value",t)}fN(Wn);gN(Wn);const hx="FIREBASE_DATABASE_EMULATOR_HOST",yh={};let dx=!1;function mx(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),h=va(f);a.repoInfo_=new Yv(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function px(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=Ny(f,o),m=h.repoInfo,g;typeof process<"u"&&K_&&(g=K_[hx]),g?(f=`http://${g}?ns=${m.namespace}`,h=Ny(f,o),m=h.repoInfo):h.repoInfo.secure;const p=new Nw(a.name,a.options,t);VN("Invalid Firebase Database URL",h),re(h.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=_x(m,a,p,new Aw(a,i));return new yx(b,a)}function gx(a,t){const i=yh[t];(!i||i[a.key]!==a)&&Zn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),nx(a),delete i[a.key]}function _x(a,t,i,l){let o=yh[t.name];o||(o={},yh[t.name]=o);let f=o[a.toURLString()];return f&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new FN(a,dx,i,l),o[a.toURLString()]=f,f}class yx{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zn("Cannot call "+t+" on a deleted database.")}}function vx(a=Zy(),t){const i=wh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=kS("database");l&&bx(i,...l)}return i}function bx(a,t,i,l={}){a=It(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&cs(l,f.repoInfo_.emulatorOptions))return;Zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new No(No.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:US(l.mockUserToken,a.app.options.projectId);h=new No(m)}va(t)&&(Gy(t),Py("Database",!0)),mx(f,o,l,h)}function Sx(a){uw(Sa),ha(new us("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return px(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),Mi(Z_,W_,a),Mi(Z_,W_,"esm2020")}const Ex={".sv":"timestamp"};function Tx(){return Ex}Qn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Qn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};Sx();const Y0=(...a)=>a.filter((t,i,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===i).join(" ").trim();const Cx=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wx=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,l)=>l?l.toUpperCase():i.toLowerCase());const My=a=>{const t=wx(a);return t.charAt(0).toUpperCase()+t.slice(1)};var Ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nx=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const xx=Se.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:f,iconNode:h,...m},g)=>Se.createElement("svg",{ref:g,...Ax,width:t,height:t,stroke:a,strokeWidth:l?Number(i)*24/Number(t):i,className:Y0("lucide",o),...!f&&!Nx(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,b])=>Se.createElement(p,b)),...Array.isArray(f)?f:[f]]));const Ft=(a,t)=>{const i=Se.forwardRef(({className:l,...o},f)=>Se.createElement(xx,{ref:f,iconNode:t,className:Y0(`lucide-${Cx(My(a))}`,`lucide-${a}`,l),...o}));return i.displayName=My(a),i};const Rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ox=Ft("circle-alert",Rx);const Dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Iy=Ft("clock",Dx);const Mx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ix=Ft("external-link",Mx);const kx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ux=Ft("eye",kx);const Lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zx=Ft("globe",Lx);const jx=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Hx=Ft("instagram",jx);const Bx=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],qx=Ft("music",Bx);const Vx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gx=Ft("send",Vx);const Px=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yx=Ft("settings",Px);const Qx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fx=Ft("shield",Qx);const Xx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Eo=Ft("user",Xx);const Kx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Zx=Ft("volume-2",Kx);const Wx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zf=Ft("x",Wx),Jx={apiKey:"AIzaSyAecJM4hjOQr66Q9I_du0yKtsD85pA6Ouc",authDomain:"spy1-54fd6.firebaseapp.com",databaseURL:"https://spy1-54fd6-default-rtdb.firebaseio.com",projectId:"spy1-54fd6",storageBucket:"spy1-54fd6.firebasestorage.app",messagingSenderId:"1071288978857",appId:"1:1071288978857:web:d57097d2f09d5567db88b8",measurementId:"G-6P58X8V347"},Q0=Ky(Jx),ky=ow(Q0),vt=vx(Q0),$x=typeof __app_id<"u"?__app_id:"spy-game-v2",e2=$x.replace(/[.#$[\]]/g,"_"),bt=`artifacts/${e2}/public/data/rooms`,Uy=[" ","  ","   "," ","  "," "," "," "," "," "," ","  "," "," "," "],t2="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Kevin_MacLeod/Impact/Kevin_MacLeod_-_Impact_Moderato.mp3";function n2(){const[a,t]=Se.useState(null),[i,l]=Se.useState("loading"),[o,f]=Se.useState([]),[h,m]=Se.useState(null),[g,p]=Se.useState({}),[b,v]=Se.useState(localStorage.getItem("spy_noir_name")||""),[S,U]=Se.useState(""),[j,Q]=Se.useState([]),[he,Ee]=Se.useState(0),[Ue,Ae]=Se.useState(null),[Ze,kt]=Se.useState(null),[nt,ne]=Se.useState(!1),[pt,Ut]=Se.useState(!1),[Jn,Lt]=Se.useState(!1),[We,gn]=Se.useState(null),[Je,Ct]=Se.useState(()=>{const z=localStorage.getItem("spy_settings");return z?JSON.parse(z):{sound:!0,music:!0,lang:"ar"}}),[O,H]=Se.useState(()=>{const z=localStorage.getItem("spy_stats");return z?JSON.parse(z):{cases:0,wins:0,losses:0,level:0}}),Y=Se.useRef(null);Se.useEffect(()=>{localStorage.setItem("spy_settings",JSON.stringify(Je)),Y.current&&(Y.current.muted=!Je.music,Y.current.volume=.4)},[Je]),Se.useEffect(()=>{localStorage.setItem("spy_stats",JSON.stringify(O))},[O]),Se.useEffect(()=>(YT(ky),WT(ky,z=>{z&&(t(z),l(localStorage.getItem("spy_noir_name")?"main":"setup"))})),[]),Se.useEffect(()=>{if(!a)return;const z=yt(vt,bt);return Dy(z,ue=>{const K=ue.val();if(K){const me=Object.entries(K).map(([He,Xt])=>({id:He,...Xt})).filter(He=>He.status==="waiting");f(me)}else f([])})},[a]),Se.useEffect(()=>{if(!a||!h?.id)return;const z=yt(vt,`${bt}/${h.id}`);return Dy(z,ue=>{const K=ue.val();if(!K){l("lobby");return}const me=h?.currentTurnIndex;if(m(He=>({...He,...K})),p(K.players||{}),Q(K.messages?Object.values(K.messages):[]),K.status==="briefing"&&i!=="briefing"&&(l("briefing"),ne(!1)),K.status==="investigating"&&(i!=="game"&&l("game"),me!==void 0&&me!==K.currentTurnIndex)){const He=K.players[K.playerOrder[K.currentTurnIndex]]?.name;kt(He),setTimeout(()=>kt(null),2e3)}K.status==="voting"&&i!=="voting"&&(l("voting"),Ae(null)),K.status==="finished"&&i!=="results"&&(be(K),l("results"))})},[a,h?.id,i]),Se.useEffect(()=>{if((i==="game"||i==="voting")&&h?.status){const z=setInterval(()=>{const ue=Date.now(),K=i==="game"?h.turnEndTime:h.votingEndTime,me=Math.max(0,Math.ceil((K-ue)/1e3));Ee(me),me===0&&h.host===a.uid&&(i==="game"&&q(),i==="voting"&&te())},500);return()=>clearInterval(z)}},[i,h?.turnEndTime,h?.votingEndTime]);const be=z=>{const ue=z.spy===a.uid,K=ue&&z.winner==="spy"||!ue&&z.winner==="detectives";H(me=>{const He=(me.cases||0)+1,Xt=K?(me.wins||0)+1:me.wins||0;return{...me,cases:He,wins:Xt,level:Math.floor(He/5)}})},Te=async()=>{const z=yt(vt,bt),ue=Ry(z),K={name:`  ${b}`,host:a.uid,status:"waiting",players:{[a.uid]:{uid:a.uid,name:b,stats:O}}};await Cl(ue,K),m({id:ue.key,...K}),l("room")},T=async z=>{const ue=yt(vt,`${bt}/${z.id}/players/${a.uid}`);await Cl(ue,{uid:a.uid,name:b,stats:O}),m(z),l("room")},k=async()=>{const z=Object.values(g);if(z.length<3)return;const ue=z[Math.floor(Math.random()*z.length)].uid,K=Uy[Math.floor(Math.random()*Uy.length)];await ia(yt(vt,`${bt}/${h.id}`),{status:"briefing",topic:K,spy:ue,playerOrder:z.map(me=>me.uid).sort(()=>Math.random()-.5),currentTurnIndex:0,round:1,votes:{},readyPlayers:{}})},B=async()=>{const z=yt(vt,`${bt}/${h.id}/readyPlayers/${a.uid}`);await Cl(z,!0);const K=(await Oy(yt(vt,`${bt}/${h.id}`))).val(),me=Object.keys(K.readyPlayers||{}).length,He=Object.keys(K.players).length;me===He&&K.status==="briefing"&&await ia(yt(vt,`${bt}/${h.id}`),{status:"investigating",turnEndTime:Date.now()+2e4})},q=async()=>{const z=h.currentTurnIndex+1,ue=h.playerOrder;z>=ue.length?h.round===1?await ia(yt(vt,`${bt}/${h.id}`),{currentTurnIndex:0,round:2,turnEndTime:Date.now()+2e4}):await ia(yt(vt,`${bt}/${h.id}`),{status:"voting",votingEndTime:Date.now()+2e4}):await ia(yt(vt,`${bt}/${h.id}`),{currentTurnIndex:z,turnEndTime:Date.now()+2e4})},W=async z=>{Ue||(Ae(z),await Cl(yt(vt,`${bt}/${h.id}/votes/${a.uid}`),z))},te=async()=>{const ue=(await Oy(yt(vt,`${bt}/${h.id}`))).val(),K=ue.votes||{},me={};Object.values(K).forEach(qi=>{me[qi]=(me[qi]||0)+1});let He=null,Xt=-1;Object.entries(me).forEach(([qi,_s])=>{_s>Xt&&(Xt=_s,He=qi)});const mc=He===ue.spy;await ia(yt(vt,`${bt}/${h.id}`),{status:"finished",winner:mc?"detectives":"spy"})},de=async()=>{if(!S.trim())return;const z=Ry(yt(vt,`${bt}/${h.id}/messages`));await Cl(z,{sender:b,text:S,timestamp:Tx(),uid:a.uid}),U("")},rt=()=>{l("main"),m(null),Ae(null)},ye=({onClick:z,children:ue,variant:K="gold",className:me="",disabled:He=!1})=>{const Xt={gold:"bg-[#f4d47c] text-black border-b-4 border-[#b8953c]",danger:"bg-[#e54545] text-white border-b-4 border-[#a32828]",dark:"bg-[#1a1c2c] text-[#f4d47c] border-2 border-[#333752]",ready:"bg-green-600 text-white border-b-4 border-green-800"};return w.jsx("button",{disabled:He,onClick:z,className:`px-6 py-3 rounded font-black uppercase active:translate-y-1 transition-all flex items-center justify-center gap-2 ${Xt[K]} ${me} ${He?"opacity-50 grayscale":""}`,children:ue})},Cn=({title:z,onClose:ue,children:K})=>w.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-6 backdrop-blur-md",children:w.jsxs("div",{className:"w-full max-w-sm bg-[#1a1c2c] border-4 border-[#f4d47c] rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#f4d47c]"}),w.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-[#333752] pb-4",children:[w.jsx("h2",{className:"text-[#f4d47c] text-2xl font-black italic flex items-center gap-2",children:z}),w.jsx("button",{onClick:ue,className:"text-gray-500 hover:text-white",children:w.jsx(Zf,{})})]}),K,w.jsx(ye,{className:"w-full mt-8",onClick:ue,children:""})]})});if(i==="loading")return w.jsx("div",{className:"h-full min-h-screen bg-black flex items-center justify-center text-[#f4d47c] font-black italic animate-pulse tracking-widest",children:"   ..."});if(i==="setup")return w.jsx("div",{className:"h-full min-h-screen bg-[#0d0e17] flex items-center justify-center p-6",children:w.jsxs("div",{className:"w-full max-w-sm bg-[#1a1c2c] p-8 border-2 border-[#333752] rounded-xl text-center",children:[w.jsx("h2",{className:"text-[#f4d47c] font-black mb-6 uppercase tracking-widest",children:"  "}),w.jsx("input",{value:b,onChange:z=>v(z.target.value),maxLength:12,className:"w-full p-4 bg-black border-2 border-[#333752] text-white text-center rounded mb-6 outline-none focus:border-[#f4d47c] font-black"}),w.jsx(ye,{className:"w-full",onClick:()=>{b.trim()&&(localStorage.setItem("spy_noir_name",b),l("main"))},children:" "})]})});if(i==="main")return w.jsxs("div",{className:"h-full min-h-screen bg-black flex flex-col items-center justify-center p-6 relative overflow-hidden",dir:"rtl",children:[w.jsx("audio",{ref:Y,src:t2,autoPlay:!0,loop:!0}),w.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center pointer-events-none",style:{backgroundImage:"url('https://spyfall.co/imgs/medium-banner.webp')"}}),w.jsxs("div",{className:"absolute top-6 left-6 right-6 flex justify-between z-20",children:[w.jsx("button",{onClick:()=>Lt(!0),className:"w-12 h-12 bg-[#1a1c2c] border-2 border-[#333752] rounded-full flex items-center justify-center text-[#f4d47c] hover:border-[#f4d47c] transition-all shadow-lg",children:w.jsx(Eo,{})}),w.jsx("button",{onClick:()=>Ut(!0),className:"w-12 h-12 bg-[#1a1c2c] border-2 border-[#333752] rounded-full flex items-center justify-center text-[#f4d47c] hover:border-[#f4d47c] transition-all shadow-lg",children:w.jsx(Yx,{})})]}),pt&&w.jsx(Cn,{title:"",onClose:()=>Ut(!1),children:w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-3 text-white font-bold",children:[w.jsx(Zx,{size:20})," "]}),w.jsx("input",{type:"checkbox",checked:Je.sound,onChange:()=>Ct({...Je,sound:!Je.sound}),className:"w-12 h-6 appearance-none bg-black border-2 border-[#333752] rounded-full checked:bg-[#f4d47c] relative cursor-pointer before:absolute before:w-4 before:h-4 before:bg-white before:rounded-full before:top-0.5 before:left-0.5 checked:before:translate-x-6 transition-all"})]}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-3 text-white font-bold",children:[w.jsx(qx,{size:20})," "]}),w.jsx("input",{type:"checkbox",checked:Je.music,onChange:()=>Ct({...Je,music:!Je.music}),className:"w-12 h-6 appearance-none bg-black border-2 border-[#333752] rounded-full checked:bg-[#f4d47c] relative cursor-pointer before:absolute before:w-4 before:h-4 before:bg-white before:rounded-full before:top-0.5 before:left-0.5 checked:before:translate-x-6 transition-all"})]}),w.jsx("div",{className:"pt-4 border-t border-[#333752]",children:w.jsxs("a",{href:"https://www.instagram.com/zg22x/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-black/40 rounded-xl border border-[#333752] hover:border-[#f4d47c] transition-all group",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Hx,{size:20,className:"text-[#f4d47c]"}),w.jsx("div",{className:"text-white font-black text-sm",children:"zg22x"})]}),w.jsx(Ix,{size:16,className:"text-gray-600"})]})})]})}),Jn&&w.jsxs(Cn,{title:" ",onClose:()=>Lt(!1),children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("div",{className:"w-20 h-20 bg-[#f4d47c] rounded-full mx-auto flex items-center justify-center text-black mb-4 shadow-xl",children:w.jsx(Eo,{size:40})}),w.jsx("div",{className:"text-white text-xl font-black",children:b}),w.jsxs("div",{className:"text-[#f4d47c] text-xs font-bold uppercase tracking-widest",children:[" ",O.level||0]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-black/50 p-4 rounded-xl border border-[#333752] text-center",children:[w.jsx("div",{className:"text-2xl font-black text-white",children:O.cases||0}),w.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-black",children:""})]}),w.jsxs("div",{className:"bg-black/50 p-4 rounded-xl border border-[#333752] text-center",children:[w.jsx("div",{className:"text-2xl font-black text-green-500",children:O.wins||0}),w.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-black",children:""})]})]})]}),w.jsxs("div",{className:"relative z-10 text-center scale-90 sm:scale-100",children:[w.jsx("h1",{className:"text-6xl sm:text-7xl md:text-9xl font-black text-[#f4d47c] italic border-8 border-[#f4d47c] p-6 mb-12 tracking-tighter shadow-[0_0_60px_rgba(244,212,124,0.3)]",children:"SPYFALL"}),w.jsx(ye,{className:"w-64 sm:w-72 py-6 text-2xl shadow-[0_10px_0_#b8953c]",onClick:()=>l("lobby"),children:" "})]}),w.jsx("div",{className:"absolute bottom-8 text-[9px] text-gray-600 font-black tracking-[0.5em] uppercase opacity-50",children:"by: ZG22X"})]});if(i==="lobby")return w.jsxs("div",{className:"h-full min-h-screen bg-[#0d0e17] text-white flex flex-col p-6",dir:"rtl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-[#f4d47c] font-black italic uppercase tracking-widest text-2xl",children:"  "}),w.jsx("button",{onClick:()=>l("main"),className:"bg-[#1a1c2c] p-3 rounded-full border border-[#333752] text-gray-400",children:w.jsx(Zf,{size:20})})]}),w.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:o.length===0?w.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 italic text-center gap-4 py-20",children:[w.jsx(zx,{size:48,className:"animate-pulse"}),w.jsx("p",{children:"    ...   "})]}):o.map(z=>w.jsxs("div",{className:"bg-[#1a1c2c] p-6 rounded-2xl border-2 border-[#333752] flex justify-between items-center hover:border-[#f4d47c] transition-all group",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-black text-[#f4d47c] text-xl italic group-hover:translate-x-1 transition-transform",children:z.name}),w.jsxs("div",{className:"text-[10px] opacity-60 font-bold flex items-center gap-2 mt-1",children:[w.jsx(Eo,{size:12})," ",Object.keys(z.players||{}).length,"  "]})]}),w.jsx(ye,{variant:"dark",className:"!py-2 !px-6 text-xs",onClick:()=>T(z),children:""})]},z.id))}),w.jsx(ye,{className:"mt-8 w-full py-5 text-xl",onClick:Te,children:"   "})]});if(i==="room")return w.jsxs("div",{className:"h-full min-h-screen bg-[#0d0e17] text-white p-6 flex flex-col",dir:"rtl",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[w.jsx("button",{onClick:()=>l("lobby"),className:"text-gray-500",children:w.jsx(Zf,{})}),w.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-[#f4d47c] italic uppercase border-b-4 border-[#f4d47c] pb-1 truncate",children:h?.name})]}),w.jsx("div",{className:"flex-1 grid grid-cols-2 gap-4 content-start overflow-y-auto",children:Object.values(g).map(z=>w.jsxs("div",{onClick:()=>z.uid!==a.uid&&gn(z),className:`p-6 bg-[#1a1c2c] border-2 rounded-2xl text-center font-black relative overflow-hidden transition-all cursor-pointer ${z.uid===a?.uid?"border-[#f4d47c] shadow-[0_0_15px_rgba(244,212,124,0.1)]":"border-[#333752]"}`,children:[w.jsx("span",{className:"text-lg block truncate",children:z.name}),w.jsxs("div",{className:"text-[9px] text-gray-500 mt-1 uppercase",children:["LVL ",z.stats?.level||0]}),z.uid===h.host&&w.jsx("div",{className:"absolute top-0 right-0 bg-[#f4d47c] text-black text-[8px] px-3 py-0.5 font-black uppercase rotate-45 translate-x-3 translate-y-1",children:"Host"})]},z.uid))}),We&&w.jsx(Cn,{title:" ",onClose:()=>gn(null),children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white text-2xl font-black mb-2",children:We.name}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-black/40 p-3 rounded-lg",children:[w.jsx("div",{className:"text-xs text-gray-500",children:""}),w.jsx("div",{className:"text-xl text-white",children:We.stats?.cases||0})]}),w.jsxs("div",{className:"bg-black/40 p-3 rounded-lg",children:[w.jsx("div",{className:"text-xs text-gray-500",children:""}),w.jsx("div",{className:"text-xl text-green-500",children:We.stats?.wins||0})]})]})]})}),w.jsxs("div",{className:"pt-8 space-y-4",children:[h?.host===a.uid&&w.jsx(ye,{className:"w-full py-5 text-xl",onClick:k,disabled:Object.keys(g).length<3,children:Object.keys(g).length>=3?"  ":"  ..."}),w.jsx("button",{onClick:()=>l("lobby"),className:"w-full text-red-500 font-black uppercase text-sm py-2 hover:bg-red-500/5 transition-all",children:" "})]})]});if(i==="briefing"){const z=h.readyPlayers?.[a.uid],ue=h.spy===a.uid;return w.jsx("div",{className:"h-full min-h-screen bg-black flex flex-col items-center justify-center p-8 text-center overflow-y-auto",dir:"rtl",children:w.jsxs("div",{className:"max-w-md w-full bg-[#1a1c2c] p-6 sm:p-10 border-4 border-[#f4d47c] rounded-[2rem] shadow-2xl relative min-h-[500px] flex flex-col justify-between overflow-hidden",children:[w.jsxs("div",{className:"absolute top-4 right-6 text-[10px] text-red-600 font-black tracking-widest animate-pulse flex items-center gap-1",children:[w.jsx(Ox,{size:12})," TOP SECRET"]}),w.jsx("h2",{className:"text-[#f4d47c] text-3xl sm:text-4xl font-black mb-10 italic",children:" "}),nt?w.jsx("div",{className:"flex-1 space-y-8 mb-12 animate-in zoom-in slide-in-from-top-10 duration-700 py-10",children:ue?w.jsxs("div",{children:[w.jsx("p",{className:"text-[#e54545] font-black text-5xl sm:text-6xl italic mb-4 drop-shadow-[0_4px_10px_rgba(229,69,69,0.5)]",children:" "}),w.jsx("p",{className:"text-gray-400 font-bold leading-relaxed text-lg italic",children:"   .         ."})]}):w.jsxs("div",{children:[w.jsx("p",{className:"text-[#45e545] font-black text-2xl sm:text-3xl mb-4",children:"  "}),w.jsxs("div",{className:"bg-black/60 p-6 sm:p-8 rounded-2xl border-2 border-dashed border-[#f4d47c] shadow-inner",children:[w.jsx("p",{className:"text-gray-500 text-xs mb-3 uppercase font-black tracking-[0.2em]",children:" "}),w.jsx("p",{className:"text-[#f4d47c] font-black text-3xl sm:text-5xl drop-shadow-[0_0_10px_rgba(244,212,124,0.4)]",children:h.topic})]})]})}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center group py-10",children:[w.jsxs("div",{onClick:()=>ne(!0),className:"w-56 h-40 sm:w-64 sm:h-44 bg-[#e2ccb0] border-2 border-[#c5a681] rounded-lg shadow-2xl relative cursor-pointer transform hover:-translate-y-2 transition-transform duration-500 flex items-center justify-center",children:[w.jsx("div",{className:"absolute top-0 w-full h-1/2 bg-[#d4b998] rounded-t-lg border-b-2 border-black/10 origin-top"}),w.jsx("div",{className:"w-16 h-16 bg-red-700 rounded-full border-4 border-red-900 shadow-xl z-10 flex items-center justify-center text-[#f4d47c] font-black italic text-xl group-hover:scale-110 transition-transform",children:"SPY"}),w.jsx("div",{className:"absolute bottom-4 text-[10px] text-black/40 font-black uppercase tracking-widest",children:"  "})]}),w.jsx("p",{className:"mt-8 text-gray-500 font-bold italic animate-pulse",children:"   .."})]}),w.jsx(ye,{variant:z?"dark":"ready",className:"w-full py-5 text-xl sm:text-2xl",onClick:B,disabled:z||!nt,children:z?"  ...":nt?" ":"  "})]})})}if(i==="game"){const z=h.playerOrder[h.currentTurnIndex]===a.uid,ue=g[h.playerOrder[h.currentTurnIndex]]?.name;return w.jsxs("div",{className:"h-full min-h-screen bg-[#0d0e17] text-white flex flex-col relative overflow-hidden",dir:"rtl",children:[Ze&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-6",children:w.jsxs("div",{className:"bg-[#f4d47c] text-black px-8 py-6 sm:px-12 sm:py-8 border-[10px] border-black shadow-[0_0_100px_rgba(244,212,124,0.6)] transform -rotate-3 animate-in zoom-in slide-in-from-top-10 duration-300",children:[w.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] mb-2 opacity-70",children:" "}),w.jsx("div",{className:"text-4xl sm:text-6xl font-black italic uppercase",children:Ze})]})}),w.jsxs("div",{className:"flex justify-between items-center bg-[#1a1c2c] p-4 sm:p-5 border-b-2 border-[#333752] shadow-xl",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-4 h-4 rounded-full ${z?"bg-green-500 shadow-[0_0_10px_green]":"bg-gray-700 animate-pulse"}`}),w.jsxs("div",{className:"font-black text-base sm:text-lg text-[#f4d47c] italic tracking-tight truncate max-w-[150px]",children:[": ",ue]})]}),w.jsxs("div",{className:"text-2xl sm:text-4xl font-black text-[#e54545] tabular-nums flex items-center gap-2 drop-shadow-[0_0_5px_rgba(229,69,69,0.3)]",children:[w.jsx(Iy,{size:24})," ",he,"s"]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-6 bg-black/40",children:j.map((K,me)=>w.jsx("div",{className:`flex flex-col ${K.uid===a.uid?"items-start":"items-end"} animate-in fade-in slide-in-from-bottom-2`,children:w.jsxs("div",{className:`p-4 sm:p-5 rounded-3xl max-w-[85%] shadow-2xl relative ${K.uid===a.uid?"bg-[#f4d47c] text-black rounded-tr-none":"bg-[#1a1c2c] border-2 border-[#333752] text-white rounded-tl-none"}`,children:[w.jsxs("div",{className:"text-[10px] font-black uppercase opacity-50 mb-2 flex items-center gap-2",children:[w.jsx(Eo,{size:12})," ",K.sender]}),w.jsx("p",{className:"font-bold text-lg sm:text-xl leading-relaxed",children:K.text})]})},me))}),w.jsxs("div",{className:"p-4 sm:p-5 bg-[#1a1c2c] border-t-4 border-[#f4d47c] space-y-4 shadow-[0_-15px_40px_rgba(0,0,0,0.6)]",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{disabled:!z,value:S,onChange:K=>U(K.target.value),onKeyPress:K=>K.key==="Enter"&&de(),placeholder:z?"  ...":`   ${ue}...`,className:"flex-1 p-4 sm:p-5 bg-black border-2 border-[#333752] rounded-2xl text-white outline-none focus:border-[#f4d47c] font-black text-base sm:text-lg disabled:opacity-30"}),w.jsx("button",{onClick:de,disabled:!z,className:"bg-[#f4d47c] text-black p-4 sm:p-5 rounded-2xl hover:bg-white transition-all disabled:opacity-30 shadow-lg active:translate-y-1",children:w.jsx(Gx,{size:24})})]}),z&&w.jsx(ye,{className:"w-full py-2 text-sm",variant:"dark",onClick:q,children:"  "}),w.jsx("div",{className:"text-[10px] text-center text-[#f4d47c] font-black italic tracking-[0.2em]",children:h.spy===a.uid?"  ..   ":` : ${h.topic}`})]})]})}if(i==="voting")return w.jsxs("div",{className:"h-full min-h-screen bg-[#0d0e17] flex flex-col p-6 items-center justify-center overflow-y-auto",dir:"rtl",children:[w.jsxs("div",{className:"text-[#e54545] text-4xl sm:text-6xl font-black mb-6 sm:mb-10 animate-pulse flex items-center gap-4",children:[w.jsx(Iy,{size:48})," ",he,"s"]}),w.jsxs("div",{className:"w-full max-w-md bg-[#1a1c2c] p-6 sm:p-10 border-4 border-[#e54545] rounded-[2.5rem] text-center shadow-[0_0_60px_rgba(229,69,69,0.4)]",children:[w.jsx("h2",{className:"text-[#f4d47c] text-3xl sm:text-4xl font-black italic underline mb-4",children:" "}),w.jsx("p",{className:"text-gray-500 font-bold mb-10 text-lg italic",children:"   "}),w.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.values(g).map(z=>w.jsxs("button",{disabled:Ue!==null,onClick:()=>W(z.uid),className:`p-4 sm:p-6 rounded-2xl font-black text-xl sm:text-2xl border-4 transition-all flex justify-between items-center group ${Ue===z.uid?"bg-[#e54545] text-white border-white scale-95 shadow-inner":"bg-[#f4d47c] text-black border-[#b8953c] hover:bg-white"}`,children:[w.jsx("span",{className:"truncate",children:z.name}),Ue===z.uid?w.jsx(Fx,{size:28,className:"animate-in fade-in"}):w.jsx(Ux,{size:20,className:"text-black/30 group-hover:text-black transition-colors"})]},z.uid))})]})]});if(i==="results"){const z=h.winner==="spy";return w.jsxs("div",{className:"h-full min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:[w.jsxs("div",{className:"relative w-full max-w-2xl overflow-hidden rounded-[2rem] border-4 border-[#f4d47c] mb-8 shadow-[0_0_80px_rgba(244,212,124,0.2)]",children:[w.jsx("img",{src:z?"https://via.placeholder.com/800x450/e54545/ffffff?text=SPY+WIN":"https://via.placeholder.com/800x450/45e545/000000?text=DETECTIVES+WIN",alt:"Result",className:"w-full h-auto object-cover opacity-90 animate-in fade-in zoom-in duration-1000"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/20"}),w.jsx("div",{className:"absolute bottom-6 left-0 right-0 p-4",children:w.jsx("h2",{className:`text-4xl sm:text-5xl md:text-7xl font-black italic drop-shadow-[0_5px_15px_rgba(0,0,0,0.9)] ${z?"text-[#e54545]":"text-green-500"}`,children:z?" ":"  "})})]}),w.jsxs("div",{className:"bg-[#1a1c2c] p-8 rounded-3xl border-2 border-[#333752] w-full max-w-md space-y-6 mb-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"text-gray-500 text-xs font-black uppercase tracking-widest",children:" "}),w.jsx("div",{className:"text-[#f4d47c] text-3xl font-black italic",children:g[h.spy]?.name})]}),w.jsxs("div",{className:"pt-4 border-t border-[#333752] space-y-2",children:[w.jsx("div",{className:"text-gray-500 text-xs font-black uppercase tracking-widest",children:" "}),w.jsx("div",{className:"text-white text-2xl font-black",children:h.topic})]})]}),w.jsx("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md",children:w.jsx(ye,{className:"flex-1 py-4",onClick:rt,children:" "})})]})}return null}CS.createRoot(document.getElementById("root")).render(w.jsx(Se.StrictMode,{children:w.jsx(n2,{})}));
